{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 1042d49b130c1a6bead7","webpack:///./src/components/picker/index.less","webpack:///./src/components/componentManger/index.js","webpack:///./src/components/dialog/index.less","webpack:///./src/components/radiolist/index.js","webpack:///./src/components/popup/index.less","webpack:///./src/components/tooltip/index.less","webpack:///./src/components/scroller/index.js","webpack:///./src/components/popManager/index.js","webpack:///./src/components/spin/index.js","webpack:///./src/components/popover/index.less","webpack:///./src/components/eventclass/index.js","webpack:///./src/components/picker/index.js","webpack:///./src/components/picker/index.html","webpack:///./src/common/util/scroller.js","webpack:///./src/components/checklist/index.js","webpack:///./src/components/actionsheet/index.js","webpack:///./src/components/popup/index.js","webpack:///./src/index.less","webpack:///./src/components/tooltip/index.js","webpack:///./src/components/actionsheet/index.less","webpack:///./src/common/util/animate.js","webpack:///./src/components/popManager/index.less","webpack:///./src/components/popover/index.js","webpack:///./src/components/actionsheet/index.html","webpack:///./src/components/switch/index.js","webpack:///./src/components/spin/index.html","webpack:///./src/components/spin/index.less","webpack:///./src/index.js","webpack:///./src/components/popbase/index.js","webpack:///./src/common/util/zepto.js","webpack:///./src/common/util/index.js","webpack:///./src/components/dialog/index.js"],"names":["ComponentManger","workers","selector","ret","filter","worker","$wrapper","attr","slice","hasClass","push","callback","data","componentManger","each","index","item","checklist","add","console","log","defaultOptions","Map","RadioList","wrapper","_initDom","id","_className","_createEvent","options","keys","forEach","key","set","get","_bindEvents","window","setTimeout","dispatch","me","on","selected","find","prop","map","val","reduce","memo","old","e","scrollingX","scrollingY","animating","animationDuration","bouncing","locking","paging","snapping","zooming","minZoom","maxZoom","PullToRefresh","PullToRefreshHeight","renderScroll","docStyle","document","documentElement","style","engine","opera","Object","prototype","toString","call","navigator","cpuClass","vendorPrefix","trident","gecko","webkit","presto","helperElem","createElement","undef","perspectiveProperty","transformProperty","content","left","top","zoom","marginLeft","marginTop","EasyScroller","container","parentNode","initScroller","bindEvents","reflow","scrollingComplete","scroller","_render","activatePullToRefresh","finishPullToRefresh","clientWidth","clientHeight","contentWidth","contentHeight","setDimensions","addEventListener","touches","target","tagName","match","doTouchStart","timeStamp","preventDefault","doTouchMove","scale","doTouchEnd","mousedown","pageX","pageY","option","doMouseZoom","wheelDelta","offsetWidth","offsetHeight","rect","getBoundingClientRect","setPosition","clientLeft","clientTop","initZ","popManager","zIndex","modalFade","instances","popStack","hasOverlay","overlayDom","getInstance","register","instance","deregister","nextZIndex","closeCurrentPop","currentPop","length","closeOnClickModal","close","openOverlay","dom","modalClass","i","popLength","popItem","getOverlay","classArr","trim","split","classArrLength","calssIndex","classItem","nodeType","appendChild","body","display","closeOverlay","pop","fixOverlay","splice","removeChild","event","stopPropagation","keyCode","closeOnPressEscape","autoShow","containerClass","text","type","Spin","newOptions","className","innerHTML","warp","transition","_doAfterOpen","_doAfterClose","firstElementChild","lastElementChild","ClassManager","instanceId","Math","random","getNewInstanceId","classManager","ClassBase","_instanceId","EventClass","_handlers","_eventCache","eventName","handler","context","one","newList","l","falseNum","_handler","len","args","apply","eventNames","cache","eventList","ename","fn","bind","concat","Array","Picker","_initScroller","_currentIndex","height","parseInt","NOOP","Scroller","__callback","speedMultiplier","penetrationDeceleration","penetrationAcceleration","hasOwnProperty","easeOutCubic","pos","pow","easeInOutCubic","members","__isSingleTouch","__isTracking","__didDecelerationComplete","__isGesturing","__isDragging","__isDecelerating","__isAnimating","__clientLeft","__clientTop","__clientWidth","__clientHeight","__contentWidth","__contentHeight","__snapWidth","__snapHeight","__refreshHeight","__refreshActive","__refreshActivate","__refreshDeactivate","__refreshStart","__zoomLevel","__scrollLeft","__scrollTop","__maxScrollLeft","__maxScrollTop","__scheduledLeft","__scheduledTop","__scheduledZoom","__lastTouchLeft","__lastTouchTop","__lastTouchMove","__positions","__minDecelerationScrollLeft","__minDecelerationScrollTop","__maxDecelerationScrollLeft","__maxDecelerationScrollTop","__decelerationVelocityX","__decelerationVelocityY","__computeScrollMax","scrollTo","setSnapSize","width","activateCallback","deactivateCallback","startCallback","triggerPullToRefresh","__publish","getValues","getScrollMax","zoomTo","level","animate","originLeft","originTop","Error","__zoomComplete","stop","oldLevel","max","min","zoomBy","factor","round","scrollBy","startLeft","startTop","change","Date","valueOf","__interruptedAnimation","currentTouchLeft","currentTouchTop","isSingleTouch","abs","__initialTouchLeft","__initialTouchTop","__zoomLevelStart","__lastScale","__enableScrollX","__enableScrollY","positions","moveX","moveY","scrollLeft","scrollTop","currentTouchLeftRel","currentTouchTopRel","maxScrollLeft","maxScrollTop","minimumTrackingForScroll","minimumTrackingForDrag","distanceX","distanceY","endPos","startPos","timeOffset","movedLeft","movedTop","minVelocityToStartDeceleration","__startDeceleration","wasAnimating","oldLeft","oldTop","oldZoom","diffLeft","diffTop","diffZoom","step","percent","now","render","verify","completed","renderedFramesPerSecond","animationId","wasFinished","start","zoomLevel","floor","ceil","__stepThroughDeceleration","minVelocityToKeepDecelerating","shouldContinue","scrollLeftFixed","scrollTopFixed","frictionFactor","scrollOutsideX","scrollOutsideY","CheckList","$checklist","$checkedElements","placement","closeClass","modal","backClose","destoryOnClose","cancelText","Actionsheet","dataset","indexOf","contentPosition","Popup","clist","children","Tooltip","root","join","_position","time","desiredFrames","millisecondsPerSecond","running","counter","Animate","requestAnimationFrame","requestFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","isNative","test","TARGET_FPS","requests","requestCount","rafHandle","intervalHandle","lastActive","callbackHandle","setInterval","currentRequests","clearInterval","cleared","isRunning","stepCallback","verifyCallback","completedCallback","duration","easingMethod","lastFrame","dropCounter","newRunning","usedId","virtual","droppedFrames","j","value","action","distance","Popover","show","targetRect","getClientRects","containerRect","right","Switch","Dialog","toast","timeout","config","defaultOption","button","merge","onClose","alert","openDelay","closeDelay","modalAppendToBody","lockScroll","Popbase","_initEvent","isOpened","_closeTimer","clearTimeout","_openTimer","Number","_doOpen","willShow","isOpening","isClosing","closePop","undefined","bodyOverflow","overflow","getComputedStyle","position","_onOpen","_timeout","_doClose","willClose","_onClose","destory","global","factory","Zepto","$","classList","emptyArray","elementDisplay","classCache","cssNumber","fragmentRE","singleTagRE","tagExpanderRE","rootNodeRE","capitalRE","methodAttributes","adjacencyOperators","table","tableRow","containers","simpleSelectorRE","class2type","zepto","camelize","uniq","tempParent","propMap","isArray","object","matches","element","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","parent","temp","qsa","obj","String","isFunction","isWindow","isDocument","DOCUMENT_NODE","isObject","isPlainObject","getPrototypeOf","likeArray","compact","array","flatten","str","replace","chr","toUpperCase","dasherize","toLowerCase","idx","classRE","name","RegExp","maybeAddPx","defaultDisplay","nodeName","getPropertyValue","childNodes","node","Z","fragment","html","properties","nodes","$1","isZ","init","ready","extend","source","deep","arguments","shift","arg","found","maybeID","maybeClass","nameOnly","isSimple","getElementById","getElementsByClassName","getElementsByTagName","querySelectorAll","filtered","contains","funcArg","payload","setAttribute","removeAttribute","klass","svg","baseVal","deserializeValue","parseJSON","isEmptyObject","isNumeric","num","isNaN","isFinite","inArray","elem","camelCase","uuid","support","expr","noop","elements","values","grep","JSON","parse","constructor","sort","toArray","el","readyState","doScroll","removeEventListener","size","remove","every","not","is","excludes","has","eq","first","last","result","$this","some","closest","collection","_","parents","ancestors","pluck","contents","contentDocument","siblings","child","empty","property","replaceWith","newContent","before","wrap","structure","func","clone","wrapAll","cloneNode","append","wrapInner","self","unwrap","hide","css","toggle","setting","prev","next","originHtml","newText","textContent","getAttribute","removeAttr","attribute","removeProp","attrName","multiple","offset","coordinates","coords","parentOffset","offsetParent","props","pageXOffset","pageYOffset","computedStyle","removeProperty","cssText","addClass","cls","newName","removeClass","toggleClass","when","names","hasScrollTop","scrollX","hasScrollLeft","scrollY","parseFloat","detach","dimension","dimensionProperty","m","traverseNode","fun","operator","operatorIndex","inside","argType","arr","copyByClone","nextSibling","firstChild","parentInDocument","insertBefore","src","ownerDocument","defaultView","_zid","isString","handlers","specialEvents","focusinSupported","focus","blur","hover","mouseenter","mouseleave","click","mouseup","mousemove","zid","findHandlers","ns","matcher","matcherFor","sel","parts","eventCapture","captureSetting","del","realEvent","events","delegator","capture","related","relatedTarget","proxy","compatible","isImmediatePropagationStopped","_args","proxyFn","unshift","TypeError","unbind","off","returnTrue","returnFalse","ignoreProperties","eventMethods","stopImmediatePropagation","isDefaultPrevented","predicate","sourceMethod","ignored","defaultPrevented","returnValue","getPreventDefault","createProxy","originalEvent","delegate","undelegate","live","die","autoRemove","evt","currentTarget","liveFired","trigger","Event","dispatchEvent","triggerHandler","createEvent","bubbles","initEvent","jsonpID","rscript","scriptTypeRE","xmlTypeRE","jsonType","htmlType","blankRE","originAnchor","href","location","triggerAndReturn","triggerGlobal","settings","active","ajaxStart","ajaxStop","ajaxBeforeSend","xhr","beforeSend","ajaxSuccess","deferred","status","success","resolveWith","ajaxComplete","ajaxError","error","rejectWith","complete","ajaxDataFilter","dataFilter","ajaxJSONP","ajax","_callbackName","jsonpCallback","callbackName","script","originalCallback","responseData","abort","errorType","abortTimeout","promise","url","head","ajaxSettings","XMLHttpRequest","accepts","json","xml","crossDomain","processData","mimeToDataType","mime","appendQuery","query","serializeData","param","traditional","dataType","Deferred","urlAnchor","hashIndex","protocol","host","hasPlaceholder","jsonp","headers","setHeader","nativeSetHeader","setRequestHeader","mimeType","overrideMimeType","contentType","onreadystatechange","getResponseHeader","responseType","response","responseText","eval","responseXML","statusText","async","open","username","password","xhrFields","send","parseArguments","post","getJSON","load","escape","encodeURIComponent","serialize","params","scope","hash","serializeArray","field","disabled","checked","elm","submit","nativeGetComputedStyle","pseudoElement","Util","curClass","classes","clsName","scrollBarWidth","getScrollBarWidth","outer","visibility","widthNoScroll","inner","widthWithScroll","tpl","code","Function","title","btnhtml","GlobalConf","btnCssMap","getBtnRetId","btnText","mapCss","btnRetId","def","retid"],"mappings":"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","file":"lmui.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"lmfe.ui\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"lmfe.ui\"] = factory();\n\telse\n\t\troot[\"LMUI\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"lVK7\");\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1042d49b130c1a6bead7","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/picker/index.less\n// module id = 4fqs\n// module chunks = 0 1","import $ from '@common/util/zepto';\nimport CheckList from '@components/checklist';\nimport EventClass from '@components/eventclass';\n\nclass ComponentManger extends EventClass {\n  constructor() {\n    super();\n    this.workers = [];\n  }\n\n  get(selector) {\n    let ret;\n    if (selector[0] === '#') {\n      ret = this.workers.filter(worker => worker.$wrapper.attr('id') === selector.slice(1));\n    } else if (selector[0] === '.') {\n      ret = this.workers.filter(worker => worker.$wrapper.hasClass(selector.slice(1)));\n    }\n    return ret;\n  }\n\n  add(worker) {\n    return this.workers.push(worker);\n  }\n\n  ready(callback) {\n    if ($('body').data('constructed') === 1) {\n      callback();\n    } else {\n      this.callback = callback;\n    }\n  }\n}\nconst componentManger = new ComponentManger();\n\n$('.lmui-checklist').each((index, item) => {\n  if (+$(item).data('constructed') !== 1) {\n    const checklist = new CheckList(item);\n    componentManger.add(checklist);\n    console.log(componentManger);\n  }\n});\n$('body').data('constructed', 1);\ncomponentManger.callback && componentManger.callback();\n\nexport default componentManger;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/componentManger/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/dialog/index.less\n// module id = 8stO\n// module chunks = 0 1","/* eslint no-invalid-this: \"off\"*/\nimport $ from '@common/util/zepto';\nimport EventClass from '@components/eventclass';\nconst defaultOptions = new Map();\nclass RadioList extends EventClass {\n  constructor(wrapper) {\n    super();\n    const $wrapper = this._initDom(wrapper);\n    this.id = $wrapper.attr('id');\n    this._className = 'RadioList';\n    this._createEvent('onCreate onChange');\n    const options = new Map();\n    [...defaultOptions.keys()].forEach((key) => {\n      options.set(key, $wrapper.data(key) || defaultOptions.get(key));\n    });\n    this.options = options;\n    this._bindEvents();\n\n    $wrapper.data('constructed', 1);\n    window.setTimeout(() => {\n      this.dispatch('onCreate');\n    }, 0);\n  }\n\n  _initDom(wrapper) {\n    return (this.$wrapper = $(wrapper));\n  }\n\n  _bindEvents() {\n    const me = this;\n\n    me.$wrapper.on('change', function() {\n      const selected = $(this)\n        .find('.lmui-cell input')\n        .filter(function() {\n          return $(this).prop('checked');\n        })\n        .map((index, item) => $(item).val())\n        .reduce((memo, item) => `${memo}${item},`, '');\n\n      const old = $(this).data('selected');\n\n      $(this).data('selected', selected);\n\n      me.dispatch('onChange', selected, old);\n    });\n    me.$wrapper.find('input').on('click', function(e) {\n      me.$wrapper.find('input').prop('checked', false);\n      $(this).prop('checked', true);\n    });\n  }\n}\n\nexport default RadioList;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/radiolist/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/popup/index.less\n// module id = ChPx\n// module chunks = 0 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/tooltip/index.less\n// module id = Ci3j\n// module chunks = 0 1","'use strict';\nimport EventClass from '@components/eventclass';\nimport { merge } from '@common/util';\nimport Scroller from '@common/util/scroller';\nconst defaultOptions = {\n  // 是否支持横向滚动\n  scrollingX: false,\n  // 是否支持竖向滚动\n  scrollingY: true,\n  // 是否开启补间动画（减速，回弹，缩放和滚动动画）\n  animating: true,\n  // 动画时长\n  animationDuration: 250,\n  // 是否开启弹性（无弹性不下拉刷新）\n  bouncing: true,\n  // 是否锁定（如果用户在开始时只轻微移动其中一个，则启用锁定到主轴）\n  locking: true,\n  // 是否启用翻页模式类似于轮播图\n  paging: false,\n  // 是否捕捉用户可用的整数像素值\n  snapping: false,\n  // 是否开启缩放功能\n  zooming: false,\n  // 缩放最小值\n  minZoom: 0.5,\n  // 缩放最大值\n  maxZoom: 3,\n  // 启用下拉刷新\n  PullToRefresh: false,\n  // 下拉刷新高度（像素）\n  PullToRefreshHeight: 50\n};\n\nconst renderScroll = (function() {\n  const docStyle = document.documentElement.style;\n  let engine;\n  if (window.opera && Object.prototype.toString.call(window.opera) === '[object Opera]') {\n    engine = 'presto';\n  } else if ('MozAppearance' in docStyle) {\n    engine = 'gecko';\n  } else if ('WebkitAppearance' in docStyle) {\n    engine = 'webkit';\n  } else if (typeof navigator.cpuClass === 'string') {\n    engine = 'trident';\n  }\n  const vendorPrefix = (defaultOptions.vendorPrefix = {\n    trident: 'ms',\n    gecko: 'Moz',\n    webkit: 'Webkit',\n    presto: 'O'\n  }[engine]);\n  const helperElem = document.createElement('div');\n  let undef;\n  const perspectiveProperty = `${vendorPrefix}Perspective`;\n  const transformProperty = `${vendorPrefix}Transform`;\n  if (helperElem.style[perspectiveProperty] !== undef) {\n    return function(content, left, top, zoom) {\n      content.style[transformProperty] = `translate3d(${-left}px,${-top}px,0) scale(${zoom})`;\n    };\n  }\n  if (helperElem.style[transformProperty] !== undef) {\n    return function(content, left, top, zoom) {\n      content.style[transformProperty] = `translate(${-left}px,${-top}px) scale(${zoom})`;\n    };\n  }\n  return function(content, left, top, zoom) {\n    content.style.marginLeft = left ? `${-left / zoom}px` : '';\n    content.style.marginTop = top ? `${-top / zoom}px` : '';\n    content.style.zoom = zoom || '';\n  };\n})();\n\nexport default class EasyScroller extends EventClass {\n  constructor(content, options) {\n    super();\n    this._className = 'Scroller';\n    this._createEvent('onCreate onScroll onScrollOver onRefreshLess onRefresh onRefreshMore');\n    this.content = content;\n    // 默认会把父节点当成滚动的外部容器\n    this.container = content.parentNode;\n    this.options = merge({}, defaultOptions, options);\n    // create Scroller instance\n    this.initScroller();\n    // bind events\n    this.bindEvents();\n    // the content element needs a correct transform origin for zooming\n    this.content.style[`${defaultOptions.vendorPrefix}TransformOrigin`] = 'left top';\n    // reflow for the first time\n    this.reflow();\n    window.setTimeout(() => {\n      this.dispatch('onCreate');\n    }, 0);\n  }\n\n  initScroller() {\n    this.options.scrollingComplete = () => {\n      this.dispatch('onScrollOver');\n    };\n    this.scroller = new Scroller((left, top, zoom) => {\n      this.dispatch('onScroll', left, top, zoom);\n      this._render(left, top, zoom);\n    }, this.options);\n    if (this.options.PullToRefresh) {\n      this.scroller.activatePullToRefresh(\n        this.options.PullToRefreshHeight,\n        () => {\n          this.dispatch('onRefreshMore');\n        },\n        () => {\n          this.dispatch('onRefreshLess');\n        },\n        () => {\n          this.dispatch('onRefresh');\n        }\n      );\n    }\n  }\n\n  finishPullToRefresh() {\n    this.options.PullToRefresh && this.scroller.finishPullToRefresh();\n  }\n\n  setDimensions(clientWidth, clientHeight, contentWidth, contentHeight) {\n    this.scroller.setDimensions(clientWidth, clientHeight, contentWidth, contentHeight);\n  }\n\n  _render(left, top, zoom) {\n    renderScroll(this.content, left, top, zoom);\n  }\n\n  bindEvents() {\n    const me = this;\n    // reflow handling\n    window.addEventListener(\n      'resize',\n      () => {\n        me.reflow();\n      },\n      false\n    );\n    // touch devices bind touch events\n    if ('ontouchstart' in window) {\n      this.container.addEventListener(\n        'touchstart',\n        (e) => {\n          // Don't react if initial down happens on a form element\n          if (e.touches[0] && e.touches[0].target && e.touches[0].target.tagName.match(/input|textarea|select/i)) {\n            return;\n          }\n          // reflow since the container may have changed\n          me.reflow();\n          me.scroller.doTouchStart(e.touches, e.timeStamp);\n        },\n        false\n      );\n      this.container.addEventListener(\n        'touchmove',\n        (e) => {\n          e.preventDefault();\n          me.scroller.doTouchMove(e.touches, e.timeStamp, e.scale);\n        },\n        false\n      );\n      this.container.addEventListener(\n        'touchend',\n        (e) => {\n          me.scroller.doTouchEnd(e.timeStamp);\n        },\n        false\n      );\n      this.container.addEventListener(\n        'touchcancel',\n        (e) => {\n          me.scroller.doTouchEnd(e.timeStamp);\n        },\n        false\n      );\n      // non-touch bind mouse events\n    } else {\n      let mousedown = false;\n      this.container.addEventListener(\n        'mousedown',\n        (e) => {\n          if (e.target.tagName.match(/input|textarea|select/i)) {\n            return;\n          }\n          me.scroller.doTouchStart(\n            [\n              {\n                pageX: e.pageX,\n                pageY: e.pageY\n              }\n            ],\n            e.timeStamp\n          );\n          mousedown = true;\n          // reflow since the container may have changed\n          me.reflow();\n          e.preventDefault();\n        },\n        false\n      );\n      document.addEventListener(\n        'mousemove',\n        (e) => {\n          if (!mousedown) {\n            return;\n          }\n          me.scroller.doTouchMove(\n            [\n              {\n                pageX: e.pageX,\n                pageY: e.pageY\n              }\n            ],\n            e.timeStamp\n          );\n          mousedown = true;\n        },\n        false\n      );\n      document.addEventListener(\n        'mouseup',\n        (e) => {\n          if (!mousedown) {\n            return;\n          }\n          me.scroller.doTouchEnd(e.timeStamp);\n          mousedown = false;\n        },\n        false\n      );\n      this.container.addEventListener(\n        'mousewheel',\n        (e) => {\n          if (me.option.zooming) {\n            me.scroller.doMouseZoom(e.wheelDelta, e.timeStamp, e.pageX, e.pageY);\n            e.preventDefault();\n          }\n        },\n        false\n      );\n    }\n  }\n\n  reflow() {\n    // set the right scroller dimensions\n    this.scroller.setDimensions(\n      this.container.clientWidth,\n      this.container.clientHeight,\n      this.content.offsetWidth,\n      this.options.PullToRefresh ? this.content.offsetHeight - 50 : this.content.offsetHeight\n    );\n    // refresh the position for zooming purposes\n    const rect = this.container.getBoundingClientRect();\n    this.scroller.setPosition(rect.left + this.container.clientLeft, rect.top + this.container.clientTop);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/scroller/index.js","/**\n * PopupManager\n */\n'use strict';\nimport './index.less';\nimport { addClass, removeClass } from '@common/util';\nconst initZ = 300;\nconst popManager = {\n  // 初始z值\n  zIndex: initZ,\n  // 是否模态\n  modalFade: true,\n  // 弹出层实例对象\n  instances: {},\n  // 弹出层实例对象\n  popStack: [],\n  // 是否显示了遮罩层\n  hasOverlay: false,\n  // 遮罩层dom对象\n  overlayDom: null,\n  // id获取实例\n  getInstance: function(id) {\n    return this.instances[id];\n  },\n  // 注册弹出对象\n  register: function(id, instance) {\n    if (id && instance) {\n      this.instances[id] = instance;\n    }\n  },\n  // 注销弹出对象\n  deregister: function(id) {\n    if (id) {\n      this.instances[id] = null;\n      delete this.instances[id];\n    }\n  },\n  // 获取zIndex\n  nextZIndex: function() {\n    return this.zIndex++;\n  },\n  // 背景dom被点击 关闭最新创建popup\n  closeCurrentPop: function() {\n    const currentPop = this.popStack[this.popStack.length - 1];\n    if (!currentPop) {\n      return;\n    }\n    const instance = this.getInstance(currentPop.id);\n    if (instance && instance.closeOnClickModal) {\n      instance.close();\n    }\n  },\n  // 打开一个遮罩层\n  openOverlay: function(id, zIndex, dom, modalClass, modalFade) {\n    if (!id /* || zIndex === undefined */) {\n      return;\n    }\n    // 判断id唯一性\n    for (let i = 0, popLength = this.popStack.length; i < popLength; i++) {\n      const popItem = this.popStack[i];\n      if (popItem.id === id) {\n        return;\n      }\n    }\n    this.modalFade = modalFade;\n    const overlayDom = this.getOverlay();\n    addClass(overlayDom, 'lmui-overlay');\n    if (this.modalFade && !this.hasOverlay) {\n      addClass(overlayDom, 'lmui-overlay-enter');\n    }\n    if (modalClass) {\n      const classArr = modalClass.trim().split(/\\s+/);\n      const classArrLength = classArr.length;\n      for (let calssIndex = 0; calssIndex < classArrLength; calssIndex++) {\n        const classItem = classArr[calssIndex];\n        addClass(overlayDom, classItem);\n      }\n    }\n    window.setTimeout(() => {\n      removeClass(overlayDom, 'lmui-overlay-enter');\n    }, 300);\n    if (dom && dom.parentNode && dom.parentNode.nodeType !== 11) {\n      dom.parentNode.appendChild(overlayDom);\n    } else {\n      document.body.appendChild(overlayDom);\n    }\n    overlayDom.style.zIndex = zIndex || initZ;\n    overlayDom.style.display = '';\n    this.popStack.push({\n      id: id,\n      zIndex: zIndex || initZ,\n      modalClass: modalClass\n    });\n  },\n  // 关闭一个遮罩层\n  closeOverlay: function(id) {\n    const { popStack } = this;\n    const overlayDom = this.getOverlay();\n    if (popStack.length > 0) {\n      const currentPop = popStack[popStack.length - 1];\n      if (currentPop.id === id) {\n        if (currentPop.modalClass) {\n          const classArr = currentPop.modalClass.trim().split(/\\s+/);\n          const classArrLength = classArr.length;\n          for (let i = 0; i < classArrLength; i++) {\n            const item = classArr[i];\n            removeClass(overlayDom, item);\n          }\n        }\n        popStack.pop();\n        if (popStack.length > 0) {\n          const pop = popStack[popStack.length - 1];\n          if (pop.fixOverlay) {\n            overlayDom.style.zIndex = initZ;\n          } else {\n            overlayDom.style.zIndex = popStack[popStack.length - 1].zIndex;\n          }\n        }\n      } else {\n        for (let i = popStack.length - 1; i >= 0; i--) {\n          if (popStack[i].id === id) {\n            popStack.splice(i, 1);\n            break;\n          }\n        }\n      }\n    }\n    if (popStack.length === 0) {\n      if (this.modalFade) {\n        addClass(overlayDom, 'lmui-overlay-leave');\n      }\n      const me = this;\n      window.setTimeout(() => {\n        if (popStack.length === 0) {\n          if (overlayDom.parentNode) {\n            overlayDom.parentNode.removeChild(overlayDom);\n          }\n          overlayDom.style.display = 'none';\n          // 为了避免在300ms内调用新的getOverlay这里需要强调为me.\n          me.overlayDom = null;\n        }\n        removeClass(overlayDom, 'lmui-overlay-leave');\n      }, 300);\n    }\n  },\n  // 获取遮罩层dom 如果没有则创建\n  getOverlay: function() {\n    let { overlayDom } = this;\n    if (overlayDom) {\n      this.hasOverlay = true;\n    } else {\n      this.hasOverlay = false;\n      overlayDom = document.createElement('div');\n      this.overlayDom = overlayDom;\n      overlayDom.addEventListener('touchmove', (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n      });\n      const me = this;\n      overlayDom.addEventListener('click', () => {\n        me.closeCurrentPop && me.closeCurrentPop();\n      });\n    }\n    return overlayDom;\n  }\n};\n\nwindow.addEventListener('keydown', (event) => {\n  if (event.keyCode === 27) {\n    // ESC\n    if (popManager.popStack.length > 0) {\n      const currentPop = popManager.popStack[popManager.popStack.length - 1];\n      if (!currentPop) {\n        return;\n      }\n      const instance = popManager.getInstance(currentPop.id);\n      if (instance.closeOnPressEscape) {\n        instance.close();\n      }\n    }\n  }\n});\n\nexport default popManager;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/popManager/index.js","'use strict';\nimport './index.less';\nimport tpl from './index.html';\nimport { merge, addClass, removeClass, render } from '@common/util';\nimport Popbase from '@components/popbase';\nconst defaultOptions = {\n  // 是否默认打开\n  autoShow: true,\n  // 外包容器class\n  containerClass: 'lmui-spin-normal',\n  // overlay的zIndex固定\n  fixOverlay: true,\n  // 说明文案\n  text: '',\n  // 类型\n  type: ''\n};\nexport default class Spin extends Popbase {\n  constructor(options) {\n    const newOptions = merge({}, defaultOptions, options);\n    super(newOptions);\n    this._className = 'Spin';\n  }\n\n  // 初始化dom\n  _initDom() {\n    this.container = document.createElement('div');\n    this.container.className = `lmui-spin ${this.containerClass}`;\n    this.container.innerHTML = render(tpl, this);\n    this.warp.appendChild(this.container);\n  }\n\n  _onOpen() {\n    this.transition = true;\n    addClass(this.container, 'lmui-spin-enter');\n    window.setTimeout(() => {\n      this.transition = false;\n      this._doAfterOpen();\n    }, 300);\n  }\n\n  _onClose() {\n    this.transition = true;\n    removeClass(this.container, 'lmui-spin-enter');\n    window.setTimeout(() => {\n      this.transition = false;\n      this._doAfterClose();\n    }, 300);\n  }\n\n  setType(type) {\n    addClass(this.container.firstElementChild, type);\n    removeClass(this.container.firstElementChild, this.type);\n    this.type = type;\n  }\n\n  setText(text) {\n    if (text) {\n      this.container.lastElementChild.style.display = 'block';\n    } else {\n      this.container.lastElementChild.style.display = 'none';\n    }\n    this.container.lastElementChild.innerHTML = text;\n    this.text = text;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/spin/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/popover/index.less\n// module id = O4UQ\n// module chunks = 0 1","/**\n * @namespace\n * @name ClassManager\n */\nimport { merge } from '@common/util';\n\nconst ClassManager = function() {\n  let instanceId = 0 | (Math.random() * 998);\n  this.getNewInstanceId = function() {\n    return instanceId++;\n  };\n};\nconst classManager = new ClassManager();\nclass ClassBase {\n  constructor(options) {\n    merge(this, options);\n    this._className = 'ClassBase';\n    this._instanceId = classManager.getNewInstanceId();\n  }\n\n  className() {\n    return this._className;\n  }\n\n  instanceId() {\n    return this._instanceId;\n  }\n}\n\nexport default class EventClass extends ClassBase {\n  constructor(options) {\n    super(options);\n    this._className = 'EventClass';\n    this._handlers = {};\n    this._eventCache = {};\n  }\n\n  // 绑定监听一次\n  one(eventName, handler, context) {\n    if (!eventName || !handler) {\n      return this;\n    }\n    const { _handlers } = this;\n    if (!_handlers[eventName]) {\n      _handlers[eventName] = [];\n    }\n    _handlers[eventName].push({\n      context: context || this,\n      handler: handler,\n      one: true\n    });\n    return this;\n  }\n\n  // 绑定监听\n  bind(eventName, handler, context) {\n    if (!eventName || !handler) {\n      return this;\n    }\n    const { _handlers } = this;\n    if (!_handlers[eventName]) {\n      _handlers[eventName] = [];\n    }\n    _handlers[eventName].push({\n      context: context || this,\n      handler: handler,\n      one: false\n    });\n    return this;\n  }\n\n  // 接触绑定\n  unbind(eventName, handler) {\n    const { _handlers } = this;\n    if (!eventName) {\n      this._handlers = {};\n      return this;\n    }\n    if (handler) {\n      if (_handlers[eventName]) {\n        const newList = [];\n        for (let i = 0, l = _handlers[eventName].length; i < l; i++) {\n          if (_handlers[eventName][i]['handler'] !== handler) {\n            newList.push(_handlers[eventName][i]);\n          }\n        }\n        _handlers[eventName] = newList;\n      }\n      if (_handlers[eventName] && _handlers[eventName].length === 0) {\n        delete _handlers[eventName];\n      }\n    } else {\n      delete _handlers[eventName];\n    }\n    return this;\n  }\n\n  // 事件派发\n  dispatch(eventName, ...args) {\n    let falseNum = 0;\n    if (!eventName) {\n      return falseNum === 0;\n    }\n    const _handler = this._handlers[eventName];\n    if (_handler) {\n      // const args = Array.prototype.slice.call(arguments, 1);\n      let len = _handler.length;\n      for (let i = 0; i < len;) {\n        if (_handler[i]['handler'].apply(_handler[i]['context'], args) === false) {\n          falseNum++;\n        }\n        if (_handler[i]['one']) {\n          _handler.splice(i, 1);\n          len--;\n        } else {\n          i++;\n        }\n      }\n    }\n    return falseNum === 0;\n  }\n\n  // 指定上下文的事件派发\n  dispatchWithContext(eventName, context, ...args) {\n    let falseNum = 0;\n    if (!eventName) {\n      return falseNum === 0;\n    }\n    const _handler = this._handlers[eventName];\n    if (this._handler[eventName]) {\n      // const context = arguments[arguments.length - 1];\n      // const args = Array.prototype.slice.call(arguments, 1, arguments.length - 1);\n      let len = _handler.length;\n      for (let i = 0; i < len;) {\n        if (_handler[i]['handler'].apply(context, args) === false) {\n          falseNum++;\n        }\n        if (_handler[i]['one']) {\n          _handler.splice(i, 1);\n          len--;\n        } else {\n          i++;\n        }\n      }\n    }\n    return falseNum === 0;\n  }\n\n  // 动态添加自定义事件缓存\n  // eventNames 仅仅支持字符串类型数据，空格分割的函数名称，建议事件名都添加 on/before/after 等明显前缀\n  _createEvent(eventNames, ...args) {\n    if (typeof eventNames !== 'string') {\n      return;\n    }\n    const me = this;\n    const cache = me._eventCache;\n    const eventList = eventNames.split(' ');\n    const len = eventList.length;\n    for (let i = 0; i < len; i++) {\n      const eventName = eventList[i];\n      cache[eventName] = cache[eventName] || [];\n      me[eventName] = (function(ename) {\n        return function(fn) {\n          if (Object.prototype.toString.call(fn) === '[object Function]') {\n            me.bind(ename, fn);\n            return me;\n          }\n          return me.dispatch(...[ename].concat(Array.prototype.slice.call(args, 0)));\n        };\n      })(eventName);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/eventclass/index.js","'use strict';\nimport './index.less';\nimport tpl from './index.html';\nimport EventClass from '@components/eventclass';\nimport { merge, render } from '@common/util';\nimport Scroller from '@common/util/scroller';\nconst defaultOptions = {\n  // 是否支持横向滚动\n  scrollingX: false,\n  // 是否支持竖向滚动\n  scrollingY: true,\n  // 是否开启补间动画（减速，回弹，缩放和滚动动画）\n  animating: true,\n  // 动画时长\n  animationDuration: 250,\n  // 是否开启弹性（无弹性不下拉刷新）\n  bouncing: true,\n  // 是否锁定（如果用户在开始时只轻微移动其中一个，则启用锁定到主轴）\n  locking: true,\n  // 是否启用翻页模式类似于轮播图\n  paging: true,\n  // 是否捕捉用户可用的整数像素值\n  snapping: true,\n  // 是否开启缩放功能\n  zooming: false,\n  // 缩放最小值\n  minZoom: 0.5,\n  // 缩放最大值\n  maxZoom: 3,\n  // 数据\n  data: []\n};\n\nconst renderScroll = (function() {\n  const docStyle = document.documentElement.style;\n  let engine;\n  if (window.opera && Object.prototype.toString.call(window.opera) === '[object Opera]') {\n    engine = 'presto';\n  } else if ('MozAppearance' in docStyle) {\n    engine = 'gecko';\n  } else if ('WebkitAppearance' in docStyle) {\n    engine = 'webkit';\n  } else if (typeof navigator.cpuClass === 'string') {\n    engine = 'trident';\n  }\n  const vendorPrefix = (defaultOptions.vendorPrefix = {\n    trident: 'ms',\n    gecko: 'Moz',\n    webkit: 'Webkit',\n    presto: 'O'\n  }[engine]);\n  const helperElem = document.createElement('div');\n  let undef;\n  const perspectiveProperty = `${vendorPrefix}Perspective`;\n  const transformProperty = `${vendorPrefix}Transform`;\n  if (helperElem.style[perspectiveProperty] !== undef) {\n    return function(content, left, top, zoom) {\n      content.style[transformProperty] = `translate3d(${-left}px,${-top}px,0) scale(${zoom})`;\n    };\n  }\n  if (helperElem.style[transformProperty] !== undef) {\n    return function(content, left, top, zoom) {\n      content.style[transformProperty] = `translate(${-left}px,${-top}px) scale(${zoom})`;\n    };\n  }\n  return function(content, left, top, zoom) {\n    content.style.marginLeft = left ? `${-left / zoom}px` : '';\n    content.style.marginTop = top ? `${-top / zoom}px` : '';\n    content.style.zoom = zoom || '';\n  };\n})();\nexport default class Picker extends EventClass {\n  constructor(wrapper, options) {\n    super();\n    this._className = 'Picker';\n    this._createEvent('onCreate onScroll onScrollOver');\n    this.options = merge({}, defaultOptions, options);\n    this._initDom(wrapper);\n    // create Scroller instance\n    this._initScroller();\n    // bind events\n    this._bindEvents();\n    // the content element needs a correct transform origin for zooming\n    this.content.style[`${defaultOptions.vendorPrefix}TransformOrigin`] = 'left top';\n    // reflow for the first time\n    this.reflow();\n    this._currentIndex = 0;\n    window.setTimeout(() => {\n      this.dispatch('onCreate');\n    }, 0);\n  }\n\n  _initDom(wrapper) {\n    this.wrapper = wrapper;\n    this.wrapper.innerHTML = render(tpl, this.options);\n    this.container = this.wrapper.firstElementChild.firstElementChild;\n    this.content = this.container.firstElementChild;\n  }\n\n  _initScroller() {\n    this.options.scrollingComplete = () => {\n      this.dispatch('onScrollOver');\n    };\n    this.scroller = new Scroller((left, top, zoom) => {\n      const height = this.container.clientHeight;\n      const index = parseInt(top / height, 10);\n      this._currentIndex = index;\n      this.dispatch('onScroll', this._currentIndex, this.options.data[this._currentIndex]);\n      this._render(left, top, zoom);\n    }, this.options);\n  }\n\n  setDimensions(clientWidth, clientHeight, contentWidth, contentHeight) {\n    this.scroller.setDimensions(clientWidth, clientHeight, contentWidth, contentHeight);\n  }\n\n  _render(left, top, zoom) {\n    renderScroll(this.content, left, top, zoom);\n  }\n\n  _bindEvents() {\n    const me = this;\n    // reflow handling\n    window.addEventListener(\n      'resize',\n      () => {\n        me.reflow();\n      },\n      false\n    );\n    // touch devices bind touch events\n    if ('ontouchstart' in window) {\n      this.container.parentNode.addEventListener(\n        'touchstart',\n        (e) => {\n          // Don't react if initial down happens on a form element\n          if (e.touches[0] && e.touches[0].target && e.touches[0].target.tagName.match(/input|textarea|select/i)) {\n            return;\n          }\n          // reflow since the container may have changed\n          me.reflow();\n          me.scroller.doTouchStart(e.touches, e.timeStamp);\n        },\n        false\n      );\n      this.container.parentNode.addEventListener(\n        'touchmove',\n        (e) => {\n          e.preventDefault();\n          me.scroller.doTouchMove(e.touches, e.timeStamp, e.scale);\n        },\n        false\n      );\n      this.container.parentNode.addEventListener(\n        'touchend',\n        (e) => {\n          me.scroller.doTouchEnd(e.timeStamp);\n        },\n        false\n      );\n      this.container.parentNode.addEventListener(\n        'touchcancel',\n        (e) => {\n          me.scroller.doTouchEnd(e.timeStamp);\n        },\n        false\n      );\n      // non-touch bind mouse events\n    } else {\n      let mousedown = false;\n      this.container.parentNode.addEventListener(\n        'mousedown',\n        (e) => {\n          if (e.target.tagName.match(/input|textarea|select/i)) {\n            return;\n          }\n          me.scroller.doTouchStart(\n            [\n              {\n                pageX: e.pageX,\n                pageY: e.pageY\n              }\n            ],\n            e.timeStamp\n          );\n          mousedown = true;\n          // reflow since the container may have changed\n          me.reflow();\n          e.preventDefault();\n        },\n        false\n      );\n      document.addEventListener(\n        'mousemove',\n        (e) => {\n          if (!mousedown) {\n            return;\n          }\n          me.scroller.doTouchMove(\n            [\n              {\n                pageX: e.pageX,\n                pageY: e.pageY\n              }\n            ],\n            e.timeStamp\n          );\n          mousedown = true;\n        },\n        false\n      );\n      document.addEventListener(\n        'mouseup',\n        (e) => {\n          if (!mousedown) {\n            return;\n          }\n          me.scroller.doTouchEnd(e.timeStamp);\n          mousedown = false;\n        },\n        false\n      );\n      this.container.parentNode.addEventListener(\n        'mousewheel',\n        (e) => {\n          if (me.option.zooming) {\n            me.scroller.doMouseZoom(e.wheelDelta, e.timeStamp, e.pageX, e.pageY);\n            e.preventDefault();\n          }\n        },\n        false\n      );\n    }\n  }\n\n  reflow() {\n    // set the right scroller dimensions\n    this.scroller.setDimensions(\n      this.container.clientWidth,\n      this.container.clientHeight,\n      this.content.offsetWidth,\n      this.content.offsetHeight\n    );\n    // refresh the position for zooming purposes\n    const rect = this.container.getBoundingClientRect();\n    this.scroller.setPosition(rect.left + this.container.clientLeft, rect.top + this.container.clientTop);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/picker/index.js","module.exports = \"<div class=\\\"lmui-picker\\\">\\n  <div class=\\\"lmui-picker-container\\\">\\n      <div class=\\\"lmui-picker-content\\\">\\n      <% for(var i = 0; i < data.length; i++) { %>\\n        <div class=\\\"lmui-picker-item\\\"><%=data[i].text%></div>\\n      <% } %>\\n      </div>\\n  </div>\\n  <div class=\\\"lmui-picker-mask\\\"></div>\\n</div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/picker/index.html\n// module id = Rl4w\n// module chunks = 0 1","'use strict';\nimport Animate from './animate';\nconst NOOP = () => {};\n\n/**\n * A pure logic 'component' for 'virtual' scrolling/zooming.\n */\nconst Scroller = function(callback, options) {\n  this.__callback = callback;\n\n  this.options = {\n    /** Enable scrolling on x-axis */\n    scrollingX: true,\n\n    /** Enable scrolling on y-axis */\n    scrollingY: true,\n\n    /** Enable animations for deceleration, snap back, zooming and scrolling */\n    animating: true,\n\n    /** duration for animations triggered by scrollTo/zoomTo */\n    animationDuration: 250,\n\n    /** Enable bouncing (content can be slowly moved outside and jumps back after releasing) */\n    bouncing: true,\n\n    /** Enable locking to the main axis if user moves only slightly on one of them at start */\n    locking: true,\n\n    /** Enable pagination mode (switching between full page content panes) */\n    paging: false,\n\n    /** Enable snapping of content to a configured pixel grid */\n    snapping: false,\n\n    /** Enable zooming of content via API, fingers and mouse wheel */\n    zooming: false,\n\n    /** Minimum zoom level */\n    minZoom: 0.5,\n\n    /** Maximum zoom level */\n    maxZoom: 3,\n\n    /** Multiply or decrease scrolling speed **/\n    speedMultiplier: 1,\n\n    /** Callback that is fired on the later of touch end or deceleration end,\n            provided that another scrolling action has not begun. Used to know\n            when to fade out a scrollbar. */\n    scrollingComplete: NOOP,\n\n    /** This configures the amount of change applied to deceleration when reaching boundaries  **/\n    penetrationDeceleration: 0.03,\n\n    /** This configures the amount of change applied to acceleration when reaching boundaries  **/\n    penetrationAcceleration: 0.08\n  };\n\n  for (const key in options) {\n    if (Object.prototype.hasOwnProperty.call(options, key)) {\n      this.options[key] = options[key];\n    }\n  }\n};\n\n// Easing Equations (c) 2003 Robert Penner, all rights reserved.\n// Open source under the BSD License.\n\n/**\n * @param pos {Number} position between 0 (start of effect) and 1 (end of effect)\n **/\nconst easeOutCubic = function(pos) {\n  return Math.pow(pos - 1, 3) + 1;\n};\n\n/**\n * @param pos {Number} position between 0 (start of effect) and 1 (end of effect)\n **/\nconst easeInOutCubic = function(pos) {\n  if ((pos /= 0.5) < 1) {\n    return 0.5 * Math.pow(pos, 3);\n  }\n\n  return 0.5 * (Math.pow(pos - 2, 3) + 2);\n};\n\nconst members = {\n  /*\n    ---------------------------------------------------------------------------\n        INTERNAL FIELDS :: STATUS\n    ---------------------------------------------------------------------------\n    */\n\n  /** {Boolean} Whether only a single finger is used in touch handling */\n  __isSingleTouch: false,\n\n  /** {Boolean} Whether a touch event sequence is in progress */\n  __isTracking: false,\n\n  /** {Boolean} Whether a deceleration animation went to completion. */\n  __didDecelerationComplete: false,\n\n  /**\n   * {Boolean} Whether a gesture zoom/rotate event is in progress. Activates when\n   * a gesturestart event happens. This has higher priority than dragging.\n   */\n  __isGesturing: false,\n\n  /**\n   * {Boolean} Whether the user has moved by such a distance that we have enabled\n   * dragging mode. Hint: It's only enabled after some pixels of movement to\n   * not interrupt with clicks etc.\n   */\n  __isDragging: false,\n\n  /**\n   * {Boolean} Not touching and dragging anymore, and smoothly animating the\n   * touch sequence using deceleration.\n   */\n  __isDecelerating: false,\n\n  /**\n   * {Boolean} Smoothly animating the currently configured change\n   */\n  __isAnimating: false,\n\n  /*\n    ---------------------------------------------------------------------------\n        INTERNAL FIELDS :: DIMENSIONS\n    ---------------------------------------------------------------------------\n    */\n\n  /** {Integer} Available outer left position (from document perspective) */\n  __clientLeft: 0,\n\n  /** {Integer} Available outer top position (from document perspective) */\n  __clientTop: 0,\n\n  /** {Integer} Available outer width */\n  __clientWidth: 0,\n\n  /** {Integer} Available outer height */\n  __clientHeight: 0,\n\n  /** {Integer} Outer width of content */\n  __contentWidth: 0,\n\n  /** {Integer} Outer height of content */\n  __contentHeight: 0,\n\n  /** {Integer} Snapping width for content */\n  __snapWidth: 100,\n\n  /** {Integer} Snapping height for content */\n  __snapHeight: 100,\n\n  /** {Integer} Height to assign to refresh area */\n  __refreshHeight: null,\n\n  /** {Boolean} Whether the refresh process is enabled when the event is released now */\n  __refreshActive: false,\n\n  /** {Function} Callback to execute on activation. This is for signalling the user about a refresh is about to happen when he release */\n  __refreshActivate: null,\n\n  /** {Function} Callback to execute on deactivation. This is for signalling the user about the refresh being cancelled */\n  __refreshDeactivate: null,\n\n  /** {Function} Callback to execute to start the actual refresh. Call {@link #refreshFinish} when done */\n  __refreshStart: null,\n\n  /** {Number} Zoom level */\n  __zoomLevel: 1,\n\n  /** {Number} Scroll position on x-axis */\n  __scrollLeft: 0,\n\n  /** {Number} Scroll position on y-axis */\n  __scrollTop: 0,\n\n  /** {Integer} Maximum allowed scroll position on x-axis */\n  __maxScrollLeft: 0,\n\n  /** {Integer} Maximum allowed scroll position on y-axis */\n  __maxScrollTop: 0,\n\n  /* {Number} Scheduled left position (final position when animating) */\n  __scheduledLeft: 0,\n\n  /* {Number} Scheduled top position (final position when animating) */\n  __scheduledTop: 0,\n\n  /* {Number} Scheduled zoom level (final scale when animating) */\n  __scheduledZoom: 0,\n\n  /*\n    ---------------------------------------------------------------------------\n        INTERNAL FIELDS :: LAST POSITIONS\n    ---------------------------------------------------------------------------\n    */\n\n  /** {Number} Left position of finger at start */\n  __lastTouchLeft: null,\n\n  /** {Number} Top position of finger at start */\n  __lastTouchTop: null,\n\n  /** {Date} Timestamp of last move of finger. Used to limit tracking range for deceleration speed. */\n  __lastTouchMove: null,\n\n  /** {Array} List of positions, uses three indexes for each state: left, top, timestamp */\n  __positions: null,\n\n  /*\n    ---------------------------------------------------------------------------\n        INTERNAL FIELDS :: DECELERATION SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n  /** {Integer} Minimum left scroll position during deceleration */\n  __minDecelerationScrollLeft: null,\n\n  /** {Integer} Minimum top scroll position during deceleration */\n  __minDecelerationScrollTop: null,\n\n  /** {Integer} Maximum left scroll position during deceleration */\n  __maxDecelerationScrollLeft: null,\n\n  /** {Integer} Maximum top scroll position during deceleration */\n  __maxDecelerationScrollTop: null,\n\n  /** {Number} Current factor to modify horizontal scroll position with on every step */\n  __decelerationVelocityX: null,\n\n  /** {Number} Current factor to modify vertical scroll position with on every step */\n  __decelerationVelocityY: null,\n\n  /*\n    ---------------------------------------------------------------------------\n        PUBLIC API\n    ---------------------------------------------------------------------------\n    */\n\n  /**\n   * Configures the dimensions of the client (outer) and content (inner) elements.\n   * Requires the available space for the outer element and the outer size of the inner element.\n   * All values which are falsy (null or zero etc.) are ignored and the old value is kept.\n   *\n   * @param clientWidth {Integer ? null} Inner width of outer element\n   * @param clientHeight {Integer ? null} Inner height of outer element\n   * @param contentWidth {Integer ? null} Outer width of inner element\n   * @param contentHeight {Integer ? null} Outer height of inner element\n   */\n  setDimensions: function(clientWidth, clientHeight, contentWidth, contentHeight) {\n    const me = this;\n\n    // Only update values which are defined\n    if (clientWidth === +clientWidth) {\n      me.__clientWidth = clientWidth;\n    }\n\n    if (clientHeight === +clientHeight) {\n      me.__clientHeight = clientHeight;\n    }\n\n    if (contentWidth === +contentWidth) {\n      me.__contentWidth = contentWidth;\n    }\n\n    if (contentHeight === +contentHeight) {\n      me.__contentHeight = contentHeight;\n    }\n\n    // Refresh maximums\n    me.__computeScrollMax();\n\n    // Refresh scroll position\n    me.scrollTo(me.__scrollLeft, me.__scrollTop, true);\n  },\n\n  /**\n   * Sets the client coordinates in relation to the document.\n   *\n   * @param left {Integer ? 0} Left position of outer element\n   * @param top {Integer ? 0} Top position of outer element\n   */\n  setPosition: function(left, top) {\n    const me = this;\n\n    me.__clientLeft = left || 0;\n    me.__clientTop = top || 0;\n  },\n\n  /**\n   * Configures the snapping (when snapping is active)\n   *\n   * @param width {Integer} Snapping width\n   * @param height {Integer} Snapping height\n   */\n  setSnapSize: function(width, height) {\n    const me = this;\n\n    me.__snapWidth = width;\n    me.__snapHeight = height;\n  },\n\n  /**\n   * Activates pull-to-refresh. A special zone on the top of the list to start a list refresh whenever\n   * the user event is released during visibility of this zone. This was introduced by some apps on iOS like\n   * the official Twitter client.\n   *\n   * @param height {Integer} Height of pull-to-refresh zone on top of rendered list\n   * @param activateCallback {Function} Callback to execute on activation. This is for signalling the user about a refresh is about to happen when he release.\n   * @param deactivateCallback {Function} Callback to execute on deactivation. This is for signalling the user about the refresh being cancelled.\n   * @param startCallback {Function} Callback to execute to start the real async refresh action. Call {@link #finishPullToRefresh} after finish of refresh.\n   */\n  activatePullToRefresh: function(height, activateCallback, deactivateCallback, startCallback) {\n    const me = this;\n\n    me.__refreshHeight = height;\n    me.__refreshActivate = activateCallback;\n    me.__refreshDeactivate = deactivateCallback;\n    me.__refreshStart = startCallback;\n  },\n\n  /**\n   * Starts pull-to-refresh manually.\n   */\n  triggerPullToRefresh: function() {\n    // Use publish instead of scrollTo to allow scrolling to out of boundary position\n    // We don't need to normalize scrollLeft, zoomLevel, etc. here because we only y-scrolling when pull-to-refresh is enabled\n    this.__publish(this.__scrollLeft, -this.__refreshHeight, this.__zoomLevel, true);\n\n    if (this.__refreshStart) {\n      this.__refreshStart();\n    }\n  },\n\n  /**\n   * Signalizes that pull-to-refresh is finished.\n   */\n  finishPullToRefresh: function() {\n    const me = this;\n\n    me.__refreshActive = false;\n    if (me.__refreshDeactivate) {\n      me.__refreshDeactivate();\n    }\n\n    me.scrollTo(me.__scrollLeft, me.__scrollTop, true);\n  },\n\n  /**\n   * Returns the scroll position and zooming values\n   *\n   * @return {Map} `left` and `top` scroll position and `zoom` level\n   */\n  getValues: function() {\n    const me = this;\n\n    return {\n      left: me.__scrollLeft,\n      top: me.__scrollTop,\n      zoom: me.__zoomLevel\n    };\n  },\n\n  /**\n   * Returns the maximum scroll values\n   *\n   * @return {Map} `left` and `top` maximum scroll values\n   */\n  getScrollMax: function() {\n    const me = this;\n\n    return {\n      left: me.__maxScrollLeft,\n      top: me.__maxScrollTop\n    };\n  },\n\n  /**\n   * Zooms to the given level. Supports optional animation. Zooms\n   * the center when no coordinates are given.\n   *\n   * @param level {Number} Level to zoom to\n   * @param animate {Boolean ? false} Whether to use animation\n   * @param originLeft {Number ? null} Zoom in at given left coordinate\n   * @param originTop {Number ? null} Zoom in at given top coordinate\n   * @param callback {Function ? null} A callback that gets fired when the zoom is complete.\n   */\n  zoomTo: function(level, animate, originLeft, originTop, callback) {\n    const me = this;\n\n    if (!me.options.zooming) {\n      throw new Error('Zooming is not enabled!');\n    }\n\n    // Add callback if exists\n    if (callback) {\n      me.__zoomComplete = callback;\n    }\n\n    // Stop deceleration\n    if (me.__isDecelerating) {\n      Animate.stop(me.__isDecelerating);\n      me.__isDecelerating = false;\n    }\n\n    const oldLevel = me.__zoomLevel;\n\n    // Normalize input origin to center of viewport if not defined\n    if (originLeft == null) {\n      originLeft = me.__clientWidth / 2;\n    }\n\n    if (originTop == null) {\n      originTop = me.__clientHeight / 2;\n    }\n\n    // Limit level according to configuration\n    level = Math.max(Math.min(level, me.options.maxZoom), me.options.minZoom);\n\n    // Recompute maximum values while temporary tweaking maximum scroll ranges\n    me.__computeScrollMax(level);\n\n    // Recompute left and top coordinates based on new zoom level\n    let left = (originLeft + me.__scrollLeft) * level / oldLevel - originLeft;\n    let top = (originTop + me.__scrollTop) * level / oldLevel - originTop;\n\n    // Limit x-axis\n    if (left > me.__maxScrollLeft) {\n      left = me.__maxScrollLeft;\n    } else if (left < 0) {\n      left = 0;\n    }\n\n    // Limit y-axis\n    if (top > me.__maxScrollTop) {\n      top = me.__maxScrollTop;\n    } else if (top < 0) {\n      top = 0;\n    }\n\n    // Push values out\n    me.__publish(left, top, level, animate);\n  },\n\n  /**\n   * Zooms the content by the given factor.\n   *\n   * @param factor {Number} Zoom by given factor\n   * @param animate {Boolean ? false} Whether to use animation\n   * @param originLeft {Number ? 0} Zoom in at given left coordinate\n   * @param originTop {Number ? 0} Zoom in at given top coordinate\n   * @param callback {Function ? null} A callback that gets fired when the zoom is complete.\n   */\n  zoomBy: function(factor, animate, originLeft, originTop, callback) {\n    const me = this;\n\n    me.zoomTo(me.__zoomLevel * factor, animate, originLeft, originTop, callback);\n  },\n\n  /**\n   * Scrolls to the given position. Respect limitations and snapping automatically.\n   *\n   * @param left {Number?null} Horizontal scroll position, keeps current if value is <code>null</code>\n   * @param top {Number?null} Vertical scroll position, keeps current if value is <code>null</code>\n   * @param animate {Boolean?false} Whether the scrolling should happen using an animation\n   * @param zoom {Number?null} Zoom level to go to\n   */\n  scrollTo: function(left, top, animate, zoom) {\n    const me = this;\n\n    // Stop deceleration\n    if (me.__isDecelerating) {\n      Animate.stop(me.__isDecelerating);\n      me.__isDecelerating = false;\n    }\n\n    // Correct coordinates based on new zoom level\n    if (zoom != null && zoom !== me.__zoomLevel) {\n      if (!me.options.zooming) {\n        throw new Error('Zooming is not enabled!');\n      }\n\n      left *= zoom;\n      top *= zoom;\n\n      // Recompute maximum values while temporary tweaking maximum scroll ranges\n      me.__computeScrollMax(zoom);\n    } else {\n      // Keep zoom when not defined\n      zoom = me.__zoomLevel;\n    }\n\n    if (!me.options.scrollingX) {\n      left = me.__scrollLeft;\n    } else if (me.options.paging) {\n      left = Math.round(left / me.__clientWidth) * me.__clientWidth;\n    } else if (me.options.snapping) {\n      left = Math.round(left / me.__snapWidth) * me.__snapWidth;\n    }\n\n    if (!me.options.scrollingY) {\n      top = me.__scrollTop;\n    } else if (me.options.paging) {\n      top = Math.round(top / me.__clientHeight) * me.__clientHeight;\n    } else if (me.options.snapping) {\n      top = Math.round(top / me.__snapHeight) * me.__snapHeight;\n    }\n\n    // Limit for allowed ranges\n    left = Math.max(Math.min(me.__maxScrollLeft, left), 0);\n    top = Math.max(Math.min(me.__maxScrollTop, top), 0);\n\n    // Don't animate when no change detected, still call publish to make sure\n    // that rendered position is really in-sync with internal data\n    if (left === me.__scrollLeft && top === me.__scrollTop) {\n      animate = false;\n    }\n\n    // Publish new values\n    if (!me.__isTracking) {\n      me.__publish(left, top, zoom, animate);\n    }\n  },\n\n  /**\n   * Scroll by the given offset\n   *\n   * @param left {Number ? 0} Scroll x-axis by given offset\n   * @param top {Number ? 0} Scroll x-axis by given offset\n   * @param animate {Boolean ? false} Whether to animate the given change\n   */\n  scrollBy: function(left, top, animate) {\n    const me = this;\n\n    const startLeft = me.__isAnimating ? me.__scheduledLeft : me.__scrollLeft;\n    const startTop = me.__isAnimating ? me.__scheduledTop : me.__scrollTop;\n\n    me.scrollTo(startLeft + (left || 0), startTop + (top || 0), animate);\n  },\n\n  /*\n    ---------------------------------------------------------------------------\n        EVENT CALLBACKS\n    ---------------------------------------------------------------------------\n    */\n\n  /**\n   * Mouse wheel handler for zooming support\n   */\n  doMouseZoom: function(wheelDelta, timeStamp, pageX, pageY) {\n    const me = this;\n    const change = wheelDelta > 0 ? 0.97 : 1.03;\n\n    return me.zoomTo(me.__zoomLevel * change, false, pageX - me.__clientLeft, pageY - me.__clientTop);\n  },\n\n  /**\n   * Touch start handler for scrolling support\n   */\n  doTouchStart: function(touches, timeStamp) {\n    // Array-like check is enough here\n    if (touches.length == null) {\n      throw new Error(`Invalid touch list: ${touches}`);\n    }\n\n    if (timeStamp instanceof Date) {\n      timeStamp = timeStamp.valueOf();\n    }\n    if (typeof timeStamp !== 'number') {\n      throw new Error(`Invalid timestamp value: ${timeStamp}`);\n    }\n\n    const me = this;\n\n    // Reset interruptedAnimation flag\n    me.__interruptedAnimation = true;\n\n    // Stop deceleration\n    if (me.__isDecelerating) {\n      Animate.stop(me.__isDecelerating);\n      me.__isDecelerating = false;\n      me.__interruptedAnimation = true;\n    }\n\n    // Stop animation\n    if (me.__isAnimating) {\n      Animate.stop(me.__isAnimating);\n      me.__isAnimating = false;\n      me.__interruptedAnimation = true;\n    }\n\n    // Use center point when dealing with two fingers\n    let currentTouchLeft;\n    let currentTouchTop;\n    const isSingleTouch = touches.length === 1;\n    if (isSingleTouch) {\n      currentTouchLeft = touches[0].pageX;\n      currentTouchTop = touches[0].pageY;\n    } else {\n      currentTouchLeft = Math.abs(touches[0].pageX + touches[1].pageX) / 2;\n      currentTouchTop = Math.abs(touches[0].pageY + touches[1].pageY) / 2;\n    }\n\n    // Store initial positions\n    me.__initialTouchLeft = currentTouchLeft;\n    me.__initialTouchTop = currentTouchTop;\n\n    // Store current zoom level\n    me.__zoomLevelStart = me.__zoomLevel;\n\n    // Store initial touch positions\n    me.__lastTouchLeft = currentTouchLeft;\n    me.__lastTouchTop = currentTouchTop;\n\n    // Store initial move time stamp\n    me.__lastTouchMove = timeStamp;\n\n    // Reset initial scale\n    me.__lastScale = 1;\n\n    // Reset locking flags\n    me.__enableScrollX = !isSingleTouch && me.options.scrollingX;\n    me.__enableScrollY = !isSingleTouch && me.options.scrollingY;\n\n    // Reset tracking flag\n    me.__isTracking = true;\n\n    // Reset deceleration complete flag\n    me.__didDecelerationComplete = false;\n\n    // Dragging starts directly with two fingers, otherwise lazy with an offset\n    me.__isDragging = !isSingleTouch;\n\n    // Some features are disabled in multi touch scenarios\n    me.__isSingleTouch = isSingleTouch;\n\n    // Clearing data structure\n    me.__positions = [];\n  },\n\n  /**\n   * Touch move handler for scrolling support\n   */\n  doTouchMove: function(touches, timeStamp, scale) {\n    // Array-like check is enough here\n    if (touches.length == null) {\n      throw new Error(`Invalid touch list: ${touches}`);\n    }\n\n    if (timeStamp instanceof Date) {\n      timeStamp = timeStamp.valueOf();\n    }\n    if (typeof timeStamp !== 'number') {\n      throw new Error(`Invalid timestamp value: ${timeStamp}`);\n    }\n\n    const me = this;\n\n    // Ignore event when tracking is not enabled (event might be outside of element)\n    if (!me.__isTracking) {\n      return;\n    }\n\n    let currentTouchLeft;\n    let currentTouchTop;\n\n    // Compute move based around of center of fingers\n    if (touches.length === 2) {\n      currentTouchLeft = Math.abs(touches[0].pageX + touches[1].pageX) / 2;\n      currentTouchTop = Math.abs(touches[0].pageY + touches[1].pageY) / 2;\n    } else {\n      currentTouchLeft = touches[0].pageX;\n      currentTouchTop = touches[0].pageY;\n    }\n\n    const positions = me.__positions;\n\n    // Are we already is dragging mode?\n    if (me.__isDragging) {\n      // Compute move distance\n      const moveX = currentTouchLeft - me.__lastTouchLeft;\n      const moveY = currentTouchTop - me.__lastTouchTop;\n\n      // Read previous scroll position and zooming\n      let scrollLeft = me.__scrollLeft;\n      let scrollTop = me.__scrollTop;\n      let level = me.__zoomLevel;\n\n      // Work with scaling\n      if (scale != null && me.options.zooming) {\n        const oldLevel = level;\n\n        // Recompute level based on previous scale and new scale\n        level = level / me.__lastScale * scale;\n\n        // Limit level according to configuration\n        level = Math.max(Math.min(level, me.options.maxZoom), me.options.minZoom);\n\n        // Only do further compution when change happened\n        if (oldLevel !== level) {\n          // Compute relative event position to container\n          const currentTouchLeftRel = currentTouchLeft - me.__clientLeft;\n          const currentTouchTopRel = currentTouchTop - me.__clientTop;\n\n          // Recompute left and top coordinates based on new zoom level\n          scrollLeft = (currentTouchLeftRel + scrollLeft) * level / oldLevel - currentTouchLeftRel;\n          scrollTop = (currentTouchTopRel + scrollTop) * level / oldLevel - currentTouchTopRel;\n\n          // Recompute max scroll values\n          me.__computeScrollMax(level);\n        }\n      }\n\n      if (me.__enableScrollX) {\n        scrollLeft -= moveX * this.options.speedMultiplier;\n        const maxScrollLeft = me.__maxScrollLeft;\n\n        if (scrollLeft > maxScrollLeft || scrollLeft < 0) {\n          // Slow down on the edges\n          if (me.options.bouncing) {\n            scrollLeft += moveX / 2 * this.options.speedMultiplier;\n          } else if (scrollLeft > maxScrollLeft) {\n            scrollLeft = maxScrollLeft;\n          } else {\n            scrollLeft = 0;\n          }\n        }\n      }\n\n      // Compute new vertical scroll position\n      if (me.__enableScrollY) {\n        scrollTop -= moveY * this.options.speedMultiplier;\n        const maxScrollTop = me.__maxScrollTop;\n\n        if (scrollTop > maxScrollTop || scrollTop < 0) {\n          // Slow down on the edges\n          if (me.options.bouncing) {\n            scrollTop += moveY / 2 * this.options.speedMultiplier;\n\n            // Support pull-to-refresh (only when only y is scrollable)\n            if (!me.__enableScrollX && me.__refreshHeight != null) {\n              if (!me.__refreshActive && scrollTop <= -me.__refreshHeight) {\n                me.__refreshActive = true;\n                if (me.__refreshActivate) {\n                  me.__refreshActivate();\n                }\n              } else if (me.__refreshActive && scrollTop > -me.__refreshHeight) {\n                me.__refreshActive = false;\n                if (me.__refreshDeactivate) {\n                  me.__refreshDeactivate();\n                }\n              }\n            }\n          } else if (scrollTop > maxScrollTop) {\n            scrollTop = maxScrollTop;\n          } else {\n            scrollTop = 0;\n          }\n        }\n      }\n\n      // Keep list from growing infinitely (holding min 10, max 20 measure points)\n      if (positions.length > 60) {\n        positions.splice(0, 30);\n      }\n\n      // Track scroll movement for decleration\n      positions.push(scrollLeft, scrollTop, timeStamp);\n\n      // Sync scroll position\n      me.__publish(scrollLeft, scrollTop, level);\n\n      // Otherwise figure out whether we are switching into dragging mode now.\n    } else {\n      const minimumTrackingForScroll = me.options.locking ? 3 : 0;\n      const minimumTrackingForDrag = 5;\n\n      const distanceX = Math.abs(currentTouchLeft - me.__initialTouchLeft);\n      const distanceY = Math.abs(currentTouchTop - me.__initialTouchTop);\n\n      me.__enableScrollX = me.options.scrollingX && distanceX >= minimumTrackingForScroll;\n      me.__enableScrollY = me.options.scrollingY && distanceY >= minimumTrackingForScroll;\n\n      positions.push(me.__scrollLeft, me.__scrollTop, timeStamp);\n\n      me.__isDragging =\n        (me.__enableScrollX || me.__enableScrollY) &&\n        (distanceX >= minimumTrackingForDrag || distanceY >= minimumTrackingForDrag);\n      if (me.__isDragging) {\n        me.__interruptedAnimation = false;\n      }\n    }\n\n    // Update last touch positions and time stamp for next event\n    me.__lastTouchLeft = currentTouchLeft;\n    me.__lastTouchTop = currentTouchTop;\n    me.__lastTouchMove = timeStamp;\n    me.__lastScale = scale;\n  },\n\n  /**\n   * Touch end handler for scrolling support\n   */\n  doTouchEnd: function(timeStamp) {\n    if (timeStamp instanceof Date) {\n      timeStamp = timeStamp.valueOf();\n    }\n    if (typeof timeStamp !== 'number') {\n      throw new Error(`Invalid timestamp value: ${timeStamp}`);\n    }\n\n    const me = this;\n\n    // Ignore event when tracking is not enabled (no touchstart event on element)\n    // This is required as this listener ('touchmove') sits on the document and not on the element itme.\n    if (!me.__isTracking) {\n      return;\n    }\n\n    // Not touching anymore (when two finger hit the screen there are two touch end events)\n    me.__isTracking = false;\n\n    // Be sure to reset the dragging flag now. Here we also detect whether\n    // the finger has moved fast enough to switch into a deceleration animation.\n    if (me.__isDragging) {\n      // Reset dragging flag\n      me.__isDragging = false;\n\n      // Start deceleration\n      // Verify that the last move detected was in some relevant time frame\n      if (me.__isSingleTouch && me.options.animating && timeStamp - me.__lastTouchMove <= 100) {\n        // Then figure out what the scroll position was about 100ms ago\n        const positions = me.__positions;\n        const endPos = positions.length - 1;\n        let startPos = endPos;\n\n        // Move pointer to position measured 100ms ago\n        for (let i = endPos; i > 0 && positions[i] > me.__lastTouchMove - 100; i -= 3) {\n          startPos = i;\n        }\n\n        // If start and stop position is identical in a 100ms timeframe,\n        // we cannot compute any useful deceleration.\n        if (startPos !== endPos) {\n          // Compute relative movement between these two points\n          const timeOffset = positions[endPos] - positions[startPos];\n          const movedLeft = me.__scrollLeft - positions[startPos - 2];\n          const movedTop = me.__scrollTop - positions[startPos - 1];\n\n          // Based on 50ms compute the movement to apply for each render step\n          me.__decelerationVelocityX = movedLeft / timeOffset * (1000 / 60);\n          me.__decelerationVelocityY = movedTop / timeOffset * (1000 / 60);\n\n          // How much velocity is required to start the deceleration\n          const minVelocityToStartDeceleration = me.options.paging || me.options.snapping ? 4 : 1;\n\n          // Verify that we have enough velocity to start deceleration\n          if (\n            Math.abs(me.__decelerationVelocityX) > minVelocityToStartDeceleration ||\n            Math.abs(me.__decelerationVelocityY) > minVelocityToStartDeceleration\n          ) {\n            // Deactivate pull-to-refresh when decelerating\n            if (!me.__refreshActive) {\n              me.__startDeceleration(timeStamp);\n            }\n          } else {\n            me.options.scrollingComplete();\n          }\n        } else {\n          me.options.scrollingComplete();\n        }\n      } else if (timeStamp - me.__lastTouchMove > 100) {\n        me.options.scrollingComplete();\n      }\n    }\n\n    // If this was a slower move it is per default non decelerated, but this\n    // still means that we want snap back to the bounds which is done here.\n    // This is placed outside the condition above to improve edge case stability\n    // e.g. touchend fired without enabled dragging. This should normally do not\n    // have modified the scroll positions or even showed the scrollbars though.\n    if (!me.__isDecelerating) {\n      if (me.__refreshActive && me.__refreshStart) {\n        // Use publish instead of scrollTo to allow scrolling to out of boundary position\n        // We don't need to normalize scrollLeft, zoomLevel, etc. here because we only y-scrolling when pull-to-refresh is enabled\n        me.__publish(me.__scrollLeft, -me.__refreshHeight, me.__zoomLevel, true);\n\n        if (me.__refreshStart) {\n          me.__refreshStart();\n        }\n      } else {\n        if (me.__interruptedAnimation || me.__isDragging) {\n          me.options.scrollingComplete();\n        }\n        me.scrollTo(me.__scrollLeft, me.__scrollTop, true, me.__zoomLevel);\n\n        // Directly signalize deactivation (nothing todo on refresh?)\n        if (me.__refreshActive) {\n          me.__refreshActive = false;\n          if (me.__refreshDeactivate) {\n            me.__refreshDeactivate();\n          }\n        }\n      }\n    }\n\n    // Fully cleanup list\n    me.__positions.length = 0;\n  },\n\n  /*\n    ---------------------------------------------------------------------------\n        PRIVATE API\n    ---------------------------------------------------------------------------\n    */\n\n  /**\n   * Applies the scroll position to the content element\n   *\n   * @param left {Number} Left scroll position\n   * @param top {Number} Top scroll position\n   * @param animate {Boolean?false} Whether animation should be used to move to the new coordinates\n   */\n  __publish: function(left, top, zoom, animate) {\n    const me = this;\n\n    // Remember whether we had an animation, then we try to continue based on the current \"drive\" of the animation\n    const wasAnimating = me.__isAnimating;\n    if (wasAnimating) {\n      Animate.stop(wasAnimating);\n      me.__isAnimating = false;\n    }\n\n    if (animate && me.options.animating) {\n      // Keep scheduled positions for scrollBy/zoomBy functionality\n      me.__scheduledLeft = left;\n      me.__scheduledTop = top;\n      me.__scheduledZoom = zoom;\n\n      const oldLeft = me.__scrollLeft;\n      const oldTop = me.__scrollTop;\n      const oldZoom = me.__zoomLevel;\n\n      const diffLeft = left - oldLeft;\n      const diffTop = top - oldTop;\n      const diffZoom = zoom - oldZoom;\n\n      const step = function(percent, now, render) {\n        if (render) {\n          me.__scrollLeft = oldLeft + diffLeft * percent;\n          me.__scrollTop = oldTop + diffTop * percent;\n          me.__zoomLevel = oldZoom + diffZoom * percent;\n\n          // Push values out\n          if (me.__callback) {\n            me.__callback(me.__scrollLeft, me.__scrollTop, me.__zoomLevel);\n          }\n        }\n      };\n\n      const verify = function(id) {\n        return me.__isAnimating === id;\n      };\n\n      const completed = function(renderedFramesPerSecond, animationId, wasFinished) {\n        if (animationId === me.__isAnimating) {\n          me.__isAnimating = false;\n        }\n        if (me.__didDecelerationComplete || wasFinished) {\n          me.options.scrollingComplete();\n        }\n\n        if (me.options.zooming) {\n          me.__computeScrollMax();\n          if (me.__zoomComplete) {\n            me.__zoomComplete();\n            me.__zoomComplete = null;\n          }\n        }\n      };\n\n      // When continuing based on previous animation we choose an ease-out animation instead of ease-in-out\n      me.__isAnimating = Animate.start(\n        step,\n        verify,\n        completed,\n        me.options.animationDuration,\n        wasAnimating ? easeOutCubic : easeInOutCubic\n      );\n    } else {\n      me.__scheduledLeft = me.__scrollLeft = left;\n      me.__scheduledTop = me.__scrollTop = top;\n      me.__scheduledZoom = me.__zoomLevel = zoom;\n\n      // Push values out\n      if (me.__callback) {\n        me.__callback(left, top, zoom);\n      }\n\n      // Fix max scroll ranges\n      if (me.options.zooming) {\n        me.__computeScrollMax();\n        if (me.__zoomComplete) {\n          me.__zoomComplete();\n          me.__zoomComplete = null;\n        }\n      }\n    }\n  },\n\n  /**\n   * Recomputes scroll minimum values based on client dimensions and content dimensions.\n   */\n  __computeScrollMax: function(zoomLevel) {\n    const me = this;\n\n    if (zoomLevel == null) {\n      zoomLevel = me.__zoomLevel;\n    }\n\n    me.__maxScrollLeft = Math.max(me.__contentWidth * zoomLevel - me.__clientWidth, 0);\n    me.__maxScrollTop = Math.max(me.__contentHeight * zoomLevel - me.__clientHeight, 0);\n  },\n\n  /*\n    ---------------------------------------------------------------------------\n        ANIMATION (DECELERATION) SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n  /**\n   * Called when a touch sequence end and the speed of the finger was high enough\n   * to switch into deceleration mode.\n   */\n  __startDeceleration: function(timeStamp) {\n    const me = this;\n\n    if (me.options.paging) {\n      const scrollLeft = Math.max(Math.min(me.__scrollLeft, me.__maxScrollLeft), 0);\n      const scrollTop = Math.max(Math.min(me.__scrollTop, me.__maxScrollTop), 0);\n      const clientWidth = me.__clientWidth;\n      const clientHeight = me.__clientHeight;\n\n      // We limit deceleration not to the min/max values of the allowed range, but to the size of the visible client area.\n      // Each page should have exactly the size of the client area.\n      me.__minDecelerationScrollLeft = Math.floor(scrollLeft / clientWidth) * clientWidth;\n      me.__minDecelerationScrollTop = Math.floor(scrollTop / clientHeight) * clientHeight;\n      me.__maxDecelerationScrollLeft = Math.ceil(scrollLeft / clientWidth) * clientWidth;\n      me.__maxDecelerationScrollTop = Math.ceil(scrollTop / clientHeight) * clientHeight;\n    } else {\n      me.__minDecelerationScrollLeft = 0;\n      me.__minDecelerationScrollTop = 0;\n      me.__maxDecelerationScrollLeft = me.__maxScrollLeft;\n      me.__maxDecelerationScrollTop = me.__maxScrollTop;\n    }\n\n    // Wrap class method\n    const step = function(percent, now, render) {\n      me.__stepThroughDeceleration(render);\n    };\n\n    // How much velocity is required to keep the deceleration running\n    const minVelocityToKeepDecelerating = me.options.snapping ? 4 : 0.001;\n\n    // Detect whether it's still worth to continue animating steps\n    // If we are already slow enough to not being user perceivable anymore, we stop the whole process here.\n    const verify = function() {\n      const shouldContinue =\n        Math.abs(me.__decelerationVelocityX) >= minVelocityToKeepDecelerating ||\n        Math.abs(me.__decelerationVelocityY) >= minVelocityToKeepDecelerating;\n      if (!shouldContinue) {\n        me.__didDecelerationComplete = true;\n      }\n      return shouldContinue;\n    };\n\n    const completed = function(renderedFramesPerSecond, animationId, wasFinished) {\n      me.__isDecelerating = false;\n      if (me.__didDecelerationComplete) {\n        me.options.scrollingComplete();\n      }\n\n      // Animate to grid when snapping is active, otherwise just fix out-of-boundary positions\n      me.scrollTo(me.__scrollLeft, me.__scrollTop, me.options.snapping);\n    };\n\n    // Start animation and switch on flag\n    me.__isDecelerating = Animate.start(step, verify, completed);\n  },\n\n  /**\n   * Called on every step of the animation\n   *\n   * @param inMemory {Boolean?false} Whether to not render the current step, but keep it in memory only. Used internally only!\n   */\n  __stepThroughDeceleration: function(render) {\n    const me = this;\n\n    //\n    // COMPUTE NEXT SCROLL POSITION\n    //\n\n    // Add deceleration to scroll position\n    let scrollLeft = me.__scrollLeft + me.__decelerationVelocityX;\n    let scrollTop = me.__scrollTop + me.__decelerationVelocityY;\n\n    //\n    // HARD LIMIT SCROLL POSITION FOR NON BOUNCING MODE\n    //\n\n    if (!me.options.bouncing) {\n      const scrollLeftFixed = Math.max(\n        Math.min(me.__maxDecelerationScrollLeft, scrollLeft),\n        me.__minDecelerationScrollLeft\n      );\n      if (scrollLeftFixed !== scrollLeft) {\n        scrollLeft = scrollLeftFixed;\n        me.__decelerationVelocityX = 0;\n      }\n\n      const scrollTopFixed = Math.max(\n        Math.min(me.__maxDecelerationScrollTop, scrollTop),\n        me.__minDecelerationScrollTop\n      );\n      if (scrollTopFixed !== scrollTop) {\n        scrollTop = scrollTopFixed;\n        me.__decelerationVelocityY = 0;\n      }\n    }\n\n    //\n    // UPDATE SCROLL POSITION\n    //\n\n    if (render) {\n      me.__publish(scrollLeft, scrollTop, me.__zoomLevel);\n    } else {\n      me.__scrollLeft = scrollLeft;\n      me.__scrollTop = scrollTop;\n    }\n\n    //\n    // SLOW DOWN\n    //\n\n    // Slow down velocity on every iteration\n    if (!me.options.paging) {\n      // This is the factor applied to every iteration of the animation\n      // to slow down the process. This should emulate natural behavior where\n      // objects slow down when the initiator of the movement is removed\n      const frictionFactor = 0.95;\n\n      me.__decelerationVelocityX *= frictionFactor;\n      me.__decelerationVelocityY *= frictionFactor;\n    }\n\n    //\n    // BOUNCING SUPPORT\n    //\n\n    if (me.options.bouncing) {\n      let scrollOutsideX = 0;\n      let scrollOutsideY = 0;\n\n      // This configures the amount of change applied to deceleration/acceleration when reaching boundaries\n      const { penetrationDeceleration, penetrationAcceleration } = me.options;\n\n      // Check limits\n      if (scrollLeft < me.__minDecelerationScrollLeft) {\n        scrollOutsideX = me.__minDecelerationScrollLeft - scrollLeft;\n      } else if (scrollLeft > me.__maxDecelerationScrollLeft) {\n        scrollOutsideX = me.__maxDecelerationScrollLeft - scrollLeft;\n      }\n\n      if (scrollTop < me.__minDecelerationScrollTop) {\n        scrollOutsideY = me.__minDecelerationScrollTop - scrollTop;\n      } else if (scrollTop > me.__maxDecelerationScrollTop) {\n        scrollOutsideY = me.__maxDecelerationScrollTop - scrollTop;\n      }\n\n      // Slow down until slow enough, then flip back to snap position\n      if (scrollOutsideX !== 0) {\n        if (scrollOutsideX * me.__decelerationVelocityX <= 0) {\n          me.__decelerationVelocityX += scrollOutsideX * penetrationDeceleration;\n        } else {\n          me.__decelerationVelocityX = scrollOutsideX * penetrationAcceleration;\n        }\n      }\n\n      if (scrollOutsideY !== 0) {\n        if (scrollOutsideY * me.__decelerationVelocityY <= 0) {\n          me.__decelerationVelocityY += scrollOutsideY * penetrationDeceleration;\n        } else {\n          me.__decelerationVelocityY = scrollOutsideY * penetrationAcceleration;\n        }\n      }\n    }\n  }\n};\n\n// Copy over members to prototype\nfor (const key in members) {\n  if (Object.prototype.hasOwnProperty.call(members, key)) {\n    Scroller.prototype[key] = members[key];\n  }\n}\nexport default Scroller;\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/util/scroller.js","/* eslint no-invalid-this: \"off\"*/\nimport $ from '@common/util/zepto';\nimport EventClass from '@components/eventclass';\nconst defaultOptions = new Map([['max', -1]]);\nclass CheckList extends EventClass {\n  constructor(wrapper) {\n    super();\n    const $wrapper = this._initDom(wrapper);\n    this.id = $wrapper.attr('id');\n    this._className = 'CheckList';\n    this._createEvent('onCreate onChange');\n    const options = new Map();\n    [...defaultOptions.keys()].forEach((key) => {\n      options.set(key, $wrapper.data(key) || defaultOptions.get(key));\n    });\n    this.options = options;\n    this._bindEvents();\n\n    $wrapper.data('constructed', 1);\n    window.setTimeout(() => {\n      this.dispatch('onCreate');\n    }, 0);\n  }\n\n  _initDom(wrapper) {\n    return this.$wrapper = $(wrapper);\n  }\n\n  _bindEvents() {\n    const me = this;\n\n    const $checklist = me.$wrapper;\n    $checklist.on('change', function() {\n      const selected = $(this)\n        .find('.lmui-cell input')\n        .filter(function() {\n          return $(this).prop('checked');\n        })\n        .map((index, item) => $(item).val())\n        .reduce((memo, item) => `${memo}${item},`, '');\n\n      const old = $(this).data('selected');\n\n      $(this).data('selected', selected);\n\n      me.dispatch('onChange', selected, old);\n    });\n    $checklist.find('input').on('click', (e) => {\n      const $checkedElements = $checklist.find('.lmui-cell input').filter(function() {\n        return $(this).prop('checked');\n      });\n\n      if ($checkedElements.length - 1 === $checklist.data('max')) {\n        e.preventDefault();\n        e.stopPropagation();\n        return;\n      }\n    });\n  }\n}\n\nexport default CheckList;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/checklist/index.js","'use strict';\nimport './index.less';\nimport tpl from './index.html';\nimport { merge, render, addClass, removeClass } from '@common/util';\nimport Popbase from '@components/popbase';\nconst defaultOptions = {\n  // 是否默认打开\n  autoShow: true,\n  // 外包容器class\n  containerClass: 'lmui-popup-normal',\n  // 位置 left right top bottom\n  placement: 'bottom',\n  // 关闭class\n  closeClass: 'lmui-actionsheet-item',\n  // 是否是模态\n  modal: true,\n  // 模态关闭\n  backClose: true,\n  // overlay的zIndex固定\n  fixOverlay: true,\n  // 是否关闭时销毁\n  destoryOnClose: true,\n  // 配置数据\n  data: [],\n  // 取消按钮配置\n  cancelText: '取消'\n};\n\nexport default class Actionsheet extends Popbase {\n  constructor(options) {\n    const newOptions = merge({}, defaultOptions, options);\n    newOptions.closeOnClickModal = newOptions.backClose;\n    super(newOptions);\n    this._className = 'Actionsheet';\n    this._createEvent('onBtnClick');\n  }\n\n  _initDom() {\n    this.container = document.createElement('div');\n    this.container.className = `${this.containerClass} lmui-popup-container lmui-popup-${this.placement}`;\n    this.container.innerHTML = render(tpl, this);\n    this.warp.appendChild(this.container);\n  }\n\n  _initEvent() {\n    this.container.addEventListener(\n      'click',\n      (e) => {\n        if (e.target.dataset.index) {\n          const index = parseInt(e.target.dataset.index, 10);\n          if (this.dispatch('onBtnClick', index, this.data[index]) !== false) {\n            this.close();\n          }\n        }\n        if (e.target.className.indexOf(this.closeClass) >= 0) {\n          this.close();\n          return false;\n        }\n      },\n      false\n    );\n  }\n\n  _onOpen() {\n    this.transition = true;\n    addClass(this.container, `lmui-popup-${this.placement}-enter`);\n    window.setTimeout(() => {\n      this.transition = false;\n      this._doAfterOpen();\n    }, 300);\n  }\n\n  _onClose() {\n    this.transition = true;\n    removeClass(this.container, `lmui-popup-${this.placement}-enter`);\n    window.setTimeout(() => {\n      this.transition = false;\n      this._doAfterClose();\n    }, 300);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/actionsheet/index.js","'use strict';\nimport './index.less';\nimport { merge, addClass, removeClass } from '@common/util';\nimport Popbase from '@components/popbase';\nconst defaultOptions = {\n  // 是否默认打开\n  autoShow: true,\n  // 外包容器class\n  containerClass: 'lmui-popup-normal',\n  // 位置 left right top bottom\n  placement: 'bottom',\n  // 长度\n  width: 'auto',\n  // 宽度\n  height: 'auto',\n  // 弹出内容\n  content: '',\n  // 关闭class\n  closeClass: 'close',\n  // 内容定位方式\n  contentPosition: '', // h v hv\n  // 是否是模态\n  modal: true,\n  // 模态关闭\n  backClose: true,\n  // overlay的zIndex固定\n  fixOverlay: true,\n  // 是否关闭时销毁\n  destoryOnClose: false\n};\nexport default class Popup extends Popbase {\n  constructor(options) {\n    const newOptions = merge({}, defaultOptions, options);\n    newOptions.closeOnClickModal = newOptions.backClose;\n    super(newOptions);\n    this._className = 'Popup';\n  }\n\n  _initDom() {\n    this.container = document.createElement('div');\n    this.container.className = `${this.containerClass} lmui-popup-container lmui-popup-${this.placement}`;\n    this.width === 'auto' ? '' : (this.container.style.width = this.width);\n    this.height === 'auto' ? '' : (this.container.style.height = this.height);\n    this.container.innerHTML = this.content;\n    this.warp.appendChild(this.container);\n    if (this.contentPosition) {\n      const clist = this.container.children;\n      for (let i = 0; i < clist.length; i++) {\n        addClass(clist[i], `lmui-popup-${this.contentPosition}`);\n      }\n    }\n  }\n\n  _initEvent() {\n    const me = this;\n    this.container.addEventListener(\n      'click',\n      (e) => {\n        if (e.target.className.indexOf(me.closeClass) >= 0) {\n          me.close();\n          return false;\n        }\n      },\n      false\n    );\n  }\n\n  _onOpen() {\n    this.transition = true;\n    addClass(this.container, `lmui-popup-${this.placement}-enter`);\n    window.setTimeout(() => {\n      this.transition = false;\n      this._doAfterOpen();\n    }, 300);\n  }\n\n  _onClose() {\n    this.transition = true;\n    removeClass(this.container, `lmui-popup-${this.placement}-enter`);\n    window.setTimeout(() => {\n      this.transition = false;\n      this._doAfterClose();\n    }, 300);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/popup/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/index.less\n// module id = VKDx\n// module chunks = 0 1","'use strict';\nimport './index.less';\nimport { merge, addClass, removeClass } from '@common/util';\nimport Popover from '@components/popover';\nconst defaultOptions = {\n  // 外包容器class\n  containerClass: 'lmui-tooltip-normal'\n};\nexport default class Tooltip extends Popover {\n  constructor(options) {\n    const newOptions = merge({}, defaultOptions, options);\n    super(newOptions);\n    this._className = 'Tooltip';\n  }\n\n  _initDom() {\n    this.root = document.createElement('div');\n    this.root.className = 'lmui-tooltip-root';\n    document.body.appendChild(this.root);\n    this.container = document.createElement('div');\n    this.container.className = `${this.containerClass} lmui-tooltip-container lmui-tooltip-${this.placement}`;\n    this.container.innerHTML = [\n      '<div class=\"lmui-tooltip-content\">',\n      '<div class=\"lmui-tooltip-arrow\"></div>',\n      '<div class=\"lmui-tooltip-inner\">',\n      this.content,\n      '</div>',\n      '</div>'\n    ].join('');\n    this.root.appendChild(this.container);\n  }\n\n  _onOpen() {\n    this._position();\n    addClass(this.container, `lmui-tooltip-${this.placement}-enter`);\n  }\n\n  _onClose() {\n    removeClass(this.container, `lmui-tooltip-${this.placement}-enter`);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tooltip/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/actionsheet/index.less\n// module id = Z+Km\n// module chunks = 0 1","'use strict';\nconst time =\n  Date.now ||\n  function() {\n    return +new Date();\n  };\nconst desiredFrames = 60;\nconst millisecondsPerSecond = 1000;\nlet running = {};\nlet counter = 1;\n\nconst Animate = {\n  /**\n   * A requestAnimationFrame wrapper / polyfill.\n   *\n   * @param callback {Function} The callback to be invoked before the next repaint.\n   * @param root {HTMLElement} The root element for the repaint\n   */\n  requestAnimationFrame: (function() {\n    // Check for request animation Frame support\n    const requestFrame =\n      window.requestAnimationFrame ||\n      window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.oRequestAnimationFrame;\n    let isNative = !!requestFrame;\n\n    if (requestFrame && !/requestAnimationFrame\\(\\)\\s*\\{\\s*\\[native code\\]\\s*\\}/i.test(requestFrame.toString())) {\n      isNative = false;\n    }\n\n    if (isNative) {\n      return function(callback, root) {\n        requestFrame(callback, root);\n      };\n    }\n\n    const TARGET_FPS = 60;\n    let requests = {};\n    let requestCount = 0;\n    let rafHandle = 1;\n    let intervalHandle = null;\n    let lastActive = +new Date();\n\n    return function(callback, root) {\n      const callbackHandle = rafHandle++;\n\n      // Store callback\n      requests[callbackHandle] = callback;\n      requestCount++;\n\n      // Create timeout at first request\n      if (intervalHandle === null) {\n        intervalHandle = setInterval(() => {\n          const now = +new Date();\n          const currentRequests = requests;\n\n          // Reset data structure before executing callbacks\n          requests = {};\n          requestCount = 0;\n\n          for (const key in currentRequests) {\n            if (Object.prototype.hasOwnProperty.call(currentRequests, key)) {\n              currentRequests[key](now);\n              lastActive = now;\n            }\n          }\n\n          // Disable the timeout when nothing happens for a certain\n          // period of time\n          if (now - lastActive > 2500) {\n            clearInterval(intervalHandle);\n            intervalHandle = null;\n          }\n        }, 1000 / TARGET_FPS);\n      }\n\n      return callbackHandle;\n    };\n  })(),\n\n  /**\n   * Stops the given animation.\n   *\n   * @param id {Integer} Unique animation ID\n   * @return {Boolean} Whether the animation was stopped (aka, was running before)\n   */\n  stop: function(id) {\n    const cleared = running[id] != null;\n    if (cleared) {\n      running[id] = null;\n    }\n\n    return cleared;\n  },\n\n  /**\n   * Whether the given animation is still running.\n   *\n   * @param id {Integer} Unique animation ID\n   * @return {Boolean} Whether the animation is still running\n   */\n  isRunning: function(id) {\n    return running[id] != null;\n  },\n\n  /**\n   * Start the animation.\n   *\n   * @param stepCallback {Function} Pointer to function which is executed on every step.\n   *   Signature of the method should be `function(percent, now, virtual) { return continueWithAnimation; }`\n   * @param verifyCallback {Function} Executed before every animation step.\n   *   Signature of the method should be `function() { return continueWithAnimation; }`\n   * @param completedCallback {Function}\n   *   Signature of the method should be `function(droppedFrames, finishedAnimation) {}`\n   * @param duration {Integer} Milliseconds to run the animation\n   * @param easingMethod {Function} Pointer to easing function\n   *   Signature of the method should be `function(percent) { return modifiedValue; }`\n   * @param root {Element ? document.body} Render root, when available. Used for internal\n   *   usage of requestAnimationFrame.\n   * @return {Integer} Identifier of animation. Can be used to stop it any time.\n   */\n  start: function(stepCallback, verifyCallback, completedCallback, duration, easingMethod, root) {\n    const start = time();\n    let lastFrame = start;\n    let percent = 0;\n    let dropCounter = 0;\n    const id = counter++;\n\n    if (!root) {\n      root = document.body;\n    }\n\n    // Compacting running db automatically every few new animations\n    if (id % 20 === 0) {\n      const newRunning = {};\n      for (const usedId in running) {\n        if (Object.prototype.hasOwnProperty.call(running, usedId)) {\n          newRunning[usedId] = true;\n        }\n      }\n      running = newRunning;\n    }\n\n    // This is the internal step method which is called every few milliseconds\n    const step = function(virtual) {\n      // Normalize virtual value\n      const render = virtual !== true;\n\n      // Get current time\n      const now = time();\n\n      // Verification is executed before next animation step\n      if (!running[id] || (verifyCallback && !verifyCallback(id))) {\n        running[id] = null;\n        completedCallback &&\n          completedCallback(desiredFrames - dropCounter / ((now - start) / millisecondsPerSecond), id, false);\n        return;\n      }\n\n      // For the current rendering to apply let's update omitted steps in memory.\n      // This is important to bring internal state variables up-to-date with progress in time.\n      if (render) {\n        const droppedFrames = Math.round((now - lastFrame) / (millisecondsPerSecond / desiredFrames)) - 1;\n        for (let j = 0; j < Math.min(droppedFrames, 4); j++) {\n          step(true);\n          dropCounter++;\n        }\n      }\n\n      // Compute percent value\n      if (duration) {\n        percent = (now - start) / duration;\n        if (percent > 1) {\n          percent = 1;\n        }\n      }\n\n      // Execute step callback, then...\n      const value = easingMethod ? easingMethod(percent) : percent;\n      if ((stepCallback(value, now, render) === false || percent === 1) && render) {\n        running[id] = null;\n        completedCallback &&\n          completedCallback(\n            desiredFrames - dropCounter / ((now - start) / millisecondsPerSecond),\n            id,\n            percent === 1 || duration == null\n          );\n      } else if (render) {\n        lastFrame = now;\n        Animate.requestAnimationFrame(step, root);\n      }\n    };\n\n    // Mark as running\n    running[id] = true;\n\n    // Init first step\n    Animate.requestAnimationFrame(step, root);\n\n    // Return unique animation ID\n    return id;\n  }\n};\nexport default Animate;\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/util/animate.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/popManager/index.less\n// module id = ZXKU\n// module chunks = 0 1","'use strict';\nimport './index.less';\nimport { merge, addClass, removeClass } from '@common/util';\nimport Popbase from '@components/popbase';\nconst defaultOptions = {\n  // 目标元素dom\n  target: null,\n  // 触发行为 hover focus click\n  action: 'hover',\n  // distance 根元素具体target的距离\n  distance: 4,\n  // 是否默认打开\n  autoShow: false,\n  // 外包容器class\n  containerClass: 'lmui-popover-normal',\n  // 位置 top left right bottom topLeft topRight bottomLeft bottomRight leftTop leftBottom rightTop rightBottom\n  placement: 'top',\n  // 长度\n  width: 'auto',\n  // 宽度\n  height: 'auto',\n  // 弹出内容\n  content: '',\n  // 关闭class\n  closeClass: 'close',\n  // 是否是模态\n  modal: false,\n  // 模态关闭\n  backClose: false,\n  // overlay的zIndex固定\n  fixOverlay: true,\n  // 是否关闭时销毁\n  destoryOnClose: false\n};\nexport default class Popover extends Popbase {\n  constructor(options) {\n    const newOptions = merge({}, defaultOptions, options);\n    super(newOptions);\n    this._className = 'Popover';\n  }\n\n  _initDom() {\n    this.root = document.createElement('div');\n    this.root.className = 'lmui-popover-root';\n    document.body.appendChild(this.root);\n    this.container = document.createElement('div');\n    this.container.className = `${this.containerClass} lmui-popover-container lmui-popover-${this.placement}`;\n    this.container.innerHTML = [\n      '<div class=\"lmui-popover-content\">',\n      '<div class=\"lmui-popover-arrow\"></div>',\n      '<div class=\"lmui-popover-inner\">',\n      this.content,\n      '</div>',\n      '</div>'\n    ].join('');\n    this.root.appendChild(this.container);\n  }\n\n  _initEvent() {\n    const me = this;\n    if (this.action === 'click') {\n      this.target.addEventListener(\n        'click',\n        (e) => {\n          me.show();\n        },\n        false\n      );\n      window.addEventListener(\n        'click',\n        (e) => {\n          if (e.target !== me.target) {\n            me.close();\n          }\n        },\n        false\n      );\n    } else if (this.action === 'focus') {\n      this.target.addEventListener(\n        'focus',\n        (e) => {\n          me.show();\n        },\n        false\n      );\n      this.target.addEventListener(\n        'blur',\n        (e) => {\n          me.close();\n        },\n        false\n      );\n    } else {\n      this.target.addEventListener(\n        'mouseenter',\n        (e) => {\n          me.show();\n        },\n        false\n      );\n      this.target.addEventListener(\n        'mouseout',\n        (e) => {\n          me.close();\n        },\n        false\n      );\n    }\n  }\n\n  _position() {\n    const targetRect = this.target.getClientRects()[0];\n    const containerRect = this.container.getClientRects()[0];\n    if (this.placement.indexOf('right') === 0) {\n      this.container.style.left = `${targetRect.right + this.distance}px`;\n      this.container.style.top = `${targetRect.top + targetRect.height / 2}px`;\n    } else if (this.placement.indexOf('bottom') === 0) {\n      this.container.style.left = `${targetRect.left + targetRect.width / 2}px`;\n      this.container.style.top = `${targetRect.top + targetRect.height + this.distance}px`;\n    } else if (this.placement.indexOf('left') === 0) {\n      this.container.style.left = `${targetRect.left - containerRect.width - this.distance}px`;\n      this.container.style.top = `${targetRect.top + targetRect.height / 2}px`;\n    } else {\n      // top\n      this.container.style.left = `${targetRect.left + targetRect.width / 2}px`;\n      this.container.style.top = `${targetRect.top - containerRect.height - this.distance}px`;\n    }\n  }\n\n  _onOpen() {\n    this._position();\n    addClass(this.container, `lmui-popover-${this.placement}-enter`);\n  }\n\n  _onClose() {\n    removeClass(this.container, `lmui-popover-${this.placement}-enter`);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/popover/index.js","module.exports = \"<div class=\\\"lmui-actionsheet\\\">\\n    <ul class=\\\"lmui-actionsheet-container\\\">\\n    <% for(var i = 0; i < data.length; i++) { %>\\n        <li class=\\\"lmui-actionsheet-item\\\" data-index=\\\"<%=i%>\\\"><%=data[i].text%></li>\\n    <% } %>\\n    <% if(cancelText) { %>\\n        <li class=\\\"lmui-actionsheet-item\\\"><%=cancelText%></li>\\n    <% } %>\\n    </ul>\\n</div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/actionsheet/index.html\n// module id = d0mR\n// module chunks = 0 1","/* eslint no-invalid-this: \"off\"*/\nimport $ from '@common/util/zepto';\nimport EventClass from '@components/eventclass';\nconst defaultOptions = new Map([['on', 0]]);\nclass Switch extends EventClass {\n  constructor(wrapper) {\n    super();\n    const $wrapper = this._initDom(wrapper);\n    this.id = $wrapper.attr('id');\n    this._className = 'Switch';\n    this._createEvent('onCreate onChange');\n    const options = new Map();\n    [...defaultOptions.keys()].forEach((key) => {\n      options.set(key, $wrapper.data(key) || defaultOptions.get(key));\n    });\n    this.options = options;\n    this._bindEvents();\n\n    $wrapper.data('constructed', 1);\n    window.setTimeout(() => {\n      this.dispatch('onCreate');\n    }, 0);\n  }\n\n  _initDom(wrapper) {\n    return (this.$wrapper = $(wrapper));\n  }\n\n  _bindEvents() {\n    const me = this;\n\n    me.$wrapper.on('change', function() {\n      const on = +$(this)\n        .find('input')\n        .prop('checked');\n\n      const old = $(this).data('on');\n\n      $(this).data('on', on);\n\n      me.dispatch('onChange', on, old);\n    });\n  }\n}\n\nexport default Switch;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/switch/index.js","module.exports = \"<div class=\\\"lmui-spin-container <%=type%>\\\">\\n    <svg class=\\\"loadding\\\" viewBox=\\\"0 0 200 200\\\">\\n        <circle cx=\\\"100\\\" cy=\\\"100\\\" r=\\\"95\\\"></circle>\\n        <g class=\\\"right\\\">\\n            <path d=\\\"m85,132l61,-74\\\" />\\n            <path d=\\\"m85,132l-36,-42\\\" />\\n        </g>\\n        <g class=\\\"wrong\\\">\\n            <path d=\\\"m100,100l-34,-34\\\" />\\n            <path d=\\\"m100,100l34,34\\\" />\\n            <path d=\\\"m100,100l-34,34\\\" />\\n            <path d=\\\"m100,100l34,-34\\\" />\\n        </g>\\n    </svg>\\n</div>\\n<p class=\\\"lmui-spin-text\\\" <% if(!text) { %>style=\\\"display:none;\\\"<% } %>><%=text%></p>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/spin/index.html\n// module id = kbIk\n// module chunks = 0 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/spin/index.less\n// module id = lUdw\n// module chunks = 0 1","import './index.less';\nimport util from '@common/util';\nimport Popup from '@components/popup';\nimport Dialog from '@components/dialog';\nimport Popover from '@components/popover';\nimport Tooltip from '@components/tooltip';\nimport Scroller from '@components/scroller';\nimport Picker from '@components/picker';\nimport Actionsheet from '@components/actionsheet';\nimport Spin from '@components/spin';\nimport CheckList from '@components/checklist';\nimport componentManger from '@components/componentManger';\nimport Switch from '@components/switch';\nimport RadioList from '@components/radiolist';\n\nexport default {\n  Popup: Popup,\n  Dialog: Dialog,\n  Popover: Popover,\n  Tooltip: Tooltip,\n  toast: function(text, timeout, callback, config) {\n    if (Object.prototype.toString.call(timeout) === '[object Function]') {\n      config = callback;\n      callback = timeout;\n      timeout = null;\n    }\n    config = config || {};\n    const defaultOption = {\n      width: '85%',\n      containerClass: 'lmui-toast',\n      content: text,\n      timeout: +timeout || 2000,\n      button: []\n    };\n    return new Dialog(util.merge(defaultOption, config)).onClose(callback);\n  },\n  alert: function() {\n    return new Dialog();\n  },\n  Scroller: Scroller,\n  Picker: Picker,\n  Actionsheet: Actionsheet,\n  Spin: Spin,\n  CheckList: CheckList,\n  componentManger: componentManger,\n  Switch: Switch,\n  RadioList: RadioList\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","'use strict';\nimport { merge } from '@common/util';\nimport EventClass from '@components/eventclass';\nimport popManager from '@components/popManager';\nconst defaultOptions = {\n  // 是否默认打开\n  autoShow: false,\n  // 外包容器\n  warp: document.body,\n  // 延时打开\n  openDelay: 0,\n  // 延时关闭\n  closeDelay: 0,\n  // 默认zIndex值\n  zIndex: 0,\n  // 是否是模态\n  modal: false,\n  // 模态遮罩动画是否开启\n  modalFade: true,\n  // 模态遮罩是否添加到body上\n  modalAppendToBody: true,\n  // 是否锁定滚动\n  lockScroll: false,\n  // 键盘Esc触发关闭\n  closeOnPressEscape: false,\n  // 点击模态遮罩是否触发关闭\n  closeOnClickModal: false,\n  // 是否关闭时销毁\n  destoryOnClose: true,\n  // 模态遮罩className\n  modalClass: '',\n  // 自动关闭时间\n  timeout: 0,\n  // overlay的zIndex固定\n  fixOverlay: false\n};\nexport default class Popbase extends EventClass {\n  constructor(options) {\n    const newOptions = merge({}, defaultOptions, options);\n    super(newOptions);\n    this._className = 'Popbase';\n    popManager.register(this.instanceId(), this);\n    this._createEvent('onCreate onBeforeShow onShow onBeforeClose onClose onDestory');\n    this._initDom();\n    this._initEvent();\n    window.setTimeout(() => {\n      this.dispatch('onCreate');\n      if (this.autoShow) {\n        this.show();\n      }\n    }, 0);\n  }\n\n  // 初始化dom 该方法需要继承\n  _initDom() {\n    this.container = null;\n  }\n\n  // 初始化事件 该方法需要继承\n  _initEvent() {\n    console.log(this);\n  }\n\n  // 显示pop\n  show() {\n    // 如果已经开启状态 或者 onBeforeShow 返回 false 则不会打开\n    if (this.isOpened || this.dispatch('onBeforeShow') === false) {\n      return;\n    }\n    if (this._closeTimer) {\n      window.clearTimeout(this._closeTimer);\n      this._closeTimer = null;\n    }\n    window.clearTimeout(this._openTimer);\n    const openDelay = Number(this.openDelay);\n    if (openDelay > 0) {\n      // 执行延迟打开逻辑\n      const me = this;\n      this._openTimer = window.setTimeout(() => {\n        me._openTimer = null;\n        me._doOpen();\n      }, openDelay);\n    } else {\n      this._doOpen();\n    }\n  }\n\n  // 执行显示pop\n  _doOpen() {\n    if (this.willShow && !this.willShow()) {\n      return;\n    }\n    this.isOpening = true;\n    const { container, modal, zIndex } = this;\n    if (zIndex) {\n      popManager.zIndex = zIndex;\n    }\n    if (modal) {\n      if (this.isClosing) {\n        // 如果正在执行关闭，则立刻关闭\n        popManager.closePop(this.instanceId());\n        this.isClosing = false;\n      }\n      const { fixOverlay } = this;\n      const nextZIndex = popManager.nextZIndex();\n      // 打开遮罩层\n      popManager.openOverlay(\n        this.instanceId(),\n        fixOverlay ? undefined : nextZIndex,\n        this.modalAppendToBody ? undefined : this.warp,\n        this.modalClass,\n        this.modalFade\n      );\n      if (this.lockScroll) {\n        // 滚动锁定\n        if (!this.bodyOverflow) {\n          // this.bodyPaddingRight = document.body.style.paddingRight;\n          this.bodyOverflow = document.body.style.overflow;\n        }\n        // scrollBarWidth = getScrollBarWidth();\n        // var bodyHasOverflow = document.documentElement.clientHeight < document.body.scrollHeight;\n        // if (scrollBarWidth > 0 && bodyHasOverflow) {\n        //     document.body.style.paddingRight = scrollBarWidth + 'px';\n        // }\n        document.body.style.overflow = 'hidden';\n      }\n    }\n    if (getComputedStyle(container).position === 'static') {\n      container.style.position = 'absolute';\n    }\n    this.isOpened = true;\n    container.style.zIndex = popManager.nextZIndex();\n    // 各个子类自己定义_onOpen\n    this._onOpen && this._onOpen();\n    this.dispatch('onShow');\n    if (this.timeout) {\n      // 如果有定时关闭\n      this._timeout = window.setTimeout(() => {\n        this.close();\n        this._timeout = null;\n      }, this.timeout);\n    }\n    if (!this.transition) {\n      // 如果有过渡\n      this._doAfterOpen();\n    }\n  }\n\n  // 打开完毕后操作\n  _doAfterOpen() {\n    this.isOpening = false;\n  }\n\n  // 关闭\n  close() {\n    if (!this.isOpened || this.dispatch('onBeforeClose') === false) {\n      return;\n    }\n    if (this._openTimer !== null) {\n      window.clearTimeout(this._openTimer);\n      this._openTimer = null;\n    }\n    window.clearTimeout(this._closeTimer);\n    window.clearTimeout(this._timeout);\n    const closeDelay = Number(this.closeDelay);\n    if (closeDelay > 0) {\n      this._closeTimer = window.setTimeout(() => {\n        this._closeTimer = null;\n        this._doClose();\n      }, closeDelay);\n    } else {\n      this._doClose();\n    }\n  }\n\n  // 执行关闭\n  _doClose() {\n    if (this.willClose && !this.willClose()) {\n      return;\n    }\n    this.isClosing = true;\n    if (this.lockScroll) {\n      window.setTimeout(() => {\n        if (this.modal && this.bodyOverflow !== 'hidden') {\n          document.body.style.overflow = this.bodyOverflow;\n          // document.body.style.paddingRight = this.bodyPaddingRight;\n        }\n        this.bodyOverflow = null;\n        // this.bodyPaddingRight = null;\n      }, 300);\n    }\n    this._onClose && this._onClose();\n    this.isOpened = false;\n    this.dispatch('onClose');\n    if (!this.transition) {\n      this._doAfterClose();\n    }\n  }\n\n  // 关闭完毕后操作\n  _doAfterClose() {\n    popManager.closeOverlay(this.instanceId());\n    this.isClosing = false;\n    if (this.destoryOnClose) {\n      this.destory();\n    }\n  }\n\n  // 销毁\n  destory() {\n    this.dispatch('onDestory');\n    popManager.deregister(this.instanceId());\n    popManager.closeOverlay(this.instanceId());\n    if (this.modal && this.bodyOverflow !== null && this.bodyOverflow !== 'hidden') {\n      document.body.style.overflow = this.bodyOverflow;\n      // document.body.style.paddingRight = this.bodyPaddingRight;\n    }\n    this.bodyOverflow = null;\n    // this.bodyPaddingRight = null;\n    if (this.container) {\n      this.container.parentNode.removeChild(this.container);\n    }\n    delete this.container;\n    delete this;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/popbase/index.js","/* Zepto v1.2.0-27-g324cd27 - zepto event ajax form ie - zeptojs.com/license */\n(function(global, factory) {\n  if (typeof define === 'function' && define.amd)\n    define(function() { return factory(global) })\n  else\n    factory(global)\n}(window, function(window) {\n  var Zepto = (function() {\n  var undefined, key, $, classList, emptyArray = [], concat = emptyArray.concat, filter = emptyArray.filter, slice = emptyArray.slice,\n    document = window.document,\n    elementDisplay = {}, classCache = {},\n    cssNumber = { 'column-count': 1, 'columns': 1, 'font-weight': 1, 'line-height': 1,'opacity': 1, 'z-index': 1, 'zoom': 1 },\n    fragmentRE = /^\\s*<(\\w+|!)[^>]*>/,\n    singleTagRE = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,\n    tagExpanderRE = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/ig,\n    rootNodeRE = /^(?:body|html)$/i,\n    capitalRE = /([A-Z])/g,\n\n    // special attributes that should be get/set via method calls\n    methodAttributes = ['val', 'css', 'html', 'text', 'data', 'width', 'height', 'offset'],\n\n    adjacencyOperators = [ 'after', 'prepend', 'before', 'append' ],\n    table = document.createElement('table'),\n    tableRow = document.createElement('tr'),\n    containers = {\n      'tr': document.createElement('tbody'),\n      'tbody': table, 'thead': table, 'tfoot': table,\n      'td': tableRow, 'th': tableRow,\n      '*': document.createElement('div')\n    },\n    simpleSelectorRE = /^[\\w-]*$/,\n    class2type = {},\n    toString = class2type.toString,\n    zepto = {},\n    camelize, uniq,\n    tempParent = document.createElement('div'),\n    propMap = {\n      'tabindex': 'tabIndex',\n      'readonly': 'readOnly',\n      'for': 'htmlFor',\n      'class': 'className',\n      'maxlength': 'maxLength',\n      'cellspacing': 'cellSpacing',\n      'cellpadding': 'cellPadding',\n      'rowspan': 'rowSpan',\n      'colspan': 'colSpan',\n      'usemap': 'useMap',\n      'frameborder': 'frameBorder',\n      'contenteditable': 'contentEditable'\n    },\n    isArray = Array.isArray ||\n      function(object){ return object instanceof Array }\n\n  zepto.matches = function(element, selector) {\n    if (!selector || !element || element.nodeType !== 1) return false\n    var matchesSelector = element.matches || element.webkitMatchesSelector ||\n                          element.mozMatchesSelector || element.oMatchesSelector ||\n                          element.matchesSelector\n    if (matchesSelector) return matchesSelector.call(element, selector)\n    // fall back to performing a selector:\n    var match, parent = element.parentNode, temp = !parent\n    if (temp) (parent = tempParent).appendChild(element)\n    match = ~zepto.qsa(parent, selector).indexOf(element)\n    temp && tempParent.removeChild(element)\n    return match\n  }\n\n  function type(obj) {\n    return obj == null ? String(obj) :\n      class2type[toString.call(obj)] || \"object\"\n  }\n\n  function isFunction(value) { return type(value) == \"function\" }\n  function isWindow(obj)     { return obj != null && obj == obj.window }\n  function isDocument(obj)   { return obj != null && obj.nodeType == obj.DOCUMENT_NODE }\n  function isObject(obj)     { return type(obj) == \"object\" }\n  function isPlainObject(obj) {\n    return isObject(obj) && !isWindow(obj) && Object.getPrototypeOf(obj) == Object.prototype\n  }\n\n  function likeArray(obj) {\n    var length = !!obj && 'length' in obj && obj.length,\n      type = $.type(obj)\n\n    return 'function' != type && !isWindow(obj) && (\n      'array' == type || length === 0 ||\n        (typeof length == 'number' && length > 0 && (length - 1) in obj)\n    )\n  }\n\n  function compact(array) { return filter.call(array, function(item){ return item != null }) }\n  function flatten(array) { return array.length > 0 ? $.fn.concat.apply([], array) : array }\n  camelize = function(str){ return str.replace(/-+(.)?/g, function(match, chr){ return chr ? chr.toUpperCase() : '' }) }\n  function dasherize(str) {\n    return str.replace(/::/g, '/')\n           .replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2')\n           .replace(/([a-z\\d])([A-Z])/g, '$1_$2')\n           .replace(/_/g, '-')\n           .toLowerCase()\n  }\n  uniq = function(array){ return filter.call(array, function(item, idx){ return array.indexOf(item) == idx }) }\n\n  function classRE(name) {\n    return name in classCache ?\n      classCache[name] : (classCache[name] = new RegExp('(^|\\\\s)' + name + '(\\\\s|$)'))\n  }\n\n  function maybeAddPx(name, value) {\n    return (typeof value == \"number\" && !cssNumber[dasherize(name)]) ? value + \"px\" : value\n  }\n\n  function defaultDisplay(nodeName) {\n    var element, display\n    if (!elementDisplay[nodeName]) {\n      element = document.createElement(nodeName)\n      document.body.appendChild(element)\n      display = getComputedStyle(element, '').getPropertyValue(\"display\")\n      element.parentNode.removeChild(element)\n      display == \"none\" && (display = \"block\")\n      elementDisplay[nodeName] = display\n    }\n    return elementDisplay[nodeName]\n  }\n\n  function children(element) {\n    return 'children' in element ?\n      slice.call(element.children) :\n      $.map(element.childNodes, function(node){ if (node.nodeType == 1) return node })\n  }\n\n  function Z(dom, selector) {\n    var i, len = dom ? dom.length : 0\n    for (i = 0; i < len; i++) this[i] = dom[i]\n    this.length = len\n    this.selector = selector || ''\n  }\n\n  // `$.zepto.fragment` takes a html string and an optional tag name\n  // to generate DOM nodes from the given html string.\n  // The generated DOM nodes are returned as an array.\n  // This function can be overridden in plugins for example to make\n  // it compatible with browsers that don't support the DOM fully.\n  zepto.fragment = function(html, name, properties) {\n    var dom, nodes, container\n\n    // A special case optimization for a single tag\n    if (singleTagRE.test(html)) dom = $(document.createElement(RegExp.$1))\n\n    if (!dom) {\n      if (html.replace) html = html.replace(tagExpanderRE, \"<$1></$2>\")\n      if (name === undefined) name = fragmentRE.test(html) && RegExp.$1\n      if (!(name in containers)) name = '*'\n\n      container = containers[name]\n      container.innerHTML = '' + html\n      dom = $.each(slice.call(container.childNodes), function(){\n        container.removeChild(this)\n      })\n    }\n\n    if (isPlainObject(properties)) {\n      nodes = $(dom)\n      $.each(properties, function(key, value) {\n        if (methodAttributes.indexOf(key) > -1) nodes[key](value)\n        else nodes.attr(key, value)\n      })\n    }\n\n    return dom\n  }\n\n  // `$.zepto.Z` swaps out the prototype of the given `dom` array\n  // of nodes with `$.fn` and thus supplying all the Zepto functions\n  // to the array. This method can be overridden in plugins.\n  zepto.Z = function(dom, selector) {\n    return new Z(dom, selector)\n  }\n\n  // `$.zepto.isZ` should return `true` if the given object is a Zepto\n  // collection. This method can be overridden in plugins.\n  zepto.isZ = function(object) {\n    return object instanceof zepto.Z\n  }\n\n  // `$.zepto.init` is Zepto's counterpart to jQuery's `$.fn.init` and\n  // takes a CSS selector and an optional context (and handles various\n  // special cases).\n  // This method can be overridden in plugins.\n  zepto.init = function(selector, context) {\n    var dom\n    // If nothing given, return an empty Zepto collection\n    if (!selector) return zepto.Z()\n    // Optimize for string selectors\n    else if (typeof selector == 'string') {\n      selector = selector.trim()\n      // If it's a html fragment, create nodes from it\n      // Note: In both Chrome 21 and Firefox 15, DOM error 12\n      // is thrown if the fragment doesn't begin with <\n      if (selector[0] == '<' && fragmentRE.test(selector))\n        dom = zepto.fragment(selector, RegExp.$1, context), selector = null\n      // If there's a context, create a collection on that context first, and select\n      // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n      // If it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // If a function is given, call it when the DOM is ready\n    else if (isFunction(selector)) return $(document).ready(selector)\n    // If a Zepto collection is given, just return it\n    else if (zepto.isZ(selector)) return selector\n    else {\n      // normalize array if an array of nodes is given\n      if (isArray(selector)) dom = compact(selector)\n      // Wrap DOM nodes.\n      else if (isObject(selector))\n        dom = [selector], selector = null\n      // If it's a html fragment, create nodes from it\n      else if (fragmentRE.test(selector))\n        dom = zepto.fragment(selector.trim(), RegExp.$1, context), selector = null\n      // If there's a context, create a collection on that context first, and select\n      // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n      // And last but no least, if it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // create a new Zepto collection from the nodes found\n    return zepto.Z(dom, selector)\n  }\n\n  // `$` will be the base `Zepto` object. When calling this\n  // function just call `$.zepto.init, which makes the implementation\n  // details of selecting nodes and creating Zepto collections\n  // patchable in plugins.\n  $ = function(selector, context){\n    return zepto.init(selector, context)\n  }\n\n  function extend(target, source, deep) {\n    for (key in source)\n      if (deep && (isPlainObject(source[key]) || isArray(source[key]))) {\n        if (isPlainObject(source[key]) && !isPlainObject(target[key]))\n          target[key] = {}\n        if (isArray(source[key]) && !isArray(target[key]))\n          target[key] = []\n        extend(target[key], source[key], deep)\n      }\n      else if (source[key] !== undefined) target[key] = source[key]\n  }\n\n  // Copy all but undefined properties from one or more\n  // objects to the `target` object.\n  $.extend = function(target){\n    var deep, args = slice.call(arguments, 1)\n    if (typeof target == 'boolean') {\n      deep = target\n      target = args.shift()\n    }\n    args.forEach(function(arg){ extend(target, arg, deep) })\n    return target\n  }\n\n  // `$.zepto.qsa` is Zepto's CSS selector implementation which\n  // uses `document.querySelectorAll` and optimizes for some special cases, like `#id`.\n  // This method can be overridden in plugins.\n  zepto.qsa = function(element, selector){\n    var found,\n        maybeID = selector[0] == '#',\n        maybeClass = !maybeID && selector[0] == '.',\n        nameOnly = maybeID || maybeClass ? selector.slice(1) : selector, // Ensure that a 1 char tag name still gets checked\n        isSimple = simpleSelectorRE.test(nameOnly)\n    return (element.getElementById && isSimple && maybeID) ? // Safari DocumentFragment doesn't have getElementById\n      ( (found = element.getElementById(nameOnly)) ? [found] : [] ) :\n      (element.nodeType !== 1 && element.nodeType !== 9 && element.nodeType !== 11) ? [] :\n      slice.call(\n        isSimple && !maybeID && element.getElementsByClassName ? // DocumentFragment doesn't have getElementsByClassName/TagName\n          maybeClass ? element.getElementsByClassName(nameOnly) : // If it's simple, it could be a class\n          element.getElementsByTagName(selector) : // Or a tag\n          element.querySelectorAll(selector) // Or it's not simple, and we need to query all\n      )\n  }\n\n  function filtered(nodes, selector) {\n    return selector == null ? $(nodes) : $(nodes).filter(selector)\n  }\n\n  $.contains = document.documentElement.contains ?\n    function(parent, node) {\n      return parent !== node && parent.contains(node)\n    } :\n    function(parent, node) {\n      while (node && (node = node.parentNode))\n        if (node === parent) return true\n      return false\n    }\n\n  function funcArg(context, arg, idx, payload) {\n    return isFunction(arg) ? arg.call(context, idx, payload) : arg\n  }\n\n  function setAttribute(node, name, value) {\n    value == null ? node.removeAttribute(name) : node.setAttribute(name, value)\n  }\n\n  // access className property while respecting SVGAnimatedString\n  function className(node, value){\n    var klass = node.className || '',\n        svg   = klass && klass.baseVal !== undefined\n\n    if (value === undefined) return svg ? klass.baseVal : klass\n    svg ? (klass.baseVal = value) : (node.className = value)\n  }\n\n  // \"true\"  => true\n  // \"false\" => false\n  // \"null\"  => null\n  // \"42\"    => 42\n  // \"42.5\"  => 42.5\n  // \"08\"    => \"08\"\n  // JSON    => parse if valid\n  // String  => self\n  function deserializeValue(value) {\n    try {\n      return value ?\n        value == \"true\" ||\n        ( value == \"false\" ? false :\n          value == \"null\" ? null :\n          +value + \"\" == value ? +value :\n          /^[\\[\\{]/.test(value) ? $.parseJSON(value) :\n          value )\n        : value\n    } catch(e) {\n      return value\n    }\n  }\n\n  $.type = type\n  $.isFunction = isFunction\n  $.isWindow = isWindow\n  $.isArray = isArray\n  $.isPlainObject = isPlainObject\n\n  $.isEmptyObject = function(obj) {\n    var name\n    for (name in obj) return false\n    return true\n  }\n\n  $.isNumeric = function(val) {\n    var num = Number(val), type = typeof val\n    return val != null && type != 'boolean' &&\n      (type != 'string' || val.length) &&\n      !isNaN(num) && isFinite(num) || false\n  }\n\n  $.inArray = function(elem, array, i){\n    return emptyArray.indexOf.call(array, elem, i)\n  }\n\n  $.camelCase = camelize\n  $.trim = function(str) {\n    return str == null ? \"\" : String.prototype.trim.call(str)\n  }\n\n  // plugin compatibility\n  $.uuid = 0\n  $.support = { }\n  $.expr = { }\n  $.noop = function() {}\n\n  $.map = function(elements, callback){\n    var value, values = [], i, key\n    if (likeArray(elements))\n      for (i = 0; i < elements.length; i++) {\n        value = callback(elements[i], i)\n        if (value != null) values.push(value)\n      }\n    else\n      for (key in elements) {\n        value = callback(elements[key], key)\n        if (value != null) values.push(value)\n      }\n    return flatten(values)\n  }\n\n  $.each = function(elements, callback){\n    var i, key\n    if (likeArray(elements)) {\n      for (i = 0; i < elements.length; i++)\n        if (callback.call(elements[i], i, elements[i]) === false) return elements\n    } else {\n      for (key in elements)\n        if (callback.call(elements[key], key, elements[key]) === false) return elements\n    }\n\n    return elements\n  }\n\n  $.grep = function(elements, callback){\n    return filter.call(elements, callback)\n  }\n\n  if (window.JSON) $.parseJSON = JSON.parse\n\n  // Populate the class2type map\n  $.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"), function(i, name) {\n    class2type[ \"[object \" + name + \"]\" ] = name.toLowerCase()\n  })\n\n  // Define methods that will be available on all\n  // Zepto collections\n  $.fn = {\n    constructor: zepto.Z,\n    length: 0,\n\n    // Because a collection acts like an array\n    // copy over these useful array functions.\n    forEach: emptyArray.forEach,\n    reduce: emptyArray.reduce,\n    push: emptyArray.push,\n    sort: emptyArray.sort,\n    splice: emptyArray.splice,\n    indexOf: emptyArray.indexOf,\n    concat: function(){\n      var i, value, args = []\n      for (i = 0; i < arguments.length; i++) {\n        value = arguments[i]\n        args[i] = zepto.isZ(value) ? value.toArray() : value\n      }\n      return concat.apply(zepto.isZ(this) ? this.toArray() : this, args)\n    },\n\n    // `map` and `slice` in the jQuery API work differently\n    // from their array counterparts\n    map: function(fn){\n      return $($.map(this, function(el, i){ return fn.call(el, i, el) }))\n    },\n    slice: function(){\n      return $(slice.apply(this, arguments))\n    },\n\n    ready: function(callback){\n      // don't use \"interactive\" on IE <= 10 (it can fired premature)\n      if (document.readyState === \"complete\" ||\n          (document.readyState !== \"loading\" && !document.documentElement.doScroll))\n        setTimeout(function(){ callback($) }, 0)\n      else {\n        var handler = function() {\n          document.removeEventListener(\"DOMContentLoaded\", handler, false)\n          window.removeEventListener(\"load\", handler, false)\n          callback($)\n        }\n        document.addEventListener(\"DOMContentLoaded\", handler, false)\n        window.addEventListener(\"load\", handler, false)\n      }\n      return this\n    },\n    get: function(idx){\n      return idx === undefined ? slice.call(this) : this[idx >= 0 ? idx : idx + this.length]\n    },\n    toArray: function(){ return this.get() },\n    size: function(){\n      return this.length\n    },\n    remove: function(){\n      return this.each(function(){\n        if (this.parentNode != null)\n          this.parentNode.removeChild(this)\n      })\n    },\n    each: function(callback){\n      emptyArray.every.call(this, function(el, idx){\n        return callback.call(el, idx, el) !== false\n      })\n      return this\n    },\n    filter: function(selector){\n      if (isFunction(selector)) return this.not(this.not(selector))\n      return $(filter.call(this, function(element){\n        return zepto.matches(element, selector)\n      }))\n    },\n    add: function(selector,context){\n      return $(uniq(this.concat($(selector,context))))\n    },\n    is: function(selector){\n      return typeof selector == 'string' ? this.length > 0 && zepto.matches(this[0], selector) : \n          selector && this.selector == selector.selector\n    },\n    not: function(selector){\n      var nodes=[]\n      if (isFunction(selector) && selector.call !== undefined)\n        this.each(function(idx){\n          if (!selector.call(this,idx)) nodes.push(this)\n        })\n      else {\n        var excludes = typeof selector == 'string' ? this.filter(selector) :\n          (likeArray(selector) && isFunction(selector.item)) ? slice.call(selector) : $(selector)\n        this.forEach(function(el){\n          if (excludes.indexOf(el) < 0) nodes.push(el)\n        })\n      }\n      return $(nodes)\n    },\n    has: function(selector){\n      return this.filter(function(){\n        return isObject(selector) ?\n          $.contains(this, selector) :\n          $(this).find(selector).size()\n      })\n    },\n    eq: function(idx){\n      return idx === -1 ? this.slice(idx) : this.slice(idx, + idx + 1)\n    },\n    first: function(){\n      var el = this[0]\n      return el && !isObject(el) ? el : $(el)\n    },\n    last: function(){\n      var el = this[this.length - 1]\n      return el && !isObject(el) ? el : $(el)\n    },\n    find: function(selector){\n      var result, $this = this\n      if (!selector) result = $()\n      else if (typeof selector == 'object')\n        result = $(selector).filter(function(){\n          var node = this\n          return emptyArray.some.call($this, function(parent){\n            return $.contains(parent, node)\n          })\n        })\n      else if (this.length == 1) result = $(zepto.qsa(this[0], selector))\n      else result = this.map(function(){ return zepto.qsa(this, selector) })\n      return result\n    },\n    closest: function(selector, context){\n      var nodes = [], collection = typeof selector == 'object' && $(selector)\n      this.each(function(_, node){\n        while (node && !(collection ? collection.indexOf(node) >= 0 : zepto.matches(node, selector)))\n          node = node !== context && !isDocument(node) && node.parentNode\n        if (node && nodes.indexOf(node) < 0) nodes.push(node)\n      })\n      return $(nodes)\n    },\n    parents: function(selector){\n      var ancestors = [], nodes = this\n      while (nodes.length > 0)\n        nodes = $.map(nodes, function(node){\n          if ((node = node.parentNode) && !isDocument(node) && ancestors.indexOf(node) < 0) {\n            ancestors.push(node)\n            return node\n          }\n        })\n      return filtered(ancestors, selector)\n    },\n    parent: function(selector){\n      return filtered(uniq(this.pluck('parentNode')), selector)\n    },\n    children: function(selector){\n      return filtered(this.map(function(){ return children(this) }), selector)\n    },\n    contents: function() {\n      return this.map(function() { return this.contentDocument || slice.call(this.childNodes) })\n    },\n    siblings: function(selector){\n      return filtered(this.map(function(i, el){\n        return filter.call(children(el.parentNode), function(child){ return child!==el })\n      }), selector)\n    },\n    empty: function(){\n      return this.each(function(){ this.innerHTML = '' })\n    },\n    // `pluck` is borrowed from Prototype.js\n    pluck: function(property){\n      return $.map(this, function(el){ return el[property] })\n    },\n    show: function(){\n      return this.each(function(){\n        this.style.display == \"none\" && (this.style.display = '')\n        if (getComputedStyle(this, '').getPropertyValue(\"display\") == \"none\")\n          this.style.display = defaultDisplay(this.nodeName)\n      })\n    },\n    replaceWith: function(newContent){\n      return this.before(newContent).remove()\n    },\n    wrap: function(structure){\n      var func = isFunction(structure)\n      if (this[0] && !func)\n        var dom   = $(structure).get(0),\n            clone = dom.parentNode || this.length > 1\n\n      return this.each(function(index){\n        $(this).wrapAll(\n          func ? structure.call(this, index) :\n            clone ? dom.cloneNode(true) : dom\n        )\n      })\n    },\n    wrapAll: function(structure){\n      if (this[0]) {\n        $(this[0]).before(structure = $(structure))\n        var children\n        // drill down to the inmost element\n        while ((children = structure.children()).length) structure = children.first()\n        $(structure).append(this)\n      }\n      return this\n    },\n    wrapInner: function(structure){\n      var func = isFunction(structure)\n      return this.each(function(index){\n        var self = $(this), contents = self.contents(),\n            dom  = func ? structure.call(this, index) : structure\n        contents.length ? contents.wrapAll(dom) : self.append(dom)\n      })\n    },\n    unwrap: function(){\n      this.parent().each(function(){\n        $(this).replaceWith($(this).children())\n      })\n      return this\n    },\n    clone: function(){\n      return this.map(function(){ return this.cloneNode(true) })\n    },\n    hide: function(){\n      return this.css(\"display\", \"none\")\n    },\n    toggle: function(setting){\n      return this.each(function(){\n        var el = $(this)\n        ;(setting === undefined ? el.css(\"display\") == \"none\" : setting) ? el.show() : el.hide()\n      })\n    },\n    prev: function(selector){ return $(this.pluck('previousElementSibling')).filter(selector || '*') },\n    next: function(selector){ return $(this.pluck('nextElementSibling')).filter(selector || '*') },\n    html: function(html){\n      return 0 in arguments ?\n        this.each(function(idx){\n          var originHtml = this.innerHTML\n          $(this).empty().append( funcArg(this, html, idx, originHtml) )\n        }) :\n        (0 in this ? this[0].innerHTML : null)\n    },\n    text: function(text){\n      return 0 in arguments ?\n        this.each(function(idx){\n          var newText = funcArg(this, text, idx, this.textContent)\n          this.textContent = newText == null ? '' : ''+newText\n        }) :\n        (0 in this ? this.pluck('textContent').join(\"\") : null)\n    },\n    attr: function(name, value){\n      var result\n      return (typeof name == 'string' && !(1 in arguments)) ?\n        (0 in this && this[0].nodeType == 1 && (result = this[0].getAttribute(name)) != null ? result : undefined) :\n        this.each(function(idx){\n          if (this.nodeType !== 1) return\n          if (isObject(name)) for (key in name) setAttribute(this, key, name[key])\n          else setAttribute(this, name, funcArg(this, value, idx, this.getAttribute(name)))\n        })\n    },\n    removeAttr: function(name){\n      return this.each(function(){ this.nodeType === 1 && name.split(' ').forEach(function(attribute){\n        setAttribute(this, attribute)\n      }, this)})\n    },\n    prop: function(name, value){\n      name = propMap[name] || name\n      return (typeof name == 'string' && !(1 in arguments)) ?\n        (this[0] && this[0][name]) :\n        this.each(function(idx){\n          if (isObject(name)) for (key in name) this[propMap[key] || key] = name[key]\n          else this[name] = funcArg(this, value, idx, this[name])\n        })\n    },\n    removeProp: function(name){\n      name = propMap[name] || name\n      return this.each(function(){ delete this[name] })\n    },\n    data: function(name, value){\n      var attrName = 'data-' + name.replace(capitalRE, '-$1').toLowerCase()\n\n      var data = (1 in arguments) ?\n        this.attr(attrName, value) :\n        this.attr(attrName)\n\n      return data !== null ? deserializeValue(data) : undefined\n    },\n    val: function(value){\n      if (0 in arguments) {\n        if (value == null) value = \"\"\n        return this.each(function(idx){\n          this.value = funcArg(this, value, idx, this.value)\n        })\n      } else {\n        return this[0] && (this[0].multiple ?\n           $(this[0]).find('option').filter(function(){ return this.selected }).pluck('value') :\n           this[0].value)\n      }\n    },\n    offset: function(coordinates){\n      if (coordinates) return this.each(function(index){\n        var $this = $(this),\n            coords = funcArg(this, coordinates, index, $this.offset()),\n            parentOffset = $this.offsetParent().offset(),\n            props = {\n              top:  coords.top  - parentOffset.top,\n              left: coords.left - parentOffset.left\n            }\n\n        if ($this.css('position') == 'static') props['position'] = 'relative'\n        $this.css(props)\n      })\n      if (!this.length) return null\n      if (document.documentElement !== this[0] && !$.contains(document.documentElement, this[0]))\n        return {top: 0, left: 0}\n      var obj = this[0].getBoundingClientRect()\n      return {\n        left: obj.left + window.pageXOffset,\n        top: obj.top + window.pageYOffset,\n        width: Math.round(obj.width),\n        height: Math.round(obj.height)\n      }\n    },\n    css: function(property, value){\n      if (arguments.length < 2) {\n        var element = this[0]\n        if (typeof property == 'string') {\n          if (!element) return\n          return element.style[camelize(property)] || getComputedStyle(element, '').getPropertyValue(property)\n        } else if (isArray(property)) {\n          if (!element) return\n          var props = {}\n          var computedStyle = getComputedStyle(element, '')\n          $.each(property, function(_, prop){\n            props[prop] = (element.style[camelize(prop)] || computedStyle.getPropertyValue(prop))\n          })\n          return props\n        }\n      }\n\n      var css = ''\n      if (type(property) == 'string') {\n        if (!value && value !== 0)\n          this.each(function(){ this.style.removeProperty(dasherize(property)) })\n        else\n          css = dasherize(property) + \":\" + maybeAddPx(property, value)\n      } else {\n        for (key in property)\n          if (!property[key] && property[key] !== 0)\n            this.each(function(){ this.style.removeProperty(dasherize(key)) })\n          else\n            css += dasherize(key) + ':' + maybeAddPx(key, property[key]) + ';'\n      }\n\n      return this.each(function(){ this.style.cssText += ';' + css })\n    },\n    index: function(element){\n      return element ? this.indexOf($(element)[0]) : this.parent().children().indexOf(this[0])\n    },\n    hasClass: function(name){\n      if (!name) return false\n      return emptyArray.some.call(this, function(el){\n        return this.test(className(el))\n      }, classRE(name))\n    },\n    addClass: function(name){\n      if (!name) return this\n      return this.each(function(idx){\n        if (!('className' in this)) return\n        classList = []\n        var cls = className(this), newName = funcArg(this, name, idx, cls)\n        newName.split(/\\s+/g).forEach(function(klass){\n          if (!$(this).hasClass(klass)) classList.push(klass)\n        }, this)\n        classList.length && className(this, cls + (cls ? \" \" : \"\") + classList.join(\" \"))\n      })\n    },\n    removeClass: function(name){\n      return this.each(function(idx){\n        if (!('className' in this)) return\n        if (name === undefined) return className(this, '')\n        classList = className(this)\n        funcArg(this, name, idx, classList).split(/\\s+/g).forEach(function(klass){\n          classList = classList.replace(classRE(klass), \" \")\n        })\n        className(this, classList.trim())\n      })\n    },\n    toggleClass: function(name, when){\n      if (!name) return this\n      return this.each(function(idx){\n        var $this = $(this), names = funcArg(this, name, idx, className(this))\n        names.split(/\\s+/g).forEach(function(klass){\n          (when === undefined ? !$this.hasClass(klass) : when) ?\n            $this.addClass(klass) : $this.removeClass(klass)\n        })\n      })\n    },\n    scrollTop: function(value){\n      if (!this.length) return\n      var hasScrollTop = 'scrollTop' in this[0]\n      if (value === undefined) return hasScrollTop ? this[0].scrollTop : this[0].pageYOffset\n      return this.each(hasScrollTop ?\n        function(){ this.scrollTop = value } :\n        function(){ this.scrollTo(this.scrollX, value) })\n    },\n    scrollLeft: function(value){\n      if (!this.length) return\n      var hasScrollLeft = 'scrollLeft' in this[0]\n      if (value === undefined) return hasScrollLeft ? this[0].scrollLeft : this[0].pageXOffset\n      return this.each(hasScrollLeft ?\n        function(){ this.scrollLeft = value } :\n        function(){ this.scrollTo(value, this.scrollY) })\n    },\n    position: function() {\n      if (!this.length) return\n\n      var elem = this[0],\n        // Get *real* offsetParent\n        offsetParent = this.offsetParent(),\n        // Get correct offsets\n        offset       = this.offset(),\n        parentOffset = rootNodeRE.test(offsetParent[0].nodeName) ? { top: 0, left: 0 } : offsetParent.offset()\n\n      // Subtract element margins\n      // note: when an element has margin: auto the offsetLeft and marginLeft\n      // are the same in Safari causing offset.left to incorrectly be 0\n      offset.top  -= parseFloat( $(elem).css('margin-top') ) || 0\n      offset.left -= parseFloat( $(elem).css('margin-left') ) || 0\n\n      // Add offsetParent borders\n      parentOffset.top  += parseFloat( $(offsetParent[0]).css('border-top-width') ) || 0\n      parentOffset.left += parseFloat( $(offsetParent[0]).css('border-left-width') ) || 0\n\n      // Subtract the two offsets\n      return {\n        top:  offset.top  - parentOffset.top,\n        left: offset.left - parentOffset.left\n      }\n    },\n    offsetParent: function() {\n      return this.map(function(){\n        var parent = this.offsetParent || document.body\n        while (parent && !rootNodeRE.test(parent.nodeName) && $(parent).css(\"position\") == \"static\")\n          parent = parent.offsetParent\n        return parent\n      })\n    }\n  }\n\n  // for now\n  $.fn.detach = $.fn.remove\n\n  // Generate the `width` and `height` functions\n  ;['width', 'height'].forEach(function(dimension){\n    var dimensionProperty =\n      dimension.replace(/./, function(m){ return m[0].toUpperCase() })\n\n    $.fn[dimension] = function(value){\n      var offset, el = this[0]\n      if (value === undefined) return isWindow(el) ? el['inner' + dimensionProperty] :\n        isDocument(el) ? el.documentElement['scroll' + dimensionProperty] :\n        (offset = this.offset()) && offset[dimension]\n      else return this.each(function(idx){\n        el = $(this)\n        el.css(dimension, funcArg(this, value, idx, el[dimension]()))\n      })\n    }\n  })\n\n  function traverseNode(node, fun) {\n    fun(node)\n    for (var i = 0, len = node.childNodes.length; i < len; i++)\n      traverseNode(node.childNodes[i], fun)\n  }\n\n  // Generate the `after`, `prepend`, `before`, `append`,\n  // `insertAfter`, `insertBefore`, `appendTo`, and `prependTo` methods.\n  adjacencyOperators.forEach(function(operator, operatorIndex) {\n    var inside = operatorIndex % 2 //=> prepend, append\n\n    $.fn[operator] = function(){\n      // arguments can be nodes, arrays of nodes, Zepto objects and HTML strings\n      var argType, nodes = $.map(arguments, function(arg) {\n            var arr = []\n            argType = type(arg)\n            if (argType == \"array\") {\n              arg.forEach(function(el) {\n                if (el.nodeType !== undefined) return arr.push(el)\n                else if ($.zepto.isZ(el)) return arr = arr.concat(el.get())\n                arr = arr.concat(zepto.fragment(el))\n              })\n              return arr\n            }\n            return argType == \"object\" || arg == null ?\n              arg : zepto.fragment(arg)\n          }),\n          parent, copyByClone = this.length > 1\n      if (nodes.length < 1) return this\n\n      return this.each(function(_, target){\n        parent = inside ? target : target.parentNode\n\n        // convert all methods to a \"before\" operation\n        target = operatorIndex == 0 ? target.nextSibling :\n                 operatorIndex == 1 ? target.firstChild :\n                 operatorIndex == 2 ? target :\n                 null\n\n        var parentInDocument = $.contains(document.documentElement, parent)\n\n        nodes.forEach(function(node){\n          if (copyByClone) node = node.cloneNode(true)\n          else if (!parent) return $(node).remove()\n\n          parent.insertBefore(node, target)\n          if (parentInDocument) traverseNode(node, function(el){\n            if (el.nodeName != null && el.nodeName.toUpperCase() === 'SCRIPT' &&\n               (!el.type || el.type === 'text/javascript') && !el.src){\n              var target = el.ownerDocument ? el.ownerDocument.defaultView : window\n              target['eval'].call(target, el.innerHTML)\n            }\n          })\n        })\n      })\n    }\n\n    // after    => insertAfter\n    // prepend  => prependTo\n    // before   => insertBefore\n    // append   => appendTo\n    $.fn[inside ? operator+'To' : 'insert'+(operatorIndex ? 'Before' : 'After')] = function(html){\n      $(html)[operator](this)\n      return this\n    }\n  })\n\n  zepto.Z.prototype = Z.prototype = $.fn\n\n  // Export internal API functions in the `$.zepto` namespace\n  zepto.uniq = uniq\n  zepto.deserializeValue = deserializeValue\n  $.zepto = zepto\n\n  return $\n})()\n\nwindow.Zepto = Zepto\nwindow.$ === undefined && (window.$ = Zepto)\n\n;(function($){\n  var _zid = 1, undefined,\n      slice = Array.prototype.slice,\n      isFunction = $.isFunction,\n      isString = function(obj){ return typeof obj == 'string' },\n      handlers = {},\n      specialEvents={},\n      focusinSupported = 'onfocusin' in window,\n      focus = { focus: 'focusin', blur: 'focusout' },\n      hover = { mouseenter: 'mouseover', mouseleave: 'mouseout' }\n\n  specialEvents.click = specialEvents.mousedown = specialEvents.mouseup = specialEvents.mousemove = 'MouseEvents'\n\n  function zid(element) {\n    return element._zid || (element._zid = _zid++)\n  }\n  function findHandlers(element, event, fn, selector) {\n    event = parse(event)\n    if (event.ns) var matcher = matcherFor(event.ns)\n    return (handlers[zid(element)] || []).filter(function(handler) {\n      return handler\n        && (!event.e  || handler.e == event.e)\n        && (!event.ns || matcher.test(handler.ns))\n        && (!fn       || zid(handler.fn) === zid(fn))\n        && (!selector || handler.sel == selector)\n    })\n  }\n  function parse(event) {\n    var parts = ('' + event).split('.')\n    return {e: parts[0], ns: parts.slice(1).sort().join(' ')}\n  }\n  function matcherFor(ns) {\n    return new RegExp('(?:^| )' + ns.replace(' ', ' .* ?') + '(?: |$)')\n  }\n\n  function eventCapture(handler, captureSetting) {\n    return handler.del &&\n      (!focusinSupported && (handler.e in focus)) ||\n      !!captureSetting\n  }\n\n  function realEvent(type) {\n    return hover[type] || (focusinSupported && focus[type]) || type\n  }\n\n  function add(element, events, fn, data, selector, delegator, capture){\n    var id = zid(element), set = (handlers[id] || (handlers[id] = []))\n    events.split(/\\s/).forEach(function(event){\n      if (event == 'ready') return $(document).ready(fn)\n      var handler   = parse(event)\n      handler.fn    = fn\n      handler.sel   = selector\n      // emulate mouseenter, mouseleave\n      if (handler.e in hover) fn = function(e){\n        var related = e.relatedTarget\n        if (!related || (related !== this && !$.contains(this, related)))\n          return handler.fn.apply(this, arguments)\n      }\n      handler.del   = delegator\n      var callback  = delegator || fn\n      handler.proxy = function(e){\n        e = compatible(e)\n        if (e.isImmediatePropagationStopped()) return\n        e.data = data\n        var result = callback.apply(element, e._args == undefined ? [e] : [e].concat(e._args))\n        if (result === false) e.preventDefault(), e.stopPropagation()\n        return result\n      }\n      handler.i = set.length\n      set.push(handler)\n      if ('addEventListener' in element)\n        element.addEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n    })\n  }\n  function remove(element, events, fn, selector, capture){\n    var id = zid(element)\n    ;(events || '').split(/\\s/).forEach(function(event){\n      findHandlers(element, event, fn, selector).forEach(function(handler){\n        delete handlers[id][handler.i]\n      if ('removeEventListener' in element)\n        element.removeEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n      })\n    })\n  }\n\n  $.event = { add: add, remove: remove }\n\n  $.proxy = function(fn, context) {\n    var args = (2 in arguments) && slice.call(arguments, 2)\n    if (isFunction(fn)) {\n      var proxyFn = function(){ return fn.apply(context, args ? args.concat(slice.call(arguments)) : arguments) }\n      proxyFn._zid = zid(fn)\n      return proxyFn\n    } else if (isString(context)) {\n      if (args) {\n        args.unshift(fn[context], fn)\n        return $.proxy.apply(null, args)\n      } else {\n        return $.proxy(fn[context], fn)\n      }\n    } else {\n      throw new TypeError(\"expected function\")\n    }\n  }\n\n  $.fn.bind = function(event, data, callback){\n    return this.on(event, data, callback)\n  }\n  $.fn.unbind = function(event, callback){\n    return this.off(event, callback)\n  }\n  $.fn.one = function(event, selector, data, callback){\n    return this.on(event, selector, data, callback, 1)\n  }\n\n  var returnTrue = function(){return true},\n      returnFalse = function(){return false},\n      ignoreProperties = /^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,\n      eventMethods = {\n        preventDefault: 'isDefaultPrevented',\n        stopImmediatePropagation: 'isImmediatePropagationStopped',\n        stopPropagation: 'isPropagationStopped'\n      }\n\n  function compatible(event, source) {\n    if (source || !event.isDefaultPrevented) {\n      source || (source = event)\n\n      $.each(eventMethods, function(name, predicate) {\n        var sourceMethod = source[name]\n        event[name] = function(){\n          this[predicate] = returnTrue\n          return sourceMethod && sourceMethod.apply(source, arguments)\n        }\n        event[predicate] = returnFalse\n      })\n\n      try {\n        event.timeStamp || (event.timeStamp = Date.now())\n      } catch (ignored) { }\n\n      if (source.defaultPrevented !== undefined ? source.defaultPrevented :\n          'returnValue' in source ? source.returnValue === false :\n          source.getPreventDefault && source.getPreventDefault())\n        event.isDefaultPrevented = returnTrue\n    }\n    return event\n  }\n\n  function createProxy(event) {\n    var key, proxy = { originalEvent: event }\n    for (key in event)\n      if (!ignoreProperties.test(key) && event[key] !== undefined) proxy[key] = event[key]\n\n    return compatible(proxy, event)\n  }\n\n  $.fn.delegate = function(selector, event, callback){\n    return this.on(event, selector, callback)\n  }\n  $.fn.undelegate = function(selector, event, callback){\n    return this.off(event, selector, callback)\n  }\n\n  $.fn.live = function(event, callback){\n    $(document.body).delegate(this.selector, event, callback)\n    return this\n  }\n  $.fn.die = function(event, callback){\n    $(document.body).undelegate(this.selector, event, callback)\n    return this\n  }\n\n  $.fn.on = function(event, selector, data, callback, one){\n    var autoRemove, delegator, $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn){\n        $this.on(type, selector, data, fn, one)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = data, data = selector, selector = undefined\n    if (callback === undefined || data === false)\n      callback = data, data = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function(_, element){\n      if (one) autoRemove = function(e){\n        remove(element, e.type, callback)\n        return callback.apply(this, arguments)\n      }\n\n      if (selector) delegator = function(e){\n        var evt, match = $(e.target).closest(selector, element).get(0)\n        if (match && match !== element) {\n          evt = $.extend(createProxy(e), {currentTarget: match, liveFired: element})\n          return (autoRemove || callback).apply(match, [evt].concat(slice.call(arguments, 1)))\n        }\n      }\n\n      add(element, event, callback, data, selector, delegator || autoRemove)\n    })\n  }\n  $.fn.off = function(event, selector, callback){\n    var $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn){\n        $this.off(type, selector, fn)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = selector, selector = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function(){\n      remove(this, event, callback, selector)\n    })\n  }\n\n  $.fn.trigger = function(event, args){\n    event = (isString(event) || $.isPlainObject(event)) ? $.Event(event) : compatible(event)\n    event._args = args\n    return this.each(function(){\n      // handle focus(), blur() by calling them directly\n      if (event.type in focus && typeof this[event.type] == \"function\") this[event.type]()\n      // items in the collection might not be DOM elements\n      else if ('dispatchEvent' in this) this.dispatchEvent(event)\n      else $(this).triggerHandler(event, args)\n    })\n  }\n\n  // triggers event handlers on current element just as if an event occurred,\n  // doesn't trigger an actual event, doesn't bubble\n  $.fn.triggerHandler = function(event, args){\n    var e, result\n    this.each(function(i, element){\n      e = createProxy(isString(event) ? $.Event(event) : event)\n      e._args = args\n      e.target = element\n      $.each(findHandlers(element, event.type || event), function(i, handler){\n        result = handler.proxy(e)\n        if (e.isImmediatePropagationStopped()) return false\n      })\n    })\n    return result\n  }\n\n  // shortcut methods for `.bind(event, fn)` for each event type\n  ;('focusin focusout focus blur load resize scroll unload click dblclick '+\n  'mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave '+\n  'change select keydown keypress keyup error').split(' ').forEach(function(event) {\n    $.fn[event] = function(callback) {\n      return (0 in arguments) ?\n        this.bind(event, callback) :\n        this.trigger(event)\n    }\n  })\n\n  $.Event = function(type, props) {\n    if (!isString(type)) props = type, type = props.type\n    var event = document.createEvent(specialEvents[type] || 'Events'), bubbles = true\n    if (props) for (var name in props) (name == 'bubbles') ? (bubbles = !!props[name]) : (event[name] = props[name])\n    event.initEvent(type, bubbles, true)\n    return compatible(event)\n  }\n\n})(Zepto)\n\n;(function($){\n  var jsonpID = +new Date(),\n      document = window.document,\n      key,\n      name,\n      rscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\n      scriptTypeRE = /^(?:text|application)\\/javascript/i,\n      xmlTypeRE = /^(?:text|application)\\/xml/i,\n      jsonType = 'application/json',\n      htmlType = 'text/html',\n      blankRE = /^\\s*$/,\n      originAnchor = document.createElement('a')\n\n  originAnchor.href = window.location.href\n\n  // trigger a custom event and return false if it was cancelled\n  function triggerAndReturn(context, eventName, data) {\n    var event = $.Event(eventName)\n    $(context).trigger(event, data)\n    return !event.isDefaultPrevented()\n  }\n\n  // trigger an Ajax \"global\" event\n  function triggerGlobal(settings, context, eventName, data) {\n    if (settings.global) return triggerAndReturn(context || document, eventName, data)\n  }\n\n  // Number of active Ajax requests\n  $.active = 0\n\n  function ajaxStart(settings) {\n    if (settings.global && $.active++ === 0) triggerGlobal(settings, null, 'ajaxStart')\n  }\n  function ajaxStop(settings) {\n    if (settings.global && !(--$.active)) triggerGlobal(settings, null, 'ajaxStop')\n  }\n\n  // triggers an extra global event \"ajaxBeforeSend\" that's like \"ajaxSend\" but cancelable\n  function ajaxBeforeSend(xhr, settings) {\n    var context = settings.context\n    if (settings.beforeSend.call(context, xhr, settings) === false ||\n        triggerGlobal(settings, context, 'ajaxBeforeSend', [xhr, settings]) === false)\n      return false\n\n    triggerGlobal(settings, context, 'ajaxSend', [xhr, settings])\n  }\n  function ajaxSuccess(data, xhr, settings, deferred) {\n    var context = settings.context, status = 'success'\n    settings.success.call(context, data, status, xhr)\n    if (deferred) deferred.resolveWith(context, [data, status, xhr])\n    triggerGlobal(settings, context, 'ajaxSuccess', [xhr, settings, data])\n    ajaxComplete(status, xhr, settings)\n  }\n  // type: \"timeout\", \"error\", \"abort\", \"parsererror\"\n  function ajaxError(error, type, xhr, settings, deferred) {\n    var context = settings.context\n    settings.error.call(context, xhr, type, error)\n    if (deferred) deferred.rejectWith(context, [xhr, type, error])\n    triggerGlobal(settings, context, 'ajaxError', [xhr, settings, error || type])\n    ajaxComplete(type, xhr, settings)\n  }\n  // status: \"success\", \"notmodified\", \"error\", \"timeout\", \"abort\", \"parsererror\"\n  function ajaxComplete(status, xhr, settings) {\n    var context = settings.context\n    settings.complete.call(context, xhr, status)\n    triggerGlobal(settings, context, 'ajaxComplete', [xhr, settings])\n    ajaxStop(settings)\n  }\n\n  function ajaxDataFilter(data, type, settings) {\n    if (settings.dataFilter == empty) return data\n    var context = settings.context\n    return settings.dataFilter.call(context, data, type)\n  }\n\n  // Empty function, used as default callback\n  function empty() {}\n\n  $.ajaxJSONP = function(options, deferred){\n    if (!('type' in options)) return $.ajax(options)\n\n    var _callbackName = options.jsonpCallback,\n      callbackName = ($.isFunction(_callbackName) ?\n        _callbackName() : _callbackName) || ('Zepto' + (jsonpID++)),\n      script = document.createElement('script'),\n      originalCallback = window[callbackName],\n      responseData,\n      abort = function(errorType) {\n        $(script).triggerHandler('error', errorType || 'abort')\n      },\n      xhr = { abort: abort }, abortTimeout\n\n    if (deferred) deferred.promise(xhr)\n\n    $(script).on('load error', function(e, errorType){\n      clearTimeout(abortTimeout)\n      $(script).off().remove()\n\n      if (e.type == 'error' || !responseData) {\n        ajaxError(null, errorType || 'error', xhr, options, deferred)\n      } else {\n        ajaxSuccess(responseData[0], xhr, options, deferred)\n      }\n\n      window[callbackName] = originalCallback\n      if (responseData && $.isFunction(originalCallback))\n        originalCallback(responseData[0])\n\n      originalCallback = responseData = undefined\n    })\n\n    if (ajaxBeforeSend(xhr, options) === false) {\n      abort('abort')\n      return xhr\n    }\n\n    window[callbackName] = function(){\n      responseData = arguments\n    }\n\n    script.src = options.url.replace(/\\?(.+)=\\?/, '?$1=' + callbackName)\n    document.head.appendChild(script)\n\n    if (options.timeout > 0) abortTimeout = setTimeout(function(){\n      abort('timeout')\n    }, options.timeout)\n\n    return xhr\n  }\n\n  $.ajaxSettings = {\n    // Default type of request\n    type: 'GET',\n    // Callback that is executed before request\n    beforeSend: empty,\n    // Callback that is executed if the request succeeds\n    success: empty,\n    // Callback that is executed the the server drops error\n    error: empty,\n    // Callback that is executed on request complete (both: error and success)\n    complete: empty,\n    // The context for the callbacks\n    context: null,\n    // Whether to trigger \"global\" Ajax events\n    global: true,\n    // Transport\n    xhr: function () {\n      return new window.XMLHttpRequest()\n    },\n    // MIME types mapping\n    // IIS returns Javascript as \"application/x-javascript\"\n    accepts: {\n      script: 'text/javascript, application/javascript, application/x-javascript',\n      json:   jsonType,\n      xml:    'application/xml, text/xml',\n      html:   htmlType,\n      text:   'text/plain'\n    },\n    // Whether the request is to another domain\n    crossDomain: false,\n    // Default timeout\n    timeout: 0,\n    // Whether data should be serialized to string\n    processData: true,\n    // Whether the browser should be allowed to cache GET responses\n    cache: true,\n    //Used to handle the raw response data of XMLHttpRequest.\n    //This is a pre-filtering function to sanitize the response.\n    //The sanitized response should be returned\n    dataFilter: empty\n  }\n\n  function mimeToDataType(mime) {\n    if (mime) mime = mime.split(';', 2)[0]\n    return mime && ( mime == htmlType ? 'html' :\n      mime == jsonType ? 'json' :\n      scriptTypeRE.test(mime) ? 'script' :\n      xmlTypeRE.test(mime) && 'xml' ) || 'text'\n  }\n\n  function appendQuery(url, query) {\n    if (query == '') return url\n    return (url + '&' + query).replace(/[&?]{1,2}/, '?')\n  }\n\n  // serialize payload and append it to the URL for GET requests\n  function serializeData(options) {\n    if (options.processData && options.data && $.type(options.data) != \"string\")\n      options.data = $.param(options.data, options.traditional)\n    if (options.data && (!options.type || options.type.toUpperCase() == 'GET' || 'jsonp' == options.dataType))\n      options.url = appendQuery(options.url, options.data), options.data = undefined\n  }\n\n  $.ajax = function(options){\n    var settings = $.extend({}, options || {}),\n        deferred = $.Deferred && $.Deferred(),\n        urlAnchor, hashIndex\n    for (key in $.ajaxSettings) if (settings[key] === undefined) settings[key] = $.ajaxSettings[key]\n\n    ajaxStart(settings)\n\n    if (!settings.crossDomain) {\n      urlAnchor = document.createElement('a')\n      urlAnchor.href = settings.url\n      // cleans up URL for .href (IE only), see https://github.com/madrobby/zepto/pull/1049\n      urlAnchor.href = urlAnchor.href\n      settings.crossDomain = (originAnchor.protocol + '//' + originAnchor.host) !== (urlAnchor.protocol + '//' + urlAnchor.host)\n    }\n\n    if (!settings.url) settings.url = window.location.toString()\n    if ((hashIndex = settings.url.indexOf('#')) > -1) settings.url = settings.url.slice(0, hashIndex)\n    serializeData(settings)\n\n    var dataType = settings.dataType, hasPlaceholder = /\\?.+=\\?/.test(settings.url)\n    if (hasPlaceholder) dataType = 'jsonp'\n\n    if (settings.cache === false || (\n         (!options || options.cache !== true) &&\n         ('script' == dataType || 'jsonp' == dataType)\n        ))\n      settings.url = appendQuery(settings.url, '_=' + Date.now())\n\n    if ('jsonp' == dataType) {\n      if (!hasPlaceholder)\n        settings.url = appendQuery(settings.url,\n          settings.jsonp ? (settings.jsonp + '=?') : settings.jsonp === false ? '' : 'callback=?')\n      return $.ajaxJSONP(settings, deferred)\n    }\n\n    var mime = settings.accepts[dataType],\n        headers = { },\n        setHeader = function(name, value) { headers[name.toLowerCase()] = [name, value] },\n        protocol = /^([\\w-]+:)\\/\\//.test(settings.url) ? RegExp.$1 : window.location.protocol,\n        xhr = settings.xhr(),\n        nativeSetHeader = xhr.setRequestHeader,\n        abortTimeout\n\n    if (deferred) deferred.promise(xhr)\n\n    if (!settings.crossDomain) setHeader('X-Requested-With', 'XMLHttpRequest')\n    setHeader('Accept', mime || '*/*')\n    if (mime = settings.mimeType || mime) {\n      if (mime.indexOf(',') > -1) mime = mime.split(',', 2)[0]\n      xhr.overrideMimeType && xhr.overrideMimeType(mime)\n    }\n    if (settings.contentType || (settings.contentType !== false && settings.data && settings.type.toUpperCase() != 'GET'))\n      setHeader('Content-Type', settings.contentType || 'application/x-www-form-urlencoded')\n\n    if (settings.headers) for (name in settings.headers) setHeader(name, settings.headers[name])\n    xhr.setRequestHeader = setHeader\n\n    xhr.onreadystatechange = function(){\n      if (xhr.readyState == 4) {\n        xhr.onreadystatechange = empty\n        clearTimeout(abortTimeout)\n        var result, error = false\n        if ((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304 || (xhr.status == 0 && protocol == 'file:')) {\n          dataType = dataType || mimeToDataType(settings.mimeType || xhr.getResponseHeader('content-type'))\n\n          if (xhr.responseType == 'arraybuffer' || xhr.responseType == 'blob')\n            result = xhr.response\n          else {\n            result = xhr.responseText\n\n            try {\n              // http://perfectionkills.com/global-eval-what-are-the-options/\n              // sanitize response accordingly if data filter callback provided\n              result = ajaxDataFilter(result, dataType, settings)\n              if (dataType == 'script')    (1,eval)(result)\n              else if (dataType == 'xml')  result = xhr.responseXML\n              else if (dataType == 'json') result = blankRE.test(result) ? null : $.parseJSON(result)\n            } catch (e) { error = e }\n\n            if (error) return ajaxError(error, 'parsererror', xhr, settings, deferred)\n          }\n\n          ajaxSuccess(result, xhr, settings, deferred)\n        } else {\n          ajaxError(xhr.statusText || null, xhr.status ? 'error' : 'abort', xhr, settings, deferred)\n        }\n      }\n    }\n\n    if (ajaxBeforeSend(xhr, settings) === false) {\n      xhr.abort()\n      ajaxError(null, 'abort', xhr, settings, deferred)\n      return xhr\n    }\n\n    var async = 'async' in settings ? settings.async : true\n    xhr.open(settings.type, settings.url, async, settings.username, settings.password)\n\n    if (settings.xhrFields) for (name in settings.xhrFields) xhr[name] = settings.xhrFields[name]\n\n    for (name in headers) nativeSetHeader.apply(xhr, headers[name])\n\n    if (settings.timeout > 0) abortTimeout = setTimeout(function(){\n        xhr.onreadystatechange = empty\n        xhr.abort()\n        ajaxError(null, 'timeout', xhr, settings, deferred)\n      }, settings.timeout)\n\n    // avoid sending empty string (#319)\n    xhr.send(settings.data ? settings.data : null)\n    return xhr\n  }\n\n  // handle optional data/success arguments\n  function parseArguments(url, data, success, dataType) {\n    if ($.isFunction(data)) dataType = success, success = data, data = undefined\n    if (!$.isFunction(success)) dataType = success, success = undefined\n    return {\n      url: url\n    , data: data\n    , success: success\n    , dataType: dataType\n    }\n  }\n\n  $.get = function(/* url, data, success, dataType */){\n    return $.ajax(parseArguments.apply(null, arguments))\n  }\n\n  $.post = function(/* url, data, success, dataType */){\n    var options = parseArguments.apply(null, arguments)\n    options.type = 'POST'\n    return $.ajax(options)\n  }\n\n  $.getJSON = function(/* url, data, success */){\n    var options = parseArguments.apply(null, arguments)\n    options.dataType = 'json'\n    return $.ajax(options)\n  }\n\n  $.fn.load = function(url, data, success){\n    if (!this.length) return this\n    var self = this, parts = url.split(/\\s/), selector,\n        options = parseArguments(url, data, success),\n        callback = options.success\n    if (parts.length > 1) options.url = parts[0], selector = parts[1]\n    options.success = function(response){\n      self.html(selector ?\n        $('<div>').html(response.replace(rscript, \"\")).find(selector)\n        : response)\n      callback && callback.apply(self, arguments)\n    }\n    $.ajax(options)\n    return this\n  }\n\n  var escape = encodeURIComponent\n\n  function serialize(params, obj, traditional, scope){\n    var type, array = $.isArray(obj), hash = $.isPlainObject(obj)\n    $.each(obj, function(key, value) {\n      type = $.type(value)\n      if (scope) key = traditional ? scope :\n        scope + '[' + (hash || type == 'object' || type == 'array' ? key : '') + ']'\n      // handle data in serializeArray() format\n      if (!scope && array) params.add(value.name, value.value)\n      // recurse into nested objects\n      else if (type == \"array\" || (!traditional && type == \"object\"))\n        serialize(params, value, traditional, key)\n      else params.add(key, value)\n    })\n  }\n\n  $.param = function(obj, traditional){\n    var params = []\n    params.add = function(key, value) {\n      if ($.isFunction(value)) value = value()\n      if (value == null) value = \"\"\n      this.push(escape(key) + '=' + escape(value))\n    }\n    serialize(params, obj, traditional)\n    return params.join('&').replace(/%20/g, '+')\n  }\n})(Zepto)\n\n;(function($){\n  $.fn.serializeArray = function() {\n    var name, type, result = [],\n      add = function(value) {\n        if (value.forEach) return value.forEach(add)\n        result.push({ name: name, value: value })\n      }\n    if (this[0]) $.each(this[0].elements, function(_, field){\n      type = field.type, name = field.name\n      if (name && field.nodeName.toLowerCase() != 'fieldset' &&\n        !field.disabled && type != 'submit' && type != 'reset' && type != 'button' && type != 'file' &&\n        ((type != 'radio' && type != 'checkbox') || field.checked))\n          add($(field).val())\n    })\n    return result\n  }\n\n  $.fn.serialize = function(){\n    var result = []\n    this.serializeArray().forEach(function(elm){\n      result.push(encodeURIComponent(elm.name) + '=' + encodeURIComponent(elm.value))\n    })\n    return result.join('&')\n  }\n\n  $.fn.submit = function(callback) {\n    if (0 in arguments) this.bind('submit', callback)\n    else if (this.length) {\n      var event = $.Event('submit')\n      this.eq(0).trigger(event)\n      if (!event.isDefaultPrevented()) this.get(0).submit()\n    }\n    return this\n  }\n\n})(Zepto)\n\n;(function(){\n  // getComputedStyle shouldn't freak out when called\n  // without a valid element as argument\n  try {\n    getComputedStyle(undefined)\n  } catch(e) {\n    var nativeGetComputedStyle = getComputedStyle\n    window.getComputedStyle = function(element, pseudoElement){\n      try {\n        return nativeGetComputedStyle(element, pseudoElement)\n      } catch(e) {\n        return null\n      }\n    }\n  }\n})()\n  return Zepto\n}))\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/util/zepto.js","const Util = {\n  merge: function(target, ...args) {\n    for (let i = 0, j = args.length; i < j; i++) {\n      const source = args[i] || {};\n      for (const prop in source) {\n        if (Object.prototype.hasOwnProperty.call(source, prop)) {\n          const value = source[prop];\n          if (value !== undefined) {\n            target[prop] = value;\n          }\n        }\n      }\n    }\n    return target;\n  },\n  hasClass: function(el, cls) {\n    if (!el || !cls) {\n      return false;\n    }\n    if (cls.indexOf(' ') !== -1) {\n      throw new Error('className should not contain space.');\n    }\n    if (el.classList) {\n      return el.classList.contains(cls);\n    }\n    return ` ${el.className} `.indexOf(` ${cls} `) > -1;\n  },\n  addClass: function(el, cls) {\n    if (!el) {\n      return;\n    }\n    let curClass = el.className;\n    const classes = (cls || '').split(' ');\n    for (let i = 0, j = classes.length; i < j; i++) {\n      const clsName = classes[i];\n      if (!clsName) {\n        continue;\n      }\n\n      if (el.classList) {\n        el.classList.add(clsName);\n      } else if (!this.hasClass(el, clsName)) {\n        curClass += ` ${clsName}`;\n      }\n    }\n    if (!el.classList) {\n      el.className = curClass;\n    }\n  },\n  removeClass: function(el, cls) {\n    if (!el || !cls) {\n      return;\n    }\n    const classes = cls.split(' ');\n    let curClass = ` ${el.className} `;\n\n    for (let i = 0, j = classes.length; i < j; i++) {\n      const clsName = classes[i];\n      if (!clsName) {\n        continue;\n      }\n\n      if (el.classList) {\n        el.classList.remove(clsName);\n      } else if (this.hasClass(el, clsName)) {\n        curClass = curClass.replace(` ${clsName} `, ' ');\n      }\n    }\n    if (!el.classList) {\n      el.className = String.prototype.trim.call(curClass);\n    }\n  },\n  scrollBarWidth: undefined,\n  getScrollBarWidth: function() {\n    if (this.scrollBarWidth !== undefined) {\n      return this.scrollBarWidth;\n    }\n\n    const outer = document.createElement('div');\n    // outer.className = 'el-scrollbar__wrap';\n    outer.style.visibility = 'hidden';\n    outer.style.width = '100px';\n    outer.style.position = 'absolute';\n    outer.style.top = '-9999px';\n    document.body.appendChild(outer);\n\n    const widthNoScroll = outer.offsetWidth;\n    outer.style.overflow = 'scroll';\n\n    const inner = document.createElement('div');\n    inner.style.width = '100%';\n    outer.appendChild(inner);\n\n    const widthWithScroll = inner.offsetWidth;\n    outer.parentNode.removeChild(outer);\n\n    return widthNoScroll - widthWithScroll;\n  },\n  render: function(tpl, data) {\n    const code = `var p=[];with(this){p.push('${tpl\n      .replace(/[\\r\\t\\n]/g, ' ')\n      .split('<%')\n      .join('\\t')\n      .replace(/((^|%>)[^\\t]*)'/g, '$1\\r')\n      .replace(/\\t=(.*?)%>/g, \"',$1,'\")\n      .split('\\t')\n      .join(\"');\")\n      .split('%>')\n      .join(\"p.push('\")\n      .split('\\r')\n      .join(\"\\\\'\")}');}return p.join('');`;\n    return new Function(code).apply(data);\n  }\n};\nexport default Util;\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/util/index.js","'use strict';\nimport './index.less';\nimport { merge, addClass, removeClass } from '@common/util';\nimport Popbase from '@components/popbase';\nconst defaultOptions = {\n  // 是否默认打开\n  autoShow: true,\n  // 外包容器class\n  containerClass: 'lmui-dialog-normal',\n  // 弹出\n  placement: 'center', // left right top bottom    // 外包容器className\n  // 长度\n  width: 'auto',\n  // 宽度\n  height: 'auto',\n  // 弹出内容\n  content: '',\n  // 关闭class\n  closeClass: 'close',\n  // 是否是模态\n  modal: true,\n  // 键盘Esc触发关闭\n  closeOnPressEscape: false,\n  // 点击模态遮罩是否触发关闭\n  closeOnClickModal: false,\n  // 自动关闭时间\n  timeout: 0,\n  // 对话框标题\n  title: '',\n  // 对话按钮组\n  button: ['*我知道了']\n};\n\nexport default class Dialog extends Popbase {\n  constructor(options) {\n    const newOptions = merge({}, defaultOptions, options);\n    super(newOptions);\n    this._className = 'Dialog';\n  }\n\n  _initDom() {\n    this.container = document.createElement('div');\n    this.container.className = `${this.containerClass} lmui-dialog-container lmui-dialog-${this.placement}`;\n    this.width === 'auto' ? '' : (this.container.style.width = this.width);\n    this.height === 'auto' ? '' : (this.container.style.height = this.height);\n    const { title, button } = this;\n    const html = [\n      (function() {\n        let btnhtml = '';\n        if (title) {\n          btnhtml = [\n            '<div class=\"lmui-dialog-head\">',\n            title ? `<div class=\"lmui-dialog-title\">${title}</div>` : '',\n            // '<span class=\"icon icon-mid\"><span class=\"icodispatchWithContextn-plus\"></span></span>',\n            '</div>'\n          ].join('');\n        }\n        return btnhtml;\n      })(),\n      `<div class=\"lmui-dialog-body\">${this.content}</div>`,\n      (function() {\n        let btnhtml = '';\n        const size = button.length;\n        if (size) {\n          const { btnCssMap, getBtnRetId } = Dialog.GlobalConf;\n          btnhtml += '<div class=\"lmui-dialog-foot\">';\n          for (let i = 0; i < size; i++) {\n            let btnText = button[i];\n            const mapCss = btnCssMap[btnText.slice(0, 1)];\n            const btnRetId = `${getBtnRetId(i, size)}`.replace(/\\\"/g, '&quot;');\n            btnText = mapCss ? btnText.slice(1) : btnText;\n            btnhtml += `<button data-action=\"btn\" data-retid=\"${btnRetId}\" class=\"${btnCssMap.def}${\n              mapCss ? ` ${mapCss}` : ''\n            }\">${btnText}</button>`;\n          }\n          btnhtml += '</div>';\n        }\n        return btnhtml;\n      })()\n    ].join('');\n    this.container.innerHTML = html;\n    this.warp.appendChild(this.container);\n  }\n\n  _initEvent() {\n    const me = this;\n    this.container.addEventListener(\n      'click',\n      (e) => {\n        if (e.target.className.indexOf(me.closeClass) >= 0) {\n          if (me.dispatch('onBtnClick', 0) !== false) {\n            me.close();\n          }\n          return false;\n        }\n        if ((e.target.dataset && e.target.dataset.action === 'btn') || e.target.getAttribute('data-action') === 'btn') {\n          me.dispatch('onBtnClick', e.target.dataset ? e.target.dataset.retid : e.target.getAttribute('data-retid'));\n        }\n      },\n      false\n    );\n  }\n\n  _onOpen() {\n    this.transition = true;\n    addClass(this.container, `lmui-dialog-${this.placement}-enter`);\n    window.setTimeout(() => {\n      this.transition = false;\n      this._doAfterOpen();\n    }, 300);\n  }\n\n  _onClose() {\n    this.transition = true;\n    removeClass(this.container, `lmui-dialog-${this.placement}-enter`);\n    window.setTimeout(() => {\n      this.transition = false;\n      this._doAfterClose();\n    }, 300);\n  }\n}\nDialog.GlobalConf = {\n  btnCssMap: {\n    'def': 'btn',\n    '~': 'btn-default',\n    '#': 'btn-normal',\n    '*': 'btn-primary',\n    '$': 'btn-success',\n    '%': 'btn-info',\n    '@': 'btn-link',\n    '^': 'btn-warning',\n    '!': 'btn-danger'\n  },\n  // 按钮retId编码方法\n  getBtnRetId: function(i) {\n    return i + 1;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/index.js"],"sourceRoot":""}