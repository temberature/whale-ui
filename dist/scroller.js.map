{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 2ae8df3fe98ca1847beb","webpack:///./src/components/scroller/index.js","webpack:///./src/components/eventclass/index.js","webpack:///./src/common/util/scroller.js","webpack:///./src/common/util/animate.js","webpack:///./src/common/util/index.js"],"names":["defaultOptions","scrollingX","scrollingY","animating","animationDuration","bouncing","locking","paging","snapping","zooming","minZoom","maxZoom","PullToRefresh","PullToRefreshHeight","renderScroll","docStyle","document","documentElement","style","engine","window","opera","Object","prototype","toString","call","navigator","cpuClass","vendorPrefix","trident","gecko","webkit","presto","helperElem","createElement","undef","perspectiveProperty","transformProperty","content","left","top","zoom","marginLeft","marginTop","EasyScroller","options","_className","_createEvent","container","parentNode","initScroller","bindEvents","reflow","setTimeout","dispatch","scrollingComplete","scroller","_render","activatePullToRefresh","finishPullToRefresh","clientWidth","clientHeight","contentWidth","contentHeight","setDimensions","me","addEventListener","e","touches","target","tagName","match","doTouchStart","timeStamp","preventDefault","doTouchMove","scale","doTouchEnd","mousedown","pageX","pageY","option","doMouseZoom","wheelDelta","offsetWidth","offsetHeight","rect","getBoundingClientRect","setPosition","clientLeft","clientTop","ClassManager","instanceId","Math","random","getNewInstanceId","classManager","ClassBase","_instanceId","EventClass","_handlers","_eventCache","eventName","handler","context","push","one","newList","i","l","length","falseNum","_handler","len","args","apply","splice","eventNames","cache","eventList","split","ename","fn","bind","concat","Array","slice","NOOP","Scroller","callback","__callback","speedMultiplier","penetrationDeceleration","penetrationAcceleration","key","hasOwnProperty","easeOutCubic","pos","pow","easeInOutCubic","members","__isSingleTouch","__isTracking","__didDecelerationComplete","__isGesturing","__isDragging","__isDecelerating","__isAnimating","__clientLeft","__clientTop","__clientWidth","__clientHeight","__contentWidth","__contentHeight","__snapWidth","__snapHeight","__refreshHeight","__refreshActive","__refreshActivate","__refreshDeactivate","__refreshStart","__zoomLevel","__scrollLeft","__scrollTop","__maxScrollLeft","__maxScrollTop","__scheduledLeft","__scheduledTop","__scheduledZoom","__lastTouchLeft","__lastTouchTop","__lastTouchMove","__positions","__minDecelerationScrollLeft","__minDecelerationScrollTop","__maxDecelerationScrollLeft","__maxDecelerationScrollTop","__decelerationVelocityX","__decelerationVelocityY","__computeScrollMax","scrollTo","setSnapSize","width","height","activateCallback","deactivateCallback","startCallback","triggerPullToRefresh","__publish","getValues","getScrollMax","zoomTo","level","animate","originLeft","originTop","Error","__zoomComplete","stop","oldLevel","max","min","zoomBy","factor","round","scrollBy","startLeft","startTop","change","Date","valueOf","__interruptedAnimation","currentTouchLeft","currentTouchTop","isSingleTouch","abs","__initialTouchLeft","__initialTouchTop","__zoomLevelStart","__lastScale","__enableScrollX","__enableScrollY","positions","moveX","moveY","scrollLeft","scrollTop","currentTouchLeftRel","currentTouchTopRel","maxScrollLeft","maxScrollTop","minimumTrackingForScroll","minimumTrackingForDrag","distanceX","distanceY","endPos","startPos","timeOffset","movedLeft","movedTop","minVelocityToStartDeceleration","__startDeceleration","wasAnimating","oldLeft","oldTop","oldZoom","diffLeft","diffTop","diffZoom","step","percent","now","render","verify","id","completed","renderedFramesPerSecond","animationId","wasFinished","start","zoomLevel","floor","ceil","__stepThroughDeceleration","minVelocityToKeepDecelerating","shouldContinue","scrollLeftFixed","scrollTopFixed","frictionFactor","scrollOutsideX","scrollOutsideY","time","desiredFrames","millisecondsPerSecond","running","counter","Animate","requestAnimationFrame","requestFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","isNative","test","root","TARGET_FPS","requests","requestCount","rafHandle","intervalHandle","lastActive","callbackHandle","setInterval","currentRequests","clearInterval","cleared","isRunning","stepCallback","verifyCallback","completedCallback","duration","easingMethod","lastFrame","dropCounter","body","newRunning","usedId","virtual","droppedFrames","j","value","Util","merge","source","prop","undefined","hasClass","el","cls","indexOf","classList","contains","className","addClass","curClass","classes","clsName","add","removeClass","remove","replace","String","trim","scrollBarWidth","getScrollBarWidth","outer","visibility","position","appendChild","widthNoScroll","overflow","inner","widthWithScroll","removeChild","tpl","data","code","join","Function"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;AC7DA;;;;;;;;AACA;;;;AACA;;AACA;;;;;;;;;;;;AACA,IAAMA,iBAAiB;AACrB;AACAC,cAAY,KAFS;AAGrB;AACAC,cAAY,IAJS;AAKrB;AACAC,aAAW,IANU;AAOrB;AACAC,qBAAmB,GARE;AASrB;AACAC,YAAU,IAVW;AAWrB;AACAC,WAAS,IAZY;AAarB;AACAC,UAAQ,KAda;AAerB;AACAC,YAAU,KAhBW;AAiBrB;AACAC,WAAS,KAlBY;AAmBrB;AACAC,WAAS,GApBY;AAqBrB;AACAC,WAAS,CAtBY;AAuBrB;AACAC,iBAAe,KAxBM;AAyBrB;AACAC,uBAAqB;AA1BA,CAAvB;;AA6BA,IAAMC,eAAgB,YAAW;AAC/B,MAAMC,WAAWC,SAASC,eAAT,CAAyBC,KAA1C;AACA,MAAIC,eAAJ;AACA,MAAIC,OAAOC,KAAP,IAAgBC,OAAOC,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BL,OAAOC,KAAtC,MAAiD,gBAArE,EAAuF;AACrFF,aAAS,QAAT;AACD,GAFD,MAEO,IAAI,mBAAmBJ,QAAvB,EAAiC;AACtCI,aAAS,OAAT;AACD,GAFM,MAEA,IAAI,sBAAsBJ,QAA1B,EAAoC;AACzCI,aAAS,QAAT;AACD,GAFM,MAEA,IAAI,OAAOO,UAAUC,QAAjB,KAA8B,QAAlC,EAA4C;AACjDR,aAAS,SAAT;AACD;AACD,MAAMS,eAAgB5B,eAAe4B,YAAf,GAA8B;AAClDC,aAAS,IADyC;AAElDC,WAAO,KAF2C;AAGlDC,YAAQ,QAH0C;AAIlDC,YAAQ;AAJ0C,IAKlDb,MALkD,CAApD;AAMA,MAAMc,aAAajB,SAASkB,aAAT,CAAuB,KAAvB,CAAnB;AACA,MAAIC,cAAJ;AACA,MAAMC,sBAAyBR,YAAzB,gBAAN;AACA,MAAMS,oBAAuBT,YAAvB,cAAN;AACA,MAAIK,WAAWf,KAAX,CAAiBkB,mBAAjB,MAA0CD,KAA9C,EAAqD;AACnD,WAAO,UAASG,OAAT,EAAkBC,IAAlB,EAAwBC,GAAxB,EAA6BC,IAA7B,EAAmC;AACxCH,cAAQpB,KAAR,CAAcmB,iBAAd,qBAAkD,CAACE,IAAnD,WAA6D,CAACC,GAA9D,oBAAgFC,IAAhF;AACD,KAFD;AAGD;AACD,MAAIR,WAAWf,KAAX,CAAiBmB,iBAAjB,MAAwCF,KAA5C,EAAmD;AACjD,WAAO,UAASG,OAAT,EAAkBC,IAAlB,EAAwBC,GAAxB,EAA6BC,IAA7B,EAAmC;AACxCH,cAAQpB,KAAR,CAAcmB,iBAAd,mBAAgD,CAACE,IAAjD,WAA2D,CAACC,GAA5D,kBAA4EC,IAA5E;AACD,KAFD;AAGD;AACD,SAAO,UAASH,OAAT,EAAkBC,IAAlB,EAAwBC,GAAxB,EAA6BC,IAA7B,EAAmC;AACxCH,YAAQpB,KAAR,CAAcwB,UAAd,GAA2BH,OAAU,CAACA,IAAD,GAAQE,IAAlB,UAA6B,EAAxD;AACAH,YAAQpB,KAAR,CAAcyB,SAAd,GAA0BH,MAAS,CAACA,GAAD,GAAOC,IAAhB,UAA2B,EAArD;AACAH,YAAQpB,KAAR,CAAcuB,IAAd,GAAqBA,QAAQ,EAA7B;AACD,GAJD;AAKD,CArCoB,EAArB;;IAuCqBG,Y;;;AACnB,wBAAYN,OAAZ,EAAqBO,OAArB,EAA8B;AAAA;;AAAA;;AAE5B,UAAKC,UAAL,GAAkB,UAAlB;AACA,UAAKC,YAAL,CAAkB,sEAAlB;AACA,UAAKT,OAAL,GAAeA,OAAf;AACA;AACA,UAAKU,SAAL,GAAiBV,QAAQW,UAAzB;AACA,UAAKJ,OAAL,GAAe,iBAAM,EAAN,EAAU7C,cAAV,EAA0B6C,OAA1B,CAAf;AACA;AACA,UAAKK,YAAL;AACA;AACA,UAAKC,UAAL;AACA;AACA,UAAKb,OAAL,CAAapB,KAAb,CAAsBlB,eAAe4B,YAArC,wBAAsE,UAAtE;AACA;AACA,UAAKwB,MAAL;AACAhC,WAAOiC,UAAP,CAAkB,YAAM;AACtB,YAAKC,QAAL,CAAc,UAAd;AACD,KAFD,EAEG,CAFH;AAhB4B;AAmB7B;;;;mCAEc;AAAA;;AACb,WAAKT,OAAL,CAAaU,iBAAb,GAAiC,YAAM;AACrC,eAAKD,QAAL,CAAc,cAAd;AACD,OAFD;AAGA,WAAKE,QAAL,GAAgB,uBAAa,UAACjB,IAAD,EAAOC,GAAP,EAAYC,IAAZ,EAAqB;AAChD,eAAKa,QAAL,CAAc,UAAd,EAA0Bf,IAA1B,EAAgCC,GAAhC,EAAqCC,IAArC;AACA,eAAKgB,OAAL,CAAalB,IAAb,EAAmBC,GAAnB,EAAwBC,IAAxB;AACD,OAHe,EAGb,KAAKI,OAHQ,CAAhB;AAIA,UAAI,KAAKA,OAAL,CAAajC,aAAjB,EAAgC;AAC9B,aAAK4C,QAAL,CAAcE,qBAAd,CACE,KAAKb,OAAL,CAAahC,mBADf,EAEE,YAAM;AACJ,iBAAKyC,QAAL,CAAc,eAAd;AACD,SAJH,EAKE,YAAM;AACJ,iBAAKA,QAAL,CAAc,eAAd;AACD,SAPH,EAQE,YAAM;AACJ,iBAAKA,QAAL,CAAc,WAAd;AACD,SAVH;AAYD;AACF;;;0CAEqB;AACpB,WAAKT,OAAL,CAAajC,aAAb,IAA8B,KAAK4C,QAAL,CAAcG,mBAAd,EAA9B;AACD;;;kCAEaC,W,EAAaC,Y,EAAcC,Y,EAAcC,a,EAAe;AACpE,WAAKP,QAAL,CAAcQ,aAAd,CAA4BJ,WAA5B,EAAyCC,YAAzC,EAAuDC,YAAvD,EAAqEC,aAArE;AACD;;;4BAEOxB,I,EAAMC,G,EAAKC,I,EAAM;AACvB3B,mBAAa,KAAKwB,OAAlB,EAA2BC,IAA3B,EAAiCC,GAAjC,EAAsCC,IAAtC;AACD;;;iCAEY;AACX,UAAMwB,KAAK,IAAX;AACA;AACA7C,aAAO8C,gBAAP,CACE,QADF,EAEE,YAAM;AACJD,WAAGb,MAAH;AACD,OAJH,EAKE,KALF;AAOA;AACA,UAAI,kBAAkBhC,MAAtB,EAA8B;AAC5B,aAAK4B,SAAL,CAAekB,gBAAf,CACE,YADF,EAEE,UAACC,CAAD,EAAO;AACL;AACA,cAAIA,EAAEC,OAAF,CAAU,CAAV,KAAgBD,EAAEC,OAAF,CAAU,CAAV,EAAaC,MAA7B,IAAuCF,EAAEC,OAAF,CAAU,CAAV,EAAaC,MAAb,CAAoBC,OAApB,CAA4BC,KAA5B,CAAkC,wBAAlC,CAA3C,EAAwG;AACtG;AACD;AACD;AACAN,aAAGb,MAAH;AACAa,aAAGT,QAAH,CAAYgB,YAAZ,CAAyBL,EAAEC,OAA3B,EAAoCD,EAAEM,SAAtC;AACD,SAVH,EAWE,KAXF;AAaA,aAAKzB,SAAL,CAAekB,gBAAf,CACE,WADF,EAEE,UAACC,CAAD,EAAO;AACLA,YAAEO,cAAF;AACAT,aAAGT,QAAH,CAAYmB,WAAZ,CAAwBR,EAAEC,OAA1B,EAAmCD,EAAEM,SAArC,EAAgDN,EAAES,KAAlD;AACD,SALH,EAME,KANF;AAQA,aAAK5B,SAAL,CAAekB,gBAAf,CACE,UADF,EAEE,UAACC,CAAD,EAAO;AACLF,aAAGT,QAAH,CAAYqB,UAAZ,CAAuBV,EAAEM,SAAzB;AACD,SAJH,EAKE,KALF;AAOA,aAAKzB,SAAL,CAAekB,gBAAf,CACE,aADF,EAEE,UAACC,CAAD,EAAO;AACLF,aAAGT,QAAH,CAAYqB,UAAZ,CAAuBV,EAAEM,SAAzB;AACD,SAJH,EAKE,KALF;AAOA;AACD,OArCD,MAqCO;AACL,YAAIK,YAAY,KAAhB;AACA,aAAK9B,SAAL,CAAekB,gBAAf,CACE,WADF,EAEE,UAACC,CAAD,EAAO;AACL,cAAIA,EAAEE,MAAF,CAASC,OAAT,CAAiBC,KAAjB,CAAuB,wBAAvB,CAAJ,EAAsD;AACpD;AACD;AACDN,aAAGT,QAAH,CAAYgB,YAAZ,CACE,CACE;AACEO,mBAAOZ,EAAEY,KADX;AAEEC,mBAAOb,EAAEa;AAFX,WADF,CADF,EAOEb,EAAEM,SAPJ;AASAK,sBAAY,IAAZ;AACA;AACAb,aAAGb,MAAH;AACAe,YAAEO,cAAF;AACD,SAnBH,EAoBE,KApBF;AAsBA1D,iBAASkD,gBAAT,CACE,WADF,EAEE,UAACC,CAAD,EAAO;AACL,cAAI,CAACW,SAAL,EAAgB;AACd;AACD;AACDb,aAAGT,QAAH,CAAYmB,WAAZ,CACE,CACE;AACEI,mBAAOZ,EAAEY,KADX;AAEEC,mBAAOb,EAAEa;AAFX,WADF,CADF,EAOEb,EAAEM,SAPJ;AASAK,sBAAY,IAAZ;AACD,SAhBH,EAiBE,KAjBF;AAmBA9D,iBAASkD,gBAAT,CACE,SADF,EAEE,UAACC,CAAD,EAAO;AACL,cAAI,CAACW,SAAL,EAAgB;AACd;AACD;AACDb,aAAGT,QAAH,CAAYqB,UAAZ,CAAuBV,EAAEM,SAAzB;AACAK,sBAAY,KAAZ;AACD,SARH,EASE,KATF;AAWA,aAAK9B,SAAL,CAAekB,gBAAf,CACE,YADF,EAEE,UAACC,CAAD,EAAO;AACL,cAAIF,GAAGgB,MAAH,CAAUxE,OAAd,EAAuB;AACrBwD,eAAGT,QAAH,CAAY0B,WAAZ,CAAwBf,EAAEgB,UAA1B,EAAsChB,EAAEM,SAAxC,EAAmDN,EAAEY,KAArD,EAA4DZ,EAAEa,KAA9D;AACAb,cAAEO,cAAF;AACD;AACF,SAPH,EAQE,KARF;AAUD;AACF;;;6BAEQ;AACP;AACA,WAAKlB,QAAL,CAAcQ,aAAd,CACE,KAAKhB,SAAL,CAAeY,WADjB,EAEE,KAAKZ,SAAL,CAAea,YAFjB,EAGE,KAAKvB,OAAL,CAAa8C,WAHf,EAIE,KAAKvC,OAAL,CAAajC,aAAb,GAA6B,KAAK0B,OAAL,CAAa+C,YAAb,GAA4B,EAAzD,GAA8D,KAAK/C,OAAL,CAAa+C,YAJ7E;AAMA;AACA,UAAMC,OAAO,KAAKtC,SAAL,CAAeuC,qBAAf,EAAb;AACA,WAAK/B,QAAL,CAAcgC,WAAd,CAA0BF,KAAK/C,IAAL,GAAY,KAAKS,SAAL,CAAeyC,UAArD,EAAiEH,KAAK9C,GAAL,GAAW,KAAKQ,SAAL,CAAe0C,SAA3F;AACD;;;;;;kBAxLkB9C,Y;;;;;;;;;;;;;;;qjBCxErB;;;;;;AAIA;;;;;;;;;;AAEA,IAAM+C,eAAe,SAAfA,YAAe,GAAW;AAC9B,MAAIC,aAAa,IAAKC,KAAKC,MAAL,KAAgB,GAAtC;AACA,OAAKC,gBAAL,GAAwB,YAAW;AACjC,WAAOH,YAAP;AACD,GAFD;AAGD,CALD;AAMA,IAAMI,eAAe,IAAIL,YAAJ,EAArB;;IACMM,S;AACJ,qBAAYpD,OAAZ,EAAqB;AAAA;;AACnB,qBAAM,IAAN,EAAYA,OAAZ;AACA,SAAKC,UAAL,GAAkB,WAAlB;AACA,SAAKoD,WAAL,GAAmBF,aAAaD,gBAAb,EAAnB;AACD;;;;gCAEW;AACV,aAAO,KAAKjD,UAAZ;AACD;;;iCAEY;AACX,aAAO,KAAKoD,WAAZ;AACD;;;;;;IAGkBC,U;;;AACnB,sBAAYtD,OAAZ,EAAqB;AAAA;;AAAA,wHACbA,OADa;;AAEnB,UAAKC,UAAL,GAAkB,YAAlB;AACA,UAAKsD,SAAL,GAAiB,EAAjB;AACA,UAAKC,WAAL,GAAmB,EAAnB;AAJmB;AAKpB;;AAED;;;;;wBACIC,S,EAAWC,O,EAASC,O,EAAS;AAC/B,UAAI,CAACF,SAAD,IAAc,CAACC,OAAnB,EAA4B;AAC1B,eAAO,IAAP;AACD;AAH8B,UAIvBH,SAJuB,GAIT,IAJS,CAIvBA,SAJuB;;AAK/B,UAAI,CAACA,UAAUE,SAAV,CAAL,EAA2B;AACzBF,kBAAUE,SAAV,IAAuB,EAAvB;AACD;AACDF,gBAAUE,SAAV,EAAqBG,IAArB,CAA0B;AACxBD,iBAASA,WAAW,IADI;AAExBD,iBAASA,OAFe;AAGxBG,aAAK;AAHmB,OAA1B;AAKA,aAAO,IAAP;AACD;;AAED;;;;yBACKJ,S,EAAWC,O,EAASC,O,EAAS;AAChC,UAAI,CAACF,SAAD,IAAc,CAACC,OAAnB,EAA4B;AAC1B,eAAO,IAAP;AACD;AAH+B,UAIxBH,SAJwB,GAIV,IAJU,CAIxBA,SAJwB;;AAKhC,UAAI,CAACA,UAAUE,SAAV,CAAL,EAA2B;AACzBF,kBAAUE,SAAV,IAAuB,EAAvB;AACD;AACDF,gBAAUE,SAAV,EAAqBG,IAArB,CAA0B;AACxBD,iBAASA,WAAW,IADI;AAExBD,iBAASA,OAFe;AAGxBG,aAAK;AAHmB,OAA1B;AAKA,aAAO,IAAP;AACD;;AAED;;;;2BACOJ,S,EAAWC,O,EAAS;AAAA,UACjBH,SADiB,GACH,IADG,CACjBA,SADiB;;AAEzB,UAAI,CAACE,SAAL,EAAgB;AACd,aAAKF,SAAL,GAAiB,EAAjB;AACA,eAAO,IAAP;AACD;AACD,UAAIG,OAAJ,EAAa;AACX,YAAIH,UAAUE,SAAV,CAAJ,EAA0B;AACxB,cAAMK,UAAU,EAAhB;AACA,eAAK,IAAIC,IAAI,CAAR,EAAWC,IAAIT,UAAUE,SAAV,EAAqBQ,MAAzC,EAAiDF,IAAIC,CAArD,EAAwDD,GAAxD,EAA6D;AAC3D,gBAAIR,UAAUE,SAAV,EAAqBM,CAArB,EAAwB,SAAxB,MAAuCL,OAA3C,EAAoD;AAClDI,sBAAQF,IAAR,CAAaL,UAAUE,SAAV,EAAqBM,CAArB,CAAb;AACD;AACF;AACDR,oBAAUE,SAAV,IAAuBK,OAAvB;AACD;AACD,YAAIP,UAAUE,SAAV,KAAwBF,UAAUE,SAAV,EAAqBQ,MAArB,KAAgC,CAA5D,EAA+D;AAC7D,iBAAOV,UAAUE,SAAV,CAAP;AACD;AACF,OAbD,MAaO;AACL,eAAOF,UAAUE,SAAV,CAAP;AACD;AACD,aAAO,IAAP;AACD;;AAED;;;;6BACSA,S,EAAoB;AAC3B,UAAIS,WAAW,CAAf;AACA,UAAI,CAACT,SAAL,EAAgB;AACd,eAAOS,aAAa,CAApB;AACD;AACD,UAAMC,WAAW,KAAKZ,SAAL,CAAeE,SAAf,CAAjB;AACA,UAAIU,QAAJ,EAAc;AACZ;AACA,YAAIC,MAAMD,SAASF,MAAnB;;AAFY,0CANOI,IAMP;AANOA,cAMP;AAAA;;AAGZ,aAAK,IAAIN,IAAI,CAAb,EAAgBA,IAAIK,GAApB,GAA0B;AACxB,cAAID,SAASJ,CAAT,EAAY,SAAZ,EAAuBO,KAAvB,CAA6BH,SAASJ,CAAT,EAAY,SAAZ,CAA7B,EAAqDM,IAArD,MAA+D,KAAnE,EAA0E;AACxEH;AACD;AACD,cAAIC,SAASJ,CAAT,EAAY,KAAZ,CAAJ,EAAwB;AACtBI,qBAASI,MAAT,CAAgBR,CAAhB,EAAmB,CAAnB;AACAK;AACD,WAHD,MAGO;AACLL;AACD;AACF;AACF;AACD,aAAOG,aAAa,CAApB;AACD;;AAED;;;;wCACoBT,S,EAAWE,O,EAAkB;AAC/C,UAAIO,WAAW,CAAf;AACA,UAAI,CAACT,SAAL,EAAgB;AACd,eAAOS,aAAa,CAApB;AACD;AACD,UAAMC,WAAW,KAAKZ,SAAL,CAAeE,SAAf,CAAjB;AACA,UAAI,KAAKU,QAAL,CAAcV,SAAd,CAAJ,EAA8B;AAC5B;AACA;AACA,YAAIW,MAAMD,SAASF,MAAnB;;AAH4B,2CANWI,IAMX;AANWA,cAMX;AAAA;;AAI5B,aAAK,IAAIN,IAAI,CAAb,EAAgBA,IAAIK,GAApB,GAA0B;AACxB,cAAID,SAASJ,CAAT,EAAY,SAAZ,EAAuBO,KAAvB,CAA6BX,OAA7B,EAAsCU,IAAtC,MAAgD,KAApD,EAA2D;AACzDH;AACD;AACD,cAAIC,SAASJ,CAAT,EAAY,KAAZ,CAAJ,EAAwB;AACtBI,qBAASI,MAAT,CAAgBR,CAAhB,EAAmB,CAAnB;AACAK;AACD,WAHD,MAGO;AACLL;AACD;AACF;AACF;AACD,aAAOG,aAAa,CAApB;AACD;;AAED;AACA;;;;iCACaM,U,EAAqB;AAAA,yCAANH,IAAM;AAANA,YAAM;AAAA;;AAChC,UAAI,OAAOG,UAAP,KAAsB,QAA1B,EAAoC;AAClC;AACD;AACD,UAAMpD,KAAK,IAAX;AACA,UAAMqD,QAAQrD,GAAGoC,WAAjB;AACA,UAAMkB,YAAYF,WAAWG,KAAX,CAAiB,GAAjB,CAAlB;AACA,UAAMP,MAAMM,UAAUT,MAAtB;AACA,WAAK,IAAIF,IAAI,CAAb,EAAgBA,IAAIK,GAApB,EAAyBL,GAAzB,EAA8B;AAC5B,YAAMN,YAAYiB,UAAUX,CAAV,CAAlB;AACAU,cAAMhB,SAAN,IAAmBgB,MAAMhB,SAAN,KAAoB,EAAvC;AACArC,WAAGqC,SAAH,IAAiB,UAASmB,KAAT,EAAgB;AAC/B,iBAAO,UAASC,EAAT,EAAa;AAClB,gBAAIpG,OAAOC,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BiG,EAA/B,MAAuC,mBAA3C,EAAgE;AAC9DzD,iBAAG0D,IAAH,CAAQF,KAAR,EAAeC,EAAf;AACA,qBAAOzD,EAAP;AACD;AACD,mBAAOA,GAAGX,QAAH,8BAAe,CAACmE,KAAD,EAAQG,MAAR,CAAeC,MAAMtG,SAAN,CAAgBuG,KAAhB,CAAsBrG,IAAtB,CAA2ByF,IAA3B,EAAiC,CAAjC,CAAf,CAAf,EAAP;AACD,WAND;AAOD,SARe,CAQbZ,SARa,CAAhB;AASD;AACF;;;;EA9IqCL,S;;kBAAnBE,U;;;;;;;;;AC7BrB;;;;;;AACA;;;;;;AACA,IAAM4B,OAAO,SAAPA,IAAO,GAAM,CAAE,CAArB;;AAEA;;;AAGA,IAAMC,WAAW,SAAXA,QAAW,CAASC,QAAT,EAAmBpF,OAAnB,EAA4B;AAC3C,OAAKqF,UAAL,GAAkBD,QAAlB;;AAEA,OAAKpF,OAAL,GAAe;AACb;AACA5C,gBAAY,IAFC;;AAIb;AACAC,gBAAY,IALC;;AAOb;AACAC,eAAW,IARE;;AAUb;AACAC,uBAAmB,GAXN;;AAab;AACAC,cAAU,IAdG;;AAgBb;AACAC,aAAS,IAjBI;;AAmBb;AACAC,YAAQ,KApBK;;AAsBb;AACAC,cAAU,KAvBG;;AAyBb;AACAC,aAAS,KA1BI;;AA4Bb;AACAC,aAAS,GA7BI;;AA+Bb;AACAC,aAAS,CAhCI;;AAkCb;AACAwH,qBAAiB,CAnCJ;;AAqCb;;;AAGA5E,uBAAmBwE,IAxCN;;AA0Cb;AACAK,6BAAyB,IA3CZ;;AA6Cb;AACAC,6BAAyB;AA9CZ,GAAf;;AAiDA,OAAK,IAAMC,GAAX,IAAkBzF,OAAlB,EAA2B;AACzB,QAAIvB,OAAOC,SAAP,CAAiBgH,cAAjB,CAAgC9G,IAAhC,CAAqCoB,OAArC,EAA8CyF,GAA9C,CAAJ,EAAwD;AACtD,WAAKzF,OAAL,CAAayF,GAAb,IAAoBzF,QAAQyF,GAAR,CAApB;AACD;AACF;AACF,CAzDD;;AA2DA;AACA;;AAEA;;;AAGA,IAAME,eAAe,SAAfA,YAAe,CAASC,GAAT,EAAc;AACjC,SAAO5C,KAAK6C,GAAL,CAASD,MAAM,CAAf,EAAkB,CAAlB,IAAuB,CAA9B;AACD,CAFD;;AAIA;;;AAGA,IAAME,iBAAiB,SAAjBA,cAAiB,CAASF,GAAT,EAAc;AACnC,MAAI,CAACA,OAAO,GAAR,IAAe,CAAnB,EAAsB;AACpB,WAAO,MAAM5C,KAAK6C,GAAL,CAASD,GAAT,EAAc,CAAd,CAAb;AACD;;AAED,SAAO,OAAO5C,KAAK6C,GAAL,CAASD,MAAM,CAAf,EAAkB,CAAlB,IAAuB,CAA9B,CAAP;AACD,CAND;;AAQA,IAAMG,UAAU;AACd;;;;;;AAMA;AACAC,mBAAiB,KARH;;AAUd;AACAC,gBAAc,KAXA;;AAad;AACAC,6BAA2B,KAdb;;AAgBd;;;;AAIAC,iBAAe,KApBD;;AAsBd;;;;;AAKAC,gBAAc,KA3BA;;AA6Bd;;;;AAIAC,oBAAkB,KAjCJ;;AAmCd;;;AAGAC,iBAAe,KAtCD;;AAwCd;;;;;;AAMA;AACAC,gBAAc,CA/CA;;AAiDd;AACAC,eAAa,CAlDC;;AAoDd;AACAC,iBAAe,CArDD;;AAuDd;AACAC,kBAAgB,CAxDF;;AA0Dd;AACAC,kBAAgB,CA3DF;;AA6Dd;AACAC,mBAAiB,CA9DH;;AAgEd;AACAC,eAAa,GAjEC;;AAmEd;AACAC,gBAAc,GApEA;;AAsEd;AACAC,mBAAiB,IAvEH;;AAyEd;AACAC,mBAAiB,KA1EH;;AA4Ed;AACAC,qBAAmB,IA7EL;;AA+Ed;AACAC,uBAAqB,IAhFP;;AAkFd;AACAC,kBAAgB,IAnFF;;AAqFd;AACAC,eAAa,CAtFC;;AAwFd;AACAC,gBAAc,CAzFA;;AA2Fd;AACAC,eAAa,CA5FC;;AA8Fd;AACAC,mBAAiB,CA/FH;;AAiGd;AACAC,kBAAgB,CAlGF;;AAoGd;AACAC,mBAAiB,CArGH;;AAuGd;AACAC,kBAAgB,CAxGF;;AA0Gd;AACAC,mBAAiB,CA3GH;;AA6Gd;;;;;;AAMA;AACAC,mBAAiB,IApHH;;AAsHd;AACAC,kBAAgB,IAvHF;;AAyHd;AACAC,mBAAiB,IA1HH;;AA4Hd;AACAC,eAAa,IA7HC;;AA+Hd;;;;;;AAMA;AACAC,+BAA6B,IAtIf;;AAwId;AACAC,8BAA4B,IAzId;;AA2Id;AACAC,+BAA6B,IA5If;;AA8Id;AACAC,8BAA4B,IA/Id;;AAiJd;AACAC,2BAAyB,IAlJX;;AAoJd;AACAC,2BAAyB,IArJX;;AAuJd;;;;;;AAMA;;;;;;;;;;AAUAlH,iBAAe,uBAASJ,WAAT,EAAsBC,YAAtB,EAAoCC,YAApC,EAAkDC,aAAlD,EAAiE;AAC9E,QAAME,KAAK,IAAX;;AAEA;AACA,QAAIL,gBAAgB,CAACA,WAArB,EAAkC;AAChCK,SAAGqF,aAAH,GAAmB1F,WAAnB;AACD;;AAED,QAAIC,iBAAiB,CAACA,YAAtB,EAAoC;AAClCI,SAAGsF,cAAH,GAAoB1F,YAApB;AACD;;AAED,QAAIC,iBAAiB,CAACA,YAAtB,EAAoC;AAClCG,SAAGuF,cAAH,GAAoB1F,YAApB;AACD;;AAED,QAAIC,kBAAkB,CAACA,aAAvB,EAAsC;AACpCE,SAAGwF,eAAH,GAAqB1F,aAArB;AACD;;AAED;AACAE,OAAGkH,kBAAH;;AAEA;AACAlH,OAAGmH,QAAH,CAAYnH,GAAGiG,YAAf,EAA6BjG,GAAGkG,WAAhC,EAA6C,IAA7C;AACD,GAhMa;;AAkMd;;;;;;AAMA3E,eAAa,qBAASjD,IAAT,EAAeC,GAAf,EAAoB;AAC/B,QAAMyB,KAAK,IAAX;;AAEAA,OAAGmF,YAAH,GAAkB7G,QAAQ,CAA1B;AACA0B,OAAGoF,WAAH,GAAiB7G,OAAO,CAAxB;AACD,GA7Ma;;AA+Md;;;;;;AAMA6I,eAAa,qBAASC,KAAT,EAAgBC,MAAhB,EAAwB;AACnC,QAAMtH,KAAK,IAAX;;AAEAA,OAAGyF,WAAH,GAAiB4B,KAAjB;AACArH,OAAG0F,YAAH,GAAkB4B,MAAlB;AACD,GA1Na;;AA4Nd;;;;;;;;;;AAUA7H,yBAAuB,+BAAS6H,MAAT,EAAiBC,gBAAjB,EAAmCC,kBAAnC,EAAuDC,aAAvD,EAAsE;AAC3F,QAAMzH,KAAK,IAAX;;AAEAA,OAAG2F,eAAH,GAAqB2B,MAArB;AACAtH,OAAG6F,iBAAH,GAAuB0B,gBAAvB;AACAvH,OAAG8F,mBAAH,GAAyB0B,kBAAzB;AACAxH,OAAG+F,cAAH,GAAoB0B,aAApB;AACD,GA7Oa;;AA+Od;;;AAGAC,wBAAsB,gCAAW;AAC/B;AACA;AACA,SAAKC,SAAL,CAAe,KAAK1B,YAApB,EAAkC,CAAC,KAAKN,eAAxC,EAAyD,KAAKK,WAA9D,EAA2E,IAA3E;;AAEA,QAAI,KAAKD,cAAT,EAAyB;AACvB,WAAKA,cAAL;AACD;AACF,GA1Pa;;AA4Pd;;;AAGArG,uBAAqB,+BAAW;AAC9B,QAAMM,KAAK,IAAX;;AAEAA,OAAG4F,eAAH,GAAqB,KAArB;AACA,QAAI5F,GAAG8F,mBAAP,EAA4B;AAC1B9F,SAAG8F,mBAAH;AACD;;AAED9F,OAAGmH,QAAH,CAAYnH,GAAGiG,YAAf,EAA6BjG,GAAGkG,WAAhC,EAA6C,IAA7C;AACD,GAxQa;;AA0Qd;;;;;AAKA0B,aAAW,qBAAW;AACpB,QAAM5H,KAAK,IAAX;;AAEA,WAAO;AACL1B,YAAM0B,GAAGiG,YADJ;AAEL1H,WAAKyB,GAAGkG,WAFH;AAGL1H,YAAMwB,GAAGgG;AAHJ,KAAP;AAKD,GAvRa;;AAyRd;;;;;AAKA6B,gBAAc,wBAAW;AACvB,QAAM7H,KAAK,IAAX;;AAEA,WAAO;AACL1B,YAAM0B,GAAGmG,eADJ;AAEL5H,WAAKyB,GAAGoG;AAFH,KAAP;AAID,GArSa;;AAuSd;;;;;;;;;;AAUA0B,UAAQ,gBAASC,KAAT,EAAgBC,OAAhB,EAAyBC,UAAzB,EAAqCC,SAArC,EAAgDlE,QAAhD,EAA0D;AAChE,QAAMhE,KAAK,IAAX;;AAEA,QAAI,CAACA,GAAGpB,OAAH,CAAWpC,OAAhB,EAAyB;AACvB,YAAM,IAAI2L,KAAJ,CAAU,yBAAV,CAAN;AACD;;AAED;AACA,QAAInE,QAAJ,EAAc;AACZhE,SAAGoI,cAAH,GAAoBpE,QAApB;AACD;;AAED;AACA,QAAIhE,GAAGiF,gBAAP,EAAyB;AACvB,wBAAQoD,IAAR,CAAarI,GAAGiF,gBAAhB;AACAjF,SAAGiF,gBAAH,GAAsB,KAAtB;AACD;;AAED,QAAMqD,WAAWtI,GAAGgG,WAApB;;AAEA;AACA,QAAIiC,cAAc,IAAlB,EAAwB;AACtBA,mBAAajI,GAAGqF,aAAH,GAAmB,CAAhC;AACD;;AAED,QAAI6C,aAAa,IAAjB,EAAuB;AACrBA,kBAAYlI,GAAGsF,cAAH,GAAoB,CAAhC;AACD;;AAED;AACAyC,YAAQnG,KAAK2G,GAAL,CAAS3G,KAAK4G,GAAL,CAAST,KAAT,EAAgB/H,GAAGpB,OAAH,CAAWlC,OAA3B,CAAT,EAA8CsD,GAAGpB,OAAH,CAAWnC,OAAzD,CAAR;;AAEA;AACAuD,OAAGkH,kBAAH,CAAsBa,KAAtB;;AAEA;AACA,QAAIzJ,OAAO,CAAC2J,aAAajI,GAAGiG,YAAjB,IAAiC8B,KAAjC,GAAyCO,QAAzC,GAAoDL,UAA/D;AACA,QAAI1J,MAAM,CAAC2J,YAAYlI,GAAGkG,WAAhB,IAA+B6B,KAA/B,GAAuCO,QAAvC,GAAkDJ,SAA5D;;AAEA;AACA,QAAI5J,OAAO0B,GAAGmG,eAAd,EAA+B;AAC7B7H,aAAO0B,GAAGmG,eAAV;AACD,KAFD,MAEO,IAAI7H,OAAO,CAAX,EAAc;AACnBA,aAAO,CAAP;AACD;;AAED;AACA,QAAIC,MAAMyB,GAAGoG,cAAb,EAA6B;AAC3B7H,YAAMyB,GAAGoG,cAAT;AACD,KAFD,MAEO,IAAI7H,MAAM,CAAV,EAAa;AAClBA,YAAM,CAAN;AACD;;AAED;AACAyB,OAAG2H,SAAH,CAAarJ,IAAb,EAAmBC,GAAnB,EAAwBwJ,KAAxB,EAA+BC,OAA/B;AACD,GAxWa;;AA0Wd;;;;;;;;;AASAS,UAAQ,gBAASC,MAAT,EAAiBV,OAAjB,EAA0BC,UAA1B,EAAsCC,SAAtC,EAAiDlE,QAAjD,EAA2D;AACjE,QAAMhE,KAAK,IAAX;;AAEAA,OAAG8H,MAAH,CAAU9H,GAAGgG,WAAH,GAAiB0C,MAA3B,EAAmCV,OAAnC,EAA4CC,UAA5C,EAAwDC,SAAxD,EAAmElE,QAAnE;AACD,GAvXa;;AAyXd;;;;;;;;AAQAmD,YAAU,kBAAS7I,IAAT,EAAeC,GAAf,EAAoByJ,OAApB,EAA6BxJ,IAA7B,EAAmC;AAC3C,QAAMwB,KAAK,IAAX;;AAEA;AACA,QAAIA,GAAGiF,gBAAP,EAAyB;AACvB,wBAAQoD,IAAR,CAAarI,GAAGiF,gBAAhB;AACAjF,SAAGiF,gBAAH,GAAsB,KAAtB;AACD;;AAED;AACA,QAAIzG,QAAQ,IAAR,IAAgBA,SAASwB,GAAGgG,WAAhC,EAA6C;AAC3C,UAAI,CAAChG,GAAGpB,OAAH,CAAWpC,OAAhB,EAAyB;AACvB,cAAM,IAAI2L,KAAJ,CAAU,yBAAV,CAAN;AACD;;AAED7J,cAAQE,IAAR;AACAD,aAAOC,IAAP;;AAEA;AACAwB,SAAGkH,kBAAH,CAAsB1I,IAAtB;AACD,KAVD,MAUO;AACL;AACAA,aAAOwB,GAAGgG,WAAV;AACD;;AAED,QAAI,CAAChG,GAAGpB,OAAH,CAAW5C,UAAhB,EAA4B;AAC1BsC,aAAO0B,GAAGiG,YAAV;AACD,KAFD,MAEO,IAAIjG,GAAGpB,OAAH,CAAWtC,MAAf,EAAuB;AAC5BgC,aAAOsD,KAAK+G,KAAL,CAAWrK,OAAO0B,GAAGqF,aAArB,IAAsCrF,GAAGqF,aAAhD;AACD,KAFM,MAEA,IAAIrF,GAAGpB,OAAH,CAAWrC,QAAf,EAAyB;AAC9B+B,aAAOsD,KAAK+G,KAAL,CAAWrK,OAAO0B,GAAGyF,WAArB,IAAoCzF,GAAGyF,WAA9C;AACD;;AAED,QAAI,CAACzF,GAAGpB,OAAH,CAAW3C,UAAhB,EAA4B;AAC1BsC,YAAMyB,GAAGkG,WAAT;AACD,KAFD,MAEO,IAAIlG,GAAGpB,OAAH,CAAWtC,MAAf,EAAuB;AAC5BiC,YAAMqD,KAAK+G,KAAL,CAAWpK,MAAMyB,GAAGsF,cAApB,IAAsCtF,GAAGsF,cAA/C;AACD,KAFM,MAEA,IAAItF,GAAGpB,OAAH,CAAWrC,QAAf,EAAyB;AAC9BgC,YAAMqD,KAAK+G,KAAL,CAAWpK,MAAMyB,GAAG0F,YAApB,IAAoC1F,GAAG0F,YAA7C;AACD;;AAED;AACApH,WAAOsD,KAAK2G,GAAL,CAAS3G,KAAK4G,GAAL,CAASxI,GAAGmG,eAAZ,EAA6B7H,IAA7B,CAAT,EAA6C,CAA7C,CAAP;AACAC,UAAMqD,KAAK2G,GAAL,CAAS3G,KAAK4G,GAAL,CAASxI,GAAGoG,cAAZ,EAA4B7H,GAA5B,CAAT,EAA2C,CAA3C,CAAN;;AAEA;AACA;AACA,QAAID,SAAS0B,GAAGiG,YAAZ,IAA4B1H,QAAQyB,GAAGkG,WAA3C,EAAwD;AACtD8B,gBAAU,KAAV;AACD;;AAED;AACA,QAAI,CAAChI,GAAG6E,YAAR,EAAsB;AACpB7E,SAAG2H,SAAH,CAAarJ,IAAb,EAAmBC,GAAnB,EAAwBC,IAAxB,EAA8BwJ,OAA9B;AACD;AACF,GAxba;;AA0bd;;;;;;;AAOAY,YAAU,kBAAStK,IAAT,EAAeC,GAAf,EAAoByJ,OAApB,EAA6B;AACrC,QAAMhI,KAAK,IAAX;;AAEA,QAAM6I,YAAY7I,GAAGkF,aAAH,GAAmBlF,GAAGqG,eAAtB,GAAwCrG,GAAGiG,YAA7D;AACA,QAAM6C,WAAW9I,GAAGkF,aAAH,GAAmBlF,GAAGsG,cAAtB,GAAuCtG,GAAGkG,WAA3D;;AAEAlG,OAAGmH,QAAH,CAAY0B,aAAavK,QAAQ,CAArB,CAAZ,EAAqCwK,YAAYvK,OAAO,CAAnB,CAArC,EAA4DyJ,OAA5D;AACD,GAxca;;AA0cd;;;;;;AAMA;;;AAGA/G,eAAa,qBAASC,UAAT,EAAqBV,SAArB,EAAgCM,KAAhC,EAAuCC,KAAvC,EAA8C;AACzD,QAAMf,KAAK,IAAX;AACA,QAAM+I,SAAS7H,aAAa,CAAb,GAAiB,IAAjB,GAAwB,IAAvC;;AAEA,WAAOlB,GAAG8H,MAAH,CAAU9H,GAAGgG,WAAH,GAAiB+C,MAA3B,EAAmC,KAAnC,EAA0CjI,QAAQd,GAAGmF,YAArD,EAAmEpE,QAAQf,GAAGoF,WAA9E,CAAP;AACD,GAxda;;AA0dd;;;AAGA7E,gBAAc,sBAASJ,OAAT,EAAkBK,SAAlB,EAA6B;AACzC;AACA,QAAIL,QAAQ0C,MAAR,IAAkB,IAAtB,EAA4B;AAC1B,YAAM,IAAIsF,KAAJ,0BAAiChI,OAAjC,CAAN;AACD;;AAED,QAAIK,qBAAqBwI,IAAzB,EAA+B;AAC7BxI,kBAAYA,UAAUyI,OAAV,EAAZ;AACD;AACD,QAAI,OAAOzI,SAAP,KAAqB,QAAzB,EAAmC;AACjC,YAAM,IAAI2H,KAAJ,+BAAsC3H,SAAtC,CAAN;AACD;;AAED,QAAMR,KAAK,IAAX;;AAEA;AACAA,OAAGkJ,sBAAH,GAA4B,IAA5B;;AAEA;AACA,QAAIlJ,GAAGiF,gBAAP,EAAyB;AACvB,wBAAQoD,IAAR,CAAarI,GAAGiF,gBAAhB;AACAjF,SAAGiF,gBAAH,GAAsB,KAAtB;AACAjF,SAAGkJ,sBAAH,GAA4B,IAA5B;AACD;;AAED;AACA,QAAIlJ,GAAGkF,aAAP,EAAsB;AACpB,wBAAQmD,IAAR,CAAarI,GAAGkF,aAAhB;AACAlF,SAAGkF,aAAH,GAAmB,KAAnB;AACAlF,SAAGkJ,sBAAH,GAA4B,IAA5B;AACD;;AAED;AACA,QAAIC,yBAAJ;AACA,QAAIC,wBAAJ;AACA,QAAMC,gBAAgBlJ,QAAQ0C,MAAR,KAAmB,CAAzC;AACA,QAAIwG,aAAJ,EAAmB;AACjBF,yBAAmBhJ,QAAQ,CAAR,EAAWW,KAA9B;AACAsI,wBAAkBjJ,QAAQ,CAAR,EAAWY,KAA7B;AACD,KAHD,MAGO;AACLoI,yBAAmBvH,KAAK0H,GAAL,CAASnJ,QAAQ,CAAR,EAAWW,KAAX,GAAmBX,QAAQ,CAAR,EAAWW,KAAvC,IAAgD,CAAnE;AACAsI,wBAAkBxH,KAAK0H,GAAL,CAASnJ,QAAQ,CAAR,EAAWY,KAAX,GAAmBZ,QAAQ,CAAR,EAAWY,KAAvC,IAAgD,CAAlE;AACD;;AAED;AACAf,OAAGuJ,kBAAH,GAAwBJ,gBAAxB;AACAnJ,OAAGwJ,iBAAH,GAAuBJ,eAAvB;;AAEA;AACApJ,OAAGyJ,gBAAH,GAAsBzJ,GAAGgG,WAAzB;;AAEA;AACAhG,OAAGwG,eAAH,GAAqB2C,gBAArB;AACAnJ,OAAGyG,cAAH,GAAoB2C,eAApB;;AAEA;AACApJ,OAAG0G,eAAH,GAAqBlG,SAArB;;AAEA;AACAR,OAAG0J,WAAH,GAAiB,CAAjB;;AAEA;AACA1J,OAAG2J,eAAH,GAAqB,CAACN,aAAD,IAAkBrJ,GAAGpB,OAAH,CAAW5C,UAAlD;AACAgE,OAAG4J,eAAH,GAAqB,CAACP,aAAD,IAAkBrJ,GAAGpB,OAAH,CAAW3C,UAAlD;;AAEA;AACA+D,OAAG6E,YAAH,GAAkB,IAAlB;;AAEA;AACA7E,OAAG8E,yBAAH,GAA+B,KAA/B;;AAEA;AACA9E,OAAGgF,YAAH,GAAkB,CAACqE,aAAnB;;AAEA;AACArJ,OAAG4E,eAAH,GAAqByE,aAArB;;AAEA;AACArJ,OAAG2G,WAAH,GAAiB,EAAjB;AACD,GA5iBa;;AA8iBd;;;AAGAjG,eAAa,qBAASP,OAAT,EAAkBK,SAAlB,EAA6BG,KAA7B,EAAoC;AAC/C;AACA,QAAIR,QAAQ0C,MAAR,IAAkB,IAAtB,EAA4B;AAC1B,YAAM,IAAIsF,KAAJ,0BAAiChI,OAAjC,CAAN;AACD;;AAED,QAAIK,qBAAqBwI,IAAzB,EAA+B;AAC7BxI,kBAAYA,UAAUyI,OAAV,EAAZ;AACD;AACD,QAAI,OAAOzI,SAAP,KAAqB,QAAzB,EAAmC;AACjC,YAAM,IAAI2H,KAAJ,+BAAsC3H,SAAtC,CAAN;AACD;;AAED,QAAMR,KAAK,IAAX;;AAEA;AACA,QAAI,CAACA,GAAG6E,YAAR,EAAsB;AACpB;AACD;;AAED,QAAIsE,yBAAJ;AACA,QAAIC,wBAAJ;;AAEA;AACA,QAAIjJ,QAAQ0C,MAAR,KAAmB,CAAvB,EAA0B;AACxBsG,yBAAmBvH,KAAK0H,GAAL,CAASnJ,QAAQ,CAAR,EAAWW,KAAX,GAAmBX,QAAQ,CAAR,EAAWW,KAAvC,IAAgD,CAAnE;AACAsI,wBAAkBxH,KAAK0H,GAAL,CAASnJ,QAAQ,CAAR,EAAWY,KAAX,GAAmBZ,QAAQ,CAAR,EAAWY,KAAvC,IAAgD,CAAlE;AACD,KAHD,MAGO;AACLoI,yBAAmBhJ,QAAQ,CAAR,EAAWW,KAA9B;AACAsI,wBAAkBjJ,QAAQ,CAAR,EAAWY,KAA7B;AACD;;AAED,QAAM8I,YAAY7J,GAAG2G,WAArB;;AAEA;AACA,QAAI3G,GAAGgF,YAAP,EAAqB;AACnB;AACA,UAAM8E,QAAQX,mBAAmBnJ,GAAGwG,eAApC;AACA,UAAMuD,QAAQX,kBAAkBpJ,GAAGyG,cAAnC;;AAEA;AACA,UAAIuD,aAAahK,GAAGiG,YAApB;AACA,UAAIgE,YAAYjK,GAAGkG,WAAnB;AACA,UAAI6B,QAAQ/H,GAAGgG,WAAf;;AAEA;AACA,UAAIrF,SAAS,IAAT,IAAiBX,GAAGpB,OAAH,CAAWpC,OAAhC,EAAyC;AACvC,YAAM8L,WAAWP,KAAjB;;AAEA;AACAA,gBAAQA,QAAQ/H,GAAG0J,WAAX,GAAyB/I,KAAjC;;AAEA;AACAoH,gBAAQnG,KAAK2G,GAAL,CAAS3G,KAAK4G,GAAL,CAAST,KAAT,EAAgB/H,GAAGpB,OAAH,CAAWlC,OAA3B,CAAT,EAA8CsD,GAAGpB,OAAH,CAAWnC,OAAzD,CAAR;;AAEA;AACA,YAAI6L,aAAaP,KAAjB,EAAwB;AACtB;AACA,cAAMmC,sBAAsBf,mBAAmBnJ,GAAGmF,YAAlD;AACA,cAAMgF,qBAAqBf,kBAAkBpJ,GAAGoF,WAAhD;;AAEA;AACA4E,uBAAa,CAACE,sBAAsBF,UAAvB,IAAqCjC,KAArC,GAA6CO,QAA7C,GAAwD4B,mBAArE;AACAD,sBAAY,CAACE,qBAAqBF,SAAtB,IAAmClC,KAAnC,GAA2CO,QAA3C,GAAsD6B,kBAAlE;;AAEA;AACAnK,aAAGkH,kBAAH,CAAsBa,KAAtB;AACD;AACF;;AAED,UAAI/H,GAAG2J,eAAP,EAAwB;AACtBK,sBAAcF,QAAQ,KAAKlL,OAAL,CAAasF,eAAnC;AACA,YAAMkG,gBAAgBpK,GAAGmG,eAAzB;;AAEA,YAAI6D,aAAaI,aAAb,IAA8BJ,aAAa,CAA/C,EAAkD;AAChD;AACA,cAAIhK,GAAGpB,OAAH,CAAWxC,QAAf,EAAyB;AACvB4N,0BAAcF,QAAQ,CAAR,GAAY,KAAKlL,OAAL,CAAasF,eAAvC;AACD,WAFD,MAEO,IAAI8F,aAAaI,aAAjB,EAAgC;AACrCJ,yBAAaI,aAAb;AACD,WAFM,MAEA;AACLJ,yBAAa,CAAb;AACD;AACF;AACF;;AAED;AACA,UAAIhK,GAAG4J,eAAP,EAAwB;AACtBK,qBAAaF,QAAQ,KAAKnL,OAAL,CAAasF,eAAlC;AACA,YAAMmG,eAAerK,GAAGoG,cAAxB;;AAEA,YAAI6D,YAAYI,YAAZ,IAA4BJ,YAAY,CAA5C,EAA+C;AAC7C;AACA,cAAIjK,GAAGpB,OAAH,CAAWxC,QAAf,EAAyB;AACvB6N,yBAAaF,QAAQ,CAAR,GAAY,KAAKnL,OAAL,CAAasF,eAAtC;;AAEA;AACA,gBAAI,CAAClE,GAAG2J,eAAJ,IAAuB3J,GAAG2F,eAAH,IAAsB,IAAjD,EAAuD;AACrD,kBAAI,CAAC3F,GAAG4F,eAAJ,IAAuBqE,aAAa,CAACjK,GAAG2F,eAA5C,EAA6D;AAC3D3F,mBAAG4F,eAAH,GAAqB,IAArB;AACA,oBAAI5F,GAAG6F,iBAAP,EAA0B;AACxB7F,qBAAG6F,iBAAH;AACD;AACF,eALD,MAKO,IAAI7F,GAAG4F,eAAH,IAAsBqE,YAAY,CAACjK,GAAG2F,eAA1C,EAA2D;AAChE3F,mBAAG4F,eAAH,GAAqB,KAArB;AACA,oBAAI5F,GAAG8F,mBAAP,EAA4B;AAC1B9F,qBAAG8F,mBAAH;AACD;AACF;AACF;AACF,WAjBD,MAiBO,IAAImE,YAAYI,YAAhB,EAA8B;AACnCJ,wBAAYI,YAAZ;AACD,WAFM,MAEA;AACLJ,wBAAY,CAAZ;AACD;AACF;AACF;;AAED;AACA,UAAIJ,UAAUhH,MAAV,GAAmB,EAAvB,EAA2B;AACzBgH,kBAAU1G,MAAV,CAAiB,CAAjB,EAAoB,EAApB;AACD;;AAED;AACA0G,gBAAUrH,IAAV,CAAewH,UAAf,EAA2BC,SAA3B,EAAsCzJ,SAAtC;;AAEA;AACAR,SAAG2H,SAAH,CAAaqC,UAAb,EAAyBC,SAAzB,EAAoClC,KAApC;;AAEA;AACD,KA/FD,MA+FO;AACL,UAAMuC,2BAA2BtK,GAAGpB,OAAH,CAAWvC,OAAX,GAAqB,CAArB,GAAyB,CAA1D;AACA,UAAMkO,yBAAyB,CAA/B;;AAEA,UAAMC,YAAY5I,KAAK0H,GAAL,CAASH,mBAAmBnJ,GAAGuJ,kBAA/B,CAAlB;AACA,UAAMkB,YAAY7I,KAAK0H,GAAL,CAASF,kBAAkBpJ,GAAGwJ,iBAA9B,CAAlB;;AAEAxJ,SAAG2J,eAAH,GAAqB3J,GAAGpB,OAAH,CAAW5C,UAAX,IAAyBwO,aAAaF,wBAA3D;AACAtK,SAAG4J,eAAH,GAAqB5J,GAAGpB,OAAH,CAAW3C,UAAX,IAAyBwO,aAAaH,wBAA3D;;AAEAT,gBAAUrH,IAAV,CAAexC,GAAGiG,YAAlB,EAAgCjG,GAAGkG,WAAnC,EAAgD1F,SAAhD;;AAEAR,SAAGgF,YAAH,GACE,CAAChF,GAAG2J,eAAH,IAAsB3J,GAAG4J,eAA1B,MACCY,aAAaD,sBAAb,IAAuCE,aAAaF,sBADrD,CADF;AAGA,UAAIvK,GAAGgF,YAAP,EAAqB;AACnBhF,WAAGkJ,sBAAH,GAA4B,KAA5B;AACD;AACF;;AAED;AACAlJ,OAAGwG,eAAH,GAAqB2C,gBAArB;AACAnJ,OAAGyG,cAAH,GAAoB2C,eAApB;AACApJ,OAAG0G,eAAH,GAAqBlG,SAArB;AACAR,OAAG0J,WAAH,GAAiB/I,KAAjB;AACD,GA5sBa;;AA8sBd;;;AAGAC,cAAY,oBAASJ,SAAT,EAAoB;AAC9B,QAAIA,qBAAqBwI,IAAzB,EAA+B;AAC7BxI,kBAAYA,UAAUyI,OAAV,EAAZ;AACD;AACD,QAAI,OAAOzI,SAAP,KAAqB,QAAzB,EAAmC;AACjC,YAAM,IAAI2H,KAAJ,+BAAsC3H,SAAtC,CAAN;AACD;;AAED,QAAMR,KAAK,IAAX;;AAEA;AACA;AACA,QAAI,CAACA,GAAG6E,YAAR,EAAsB;AACpB;AACD;;AAED;AACA7E,OAAG6E,YAAH,GAAkB,KAAlB;;AAEA;AACA;AACA,QAAI7E,GAAGgF,YAAP,EAAqB;AACnB;AACAhF,SAAGgF,YAAH,GAAkB,KAAlB;;AAEA;AACA;AACA,UAAIhF,GAAG4E,eAAH,IAAsB5E,GAAGpB,OAAH,CAAW1C,SAAjC,IAA8CsE,YAAYR,GAAG0G,eAAf,IAAkC,GAApF,EAAyF;AACvF;AACA,YAAMmD,YAAY7J,GAAG2G,WAArB;AACA,YAAM+D,SAASb,UAAUhH,MAAV,GAAmB,CAAlC;AACA,YAAI8H,WAAWD,MAAf;;AAEA;AACA,aAAK,IAAI/H,IAAI+H,MAAb,EAAqB/H,IAAI,CAAJ,IAASkH,UAAUlH,CAAV,IAAe3C,GAAG0G,eAAH,GAAqB,GAAlE,EAAuE/D,KAAK,CAA5E,EAA+E;AAC7EgI,qBAAWhI,CAAX;AACD;;AAED;AACA;AACA,YAAIgI,aAAaD,MAAjB,EAAyB;AACvB;AACA,cAAME,aAAaf,UAAUa,MAAV,IAAoBb,UAAUc,QAAV,CAAvC;AACA,cAAME,YAAY7K,GAAGiG,YAAH,GAAkB4D,UAAUc,WAAW,CAArB,CAApC;AACA,cAAMG,WAAW9K,GAAGkG,WAAH,GAAiB2D,UAAUc,WAAW,CAArB,CAAlC;;AAEA;AACA3K,aAAGgH,uBAAH,GAA6B6D,YAAYD,UAAZ,IAA0B,OAAO,EAAjC,CAA7B;AACA5K,aAAGiH,uBAAH,GAA6B6D,WAAWF,UAAX,IAAyB,OAAO,EAAhC,CAA7B;;AAEA;AACA,cAAMG,iCAAiC/K,GAAGpB,OAAH,CAAWtC,MAAX,IAAqB0D,GAAGpB,OAAH,CAAWrC,QAAhC,GAA2C,CAA3C,GAA+C,CAAtF;;AAEA;AACA,cACEqF,KAAK0H,GAAL,CAAStJ,GAAGgH,uBAAZ,IAAuC+D,8BAAvC,IACAnJ,KAAK0H,GAAL,CAAStJ,GAAGiH,uBAAZ,IAAuC8D,8BAFzC,EAGE;AACA;AACA,gBAAI,CAAC/K,GAAG4F,eAAR,EAAyB;AACvB5F,iBAAGgL,mBAAH,CAAuBxK,SAAvB;AACD;AACF,WARD,MAQO;AACLR,eAAGpB,OAAH,CAAWU,iBAAX;AACD;AACF,SAzBD,MAyBO;AACLU,aAAGpB,OAAH,CAAWU,iBAAX;AACD;AACF,OAzCD,MAyCO,IAAIkB,YAAYR,GAAG0G,eAAf,GAAiC,GAArC,EAA0C;AAC/C1G,WAAGpB,OAAH,CAAWU,iBAAX;AACD;AACF;;AAED;AACA;AACA;AACA;AACA;AACA,QAAI,CAACU,GAAGiF,gBAAR,EAA0B;AACxB,UAAIjF,GAAG4F,eAAH,IAAsB5F,GAAG+F,cAA7B,EAA6C;AAC3C;AACA;AACA/F,WAAG2H,SAAH,CAAa3H,GAAGiG,YAAhB,EAA8B,CAACjG,GAAG2F,eAAlC,EAAmD3F,GAAGgG,WAAtD,EAAmE,IAAnE;;AAEA,YAAIhG,GAAG+F,cAAP,EAAuB;AACrB/F,aAAG+F,cAAH;AACD;AACF,OARD,MAQO;AACL,YAAI/F,GAAGkJ,sBAAH,IAA6BlJ,GAAGgF,YAApC,EAAkD;AAChDhF,aAAGpB,OAAH,CAAWU,iBAAX;AACD;AACDU,WAAGmH,QAAH,CAAYnH,GAAGiG,YAAf,EAA6BjG,GAAGkG,WAAhC,EAA6C,IAA7C,EAAmDlG,GAAGgG,WAAtD;;AAEA;AACA,YAAIhG,GAAG4F,eAAP,EAAwB;AACtB5F,aAAG4F,eAAH,GAAqB,KAArB;AACA,cAAI5F,GAAG8F,mBAAP,EAA4B;AAC1B9F,eAAG8F,mBAAH;AACD;AACF;AACF;AACF;;AAED;AACA9F,OAAG2G,WAAH,CAAe9D,MAAf,GAAwB,CAAxB;AACD,GA1zBa;;AA4zBd;;;;;;AAMA;;;;;;;AAOA8E,aAAW,mBAASrJ,IAAT,EAAeC,GAAf,EAAoBC,IAApB,EAA0BwJ,OAA1B,EAAmC;AAC5C,QAAMhI,KAAK,IAAX;;AAEA;AACA,QAAMiL,eAAejL,GAAGkF,aAAxB;AACA,QAAI+F,YAAJ,EAAkB;AAChB,wBAAQ5C,IAAR,CAAa4C,YAAb;AACAjL,SAAGkF,aAAH,GAAmB,KAAnB;AACD;;AAED,QAAI8C,WAAWhI,GAAGpB,OAAH,CAAW1C,SAA1B,EAAqC;AACnC;AACA8D,SAAGqG,eAAH,GAAqB/H,IAArB;AACA0B,SAAGsG,cAAH,GAAoB/H,GAApB;AACAyB,SAAGuG,eAAH,GAAqB/H,IAArB;;AAEA,UAAM0M,UAAUlL,GAAGiG,YAAnB;AACA,UAAMkF,SAASnL,GAAGkG,WAAlB;AACA,UAAMkF,UAAUpL,GAAGgG,WAAnB;;AAEA,UAAMqF,WAAW/M,OAAO4M,OAAxB;AACA,UAAMI,UAAU/M,MAAM4M,MAAtB;AACA,UAAMI,WAAW/M,OAAO4M,OAAxB;;AAEA,UAAMI,OAAO,SAAPA,IAAO,CAASC,OAAT,EAAkBC,GAAlB,EAAuBC,MAAvB,EAA+B;AAC1C,YAAIA,MAAJ,EAAY;AACV3L,aAAGiG,YAAH,GAAkBiF,UAAUG,WAAWI,OAAvC;AACAzL,aAAGkG,WAAH,GAAiBiF,SAASG,UAAUG,OAApC;AACAzL,aAAGgG,WAAH,GAAiBoF,UAAUG,WAAWE,OAAtC;;AAEA;AACA,cAAIzL,GAAGiE,UAAP,EAAmB;AACjBjE,eAAGiE,UAAH,CAAcjE,GAAGiG,YAAjB,EAA+BjG,GAAGkG,WAAlC,EAA+ClG,GAAGgG,WAAlD;AACD;AACF;AACF,OAXD;;AAaA,UAAM4F,SAAS,SAATA,MAAS,CAASC,EAAT,EAAa;AAC1B,eAAO7L,GAAGkF,aAAH,KAAqB2G,EAA5B;AACD,OAFD;;AAIA,UAAMC,YAAY,SAAZA,SAAY,CAASC,uBAAT,EAAkCC,WAAlC,EAA+CC,WAA/C,EAA4D;AAC5E,YAAID,gBAAgBhM,GAAGkF,aAAvB,EAAsC;AACpClF,aAAGkF,aAAH,GAAmB,KAAnB;AACD;AACD,YAAIlF,GAAG8E,yBAAH,IAAgCmH,WAApC,EAAiD;AAC/CjM,aAAGpB,OAAH,CAAWU,iBAAX;AACD;;AAED,YAAIU,GAAGpB,OAAH,CAAWpC,OAAf,EAAwB;AACtBwD,aAAGkH,kBAAH;AACA,cAAIlH,GAAGoI,cAAP,EAAuB;AACrBpI,eAAGoI,cAAH;AACApI,eAAGoI,cAAH,GAAoB,IAApB;AACD;AACF;AACF,OAfD;;AAiBA;AACApI,SAAGkF,aAAH,GAAmB,kBAAQgH,KAAR,CACjBV,IADiB,EAEjBI,MAFiB,EAGjBE,SAHiB,EAIjB9L,GAAGpB,OAAH,CAAWzC,iBAJM,EAKjB8O,eAAe1G,YAAf,GAA8BG,cALb,CAAnB;AAOD,KAxDD,MAwDO;AACL1E,SAAGqG,eAAH,GAAqBrG,GAAGiG,YAAH,GAAkB3H,IAAvC;AACA0B,SAAGsG,cAAH,GAAoBtG,GAAGkG,WAAH,GAAiB3H,GAArC;AACAyB,SAAGuG,eAAH,GAAqBvG,GAAGgG,WAAH,GAAiBxH,IAAtC;;AAEA;AACA,UAAIwB,GAAGiE,UAAP,EAAmB;AACjBjE,WAAGiE,UAAH,CAAc3F,IAAd,EAAoBC,GAApB,EAAyBC,IAAzB;AACD;;AAED;AACA,UAAIwB,GAAGpB,OAAH,CAAWpC,OAAf,EAAwB;AACtBwD,WAAGkH,kBAAH;AACA,YAAIlH,GAAGoI,cAAP,EAAuB;AACrBpI,aAAGoI,cAAH;AACApI,aAAGoI,cAAH,GAAoB,IAApB;AACD;AACF;AACF;AACF,GA95Ba;;AAg6Bd;;;AAGAlB,sBAAoB,4BAASiF,SAAT,EAAoB;AACtC,QAAMnM,KAAK,IAAX;;AAEA,QAAImM,aAAa,IAAjB,EAAuB;AACrBA,kBAAYnM,GAAGgG,WAAf;AACD;;AAEDhG,OAAGmG,eAAH,GAAqBvE,KAAK2G,GAAL,CAASvI,GAAGuF,cAAH,GAAoB4G,SAApB,GAAgCnM,GAAGqF,aAA5C,EAA2D,CAA3D,CAArB;AACArF,OAAGoG,cAAH,GAAoBxE,KAAK2G,GAAL,CAASvI,GAAGwF,eAAH,GAAqB2G,SAArB,GAAiCnM,GAAGsF,cAA7C,EAA6D,CAA7D,CAApB;AACD,GA56Ba;;AA86Bd;;;;;;AAMA;;;;AAIA0F,uBAAqB,6BAASxK,SAAT,EAAoB;AACvC,QAAMR,KAAK,IAAX;;AAEA,QAAIA,GAAGpB,OAAH,CAAWtC,MAAf,EAAuB;AACrB,UAAM0N,aAAapI,KAAK2G,GAAL,CAAS3G,KAAK4G,GAAL,CAASxI,GAAGiG,YAAZ,EAA0BjG,GAAGmG,eAA7B,CAAT,EAAwD,CAAxD,CAAnB;AACA,UAAM8D,YAAYrI,KAAK2G,GAAL,CAAS3G,KAAK4G,GAAL,CAASxI,GAAGkG,WAAZ,EAAyBlG,GAAGoG,cAA5B,CAAT,EAAsD,CAAtD,CAAlB;AACA,UAAMzG,cAAcK,GAAGqF,aAAvB;AACA,UAAMzF,eAAeI,GAAGsF,cAAxB;;AAEA;AACA;AACAtF,SAAG4G,2BAAH,GAAiChF,KAAKwK,KAAL,CAAWpC,aAAarK,WAAxB,IAAuCA,WAAxE;AACAK,SAAG6G,0BAAH,GAAgCjF,KAAKwK,KAAL,CAAWnC,YAAYrK,YAAvB,IAAuCA,YAAvE;AACAI,SAAG8G,2BAAH,GAAiClF,KAAKyK,IAAL,CAAUrC,aAAarK,WAAvB,IAAsCA,WAAvE;AACAK,SAAG+G,0BAAH,GAAgCnF,KAAKyK,IAAL,CAAUpC,YAAYrK,YAAtB,IAAsCA,YAAtE;AACD,KAZD,MAYO;AACLI,SAAG4G,2BAAH,GAAiC,CAAjC;AACA5G,SAAG6G,0BAAH,GAAgC,CAAhC;AACA7G,SAAG8G,2BAAH,GAAiC9G,GAAGmG,eAApC;AACAnG,SAAG+G,0BAAH,GAAgC/G,GAAGoG,cAAnC;AACD;;AAED;AACA,QAAMoF,OAAO,SAAPA,IAAO,CAASC,OAAT,EAAkBC,GAAlB,EAAuBC,MAAvB,EAA+B;AAC1C3L,SAAGsM,yBAAH,CAA6BX,MAA7B;AACD,KAFD;;AAIA;AACA,QAAMY,gCAAgCvM,GAAGpB,OAAH,CAAWrC,QAAX,GAAsB,CAAtB,GAA0B,KAAhE;;AAEA;AACA;AACA,QAAMqP,SAAS,SAATA,MAAS,GAAW;AACxB,UAAMY,iBACJ5K,KAAK0H,GAAL,CAAStJ,GAAGgH,uBAAZ,KAAwCuF,6BAAxC,IACA3K,KAAK0H,GAAL,CAAStJ,GAAGiH,uBAAZ,KAAwCsF,6BAF1C;AAGA,UAAI,CAACC,cAAL,EAAqB;AACnBxM,WAAG8E,yBAAH,GAA+B,IAA/B;AACD;AACD,aAAO0H,cAAP;AACD,KARD;;AAUA,QAAMV,YAAY,SAAZA,SAAY,CAASC,uBAAT,EAAkCC,WAAlC,EAA+CC,WAA/C,EAA4D;AAC5EjM,SAAGiF,gBAAH,GAAsB,KAAtB;AACA,UAAIjF,GAAG8E,yBAAP,EAAkC;AAChC9E,WAAGpB,OAAH,CAAWU,iBAAX;AACD;;AAED;AACAU,SAAGmH,QAAH,CAAYnH,GAAGiG,YAAf,EAA6BjG,GAAGkG,WAAhC,EAA6ClG,GAAGpB,OAAH,CAAWrC,QAAxD;AACD,KARD;;AAUA;AACAyD,OAAGiF,gBAAH,GAAsB,kBAAQiH,KAAR,CAAcV,IAAd,EAAoBI,MAApB,EAA4BE,SAA5B,CAAtB;AACD,GA9+Ba;;AAg/Bd;;;;;AAKAQ,6BAA2B,mCAASX,MAAT,EAAiB;AAC1C,QAAM3L,KAAK,IAAX;;AAEA;AACA;AACA;;AAEA;AACA,QAAIgK,aAAahK,GAAGiG,YAAH,GAAkBjG,GAAGgH,uBAAtC;AACA,QAAIiD,YAAYjK,GAAGkG,WAAH,GAAiBlG,GAAGiH,uBAApC;;AAEA;AACA;AACA;;AAEA,QAAI,CAACjH,GAAGpB,OAAH,CAAWxC,QAAhB,EAA0B;AACxB,UAAMqQ,kBAAkB7K,KAAK2G,GAAL,CACtB3G,KAAK4G,GAAL,CAASxI,GAAG8G,2BAAZ,EAAyCkD,UAAzC,CADsB,EAEtBhK,GAAG4G,2BAFmB,CAAxB;AAIA,UAAI6F,oBAAoBzC,UAAxB,EAAoC;AAClCA,qBAAayC,eAAb;AACAzM,WAAGgH,uBAAH,GAA6B,CAA7B;AACD;;AAED,UAAM0F,iBAAiB9K,KAAK2G,GAAL,CACrB3G,KAAK4G,GAAL,CAASxI,GAAG+G,0BAAZ,EAAwCkD,SAAxC,CADqB,EAErBjK,GAAG6G,0BAFkB,CAAvB;AAIA,UAAI6F,mBAAmBzC,SAAvB,EAAkC;AAChCA,oBAAYyC,cAAZ;AACA1M,WAAGiH,uBAAH,GAA6B,CAA7B;AACD;AACF;;AAED;AACA;AACA;;AAEA,QAAI0E,MAAJ,EAAY;AACV3L,SAAG2H,SAAH,CAAaqC,UAAb,EAAyBC,SAAzB,EAAoCjK,GAAGgG,WAAvC;AACD,KAFD,MAEO;AACLhG,SAAGiG,YAAH,GAAkB+D,UAAlB;AACAhK,SAAGkG,WAAH,GAAiB+D,SAAjB;AACD;;AAED;AACA;AACA;;AAEA;AACA,QAAI,CAACjK,GAAGpB,OAAH,CAAWtC,MAAhB,EAAwB;AACtB;AACA;AACA;AACA,UAAMqQ,iBAAiB,IAAvB;;AAEA3M,SAAGgH,uBAAH,IAA8B2F,cAA9B;AACA3M,SAAGiH,uBAAH,IAA8B0F,cAA9B;AACD;;AAED;AACA;AACA;;AAEA,QAAI3M,GAAGpB,OAAH,CAAWxC,QAAf,EAAyB;AACvB,UAAIwQ,iBAAiB,CAArB;AACA,UAAIC,iBAAiB,CAArB;;AAEA;AAJuB,wBAKsC7M,GAAGpB,OALzC;AAAA,UAKfuF,uBALe,eAKfA,uBALe;AAAA,UAKUC,uBALV,eAKUA,uBALV;;AAOvB;;AACA,UAAI4F,aAAahK,GAAG4G,2BAApB,EAAiD;AAC/CgG,yBAAiB5M,GAAG4G,2BAAH,GAAiCoD,UAAlD;AACD,OAFD,MAEO,IAAIA,aAAahK,GAAG8G,2BAApB,EAAiD;AACtD8F,yBAAiB5M,GAAG8G,2BAAH,GAAiCkD,UAAlD;AACD;;AAED,UAAIC,YAAYjK,GAAG6G,0BAAnB,EAA+C;AAC7CgG,yBAAiB7M,GAAG6G,0BAAH,GAAgCoD,SAAjD;AACD,OAFD,MAEO,IAAIA,YAAYjK,GAAG+G,0BAAnB,EAA+C;AACpD8F,yBAAiB7M,GAAG+G,0BAAH,GAAgCkD,SAAjD;AACD;;AAED;AACA,UAAI2C,mBAAmB,CAAvB,EAA0B;AACxB,YAAIA,iBAAiB5M,GAAGgH,uBAApB,IAA+C,CAAnD,EAAsD;AACpDhH,aAAGgH,uBAAH,IAA8B4F,iBAAiBzI,uBAA/C;AACD,SAFD,MAEO;AACLnE,aAAGgH,uBAAH,GAA6B4F,iBAAiBxI,uBAA9C;AACD;AACF;;AAED,UAAIyI,mBAAmB,CAAvB,EAA0B;AACxB,YAAIA,iBAAiB7M,GAAGiH,uBAApB,IAA+C,CAAnD,EAAsD;AACpDjH,aAAGiH,uBAAH,IAA8B4F,iBAAiB1I,uBAA/C;AACD,SAFD,MAEO;AACLnE,aAAGiH,uBAAH,GAA6B4F,iBAAiBzI,uBAA9C;AACD;AACF;AACF;AACF;AA3lCa,CAAhB;;AA8lCA;AACA,KAAK,IAAMC,GAAX,IAAkBM,OAAlB,EAA2B;AACzB,MAAItH,OAAOC,SAAP,CAAiBgH,cAAjB,CAAgC9G,IAAhC,CAAqCmH,OAArC,EAA8CN,GAA9C,CAAJ,EAAwD;AACtDN,aAASzG,SAAT,CAAmB+G,GAAnB,IAA0BM,QAAQN,GAAR,CAA1B;AACD;AACF;kBACcN,Q;;;;;;;;;AC3rCf;;;;;AACA,IAAM+I,OACJ9D,KAAK0C,GAAL,IACA,YAAW;AACT,SAAO,CAAC,IAAI1C,IAAJ,EAAR;AACD,CAJH;AAKA,IAAM+D,gBAAgB,EAAtB;AACA,IAAMC,wBAAwB,IAA9B;AACA,IAAIC,UAAU,EAAd;AACA,IAAIC,UAAU,CAAd;;AAEA,IAAMC,UAAU;AACd;;;;;;AAMAC,yBAAwB,YAAW;AACjC;AACA,QAAMC,eACJlQ,OAAOiQ,qBAAP,IACAjQ,OAAOmQ,2BADP,IAEAnQ,OAAOoQ,wBAFP,IAGApQ,OAAOqQ,sBAJT;AAKA,QAAIC,WAAW,CAAC,CAACJ,YAAjB;;AAEA,QAAIA,gBAAgB,CAAC,yDAAyDK,IAAzD,CAA8DL,aAAa9P,QAAb,EAA9D,CAArB,EAA6G;AAC3GkQ,iBAAW,KAAX;AACD;;AAED,QAAIA,QAAJ,EAAc;AACZ,aAAO,UAASzJ,QAAT,EAAmB2J,IAAnB,EAAyB;AAC9BN,qBAAarJ,QAAb,EAAuB2J,IAAvB;AACD,OAFD;AAGD;;AAED,QAAMC,aAAa,EAAnB;AACA,QAAIC,WAAW,EAAf;AACA,QAAIC,eAAe,CAAnB;AACA,QAAIC,YAAY,CAAhB;AACA,QAAIC,iBAAiB,IAArB;AACA,QAAIC,aAAa,CAAC,IAAIjF,IAAJ,EAAlB;;AAEA,WAAO,UAAShF,QAAT,EAAmB2J,IAAnB,EAAyB;AAC9B,UAAMO,iBAAiBH,WAAvB;;AAEA;AACAF,eAASK,cAAT,IAA2BlK,QAA3B;AACA8J;;AAEA;AACA,UAAIE,mBAAmB,IAAvB,EAA6B;AAC3BA,yBAAiBG,YAAY,YAAM;AACjC,cAAMzC,MAAM,CAAC,IAAI1C,IAAJ,EAAb;AACA,cAAMoF,kBAAkBP,QAAxB;;AAEA;AACAA,qBAAW,EAAX;AACAC,yBAAe,CAAf;;AAEA,eAAK,IAAMzJ,GAAX,IAAkB+J,eAAlB,EAAmC;AACjC,gBAAI/Q,OAAOC,SAAP,CAAiBgH,cAAjB,CAAgC9G,IAAhC,CAAqC4Q,eAArC,EAAsD/J,GAAtD,CAAJ,EAAgE;AAC9D+J,8BAAgB/J,GAAhB,EAAqBqH,GAArB;AACAuC,2BAAavC,GAAb;AACD;AACF;;AAED;AACA;AACA,cAAIA,MAAMuC,UAAN,GAAmB,IAAvB,EAA6B;AAC3BI,0BAAcL,cAAd;AACAA,6BAAiB,IAAjB;AACD;AACF,SArBgB,EAqBd,OAAOJ,UArBO,CAAjB;AAsBD;;AAED,aAAOM,cAAP;AACD,KAlCD;AAmCD,GA7DsB,EAPT;;AAsEd;;;;;;AAMA7F,QAAM,cAASwD,EAAT,EAAa;AACjB,QAAMyC,UAAUrB,QAAQpB,EAAR,KAAe,IAA/B;AACA,QAAIyC,OAAJ,EAAa;AACXrB,cAAQpB,EAAR,IAAc,IAAd;AACD;;AAED,WAAOyC,OAAP;AACD,GAnFa;;AAqFd;;;;;;AAMAC,aAAW,mBAAS1C,EAAT,EAAa;AACtB,WAAOoB,QAAQpB,EAAR,KAAe,IAAtB;AACD,GA7Fa;;AA+Fd;;;;;;;;;;;;;;;;AAgBAK,SAAO,eAASsC,YAAT,EAAuBC,cAAvB,EAAuCC,iBAAvC,EAA0DC,QAA1D,EAAoEC,YAApE,EAAkFjB,IAAlF,EAAwF;AAC7F,QAAMzB,QAAQY,MAAd;AACA,QAAI+B,YAAY3C,KAAhB;AACA,QAAIT,UAAU,CAAd;AACA,QAAIqD,cAAc,CAAlB;AACA,QAAMjD,KAAKqB,SAAX;;AAEA,QAAI,CAACS,IAAL,EAAW;AACTA,aAAO5Q,SAASgS,IAAhB;AACD;;AAED;AACA,QAAIlD,KAAK,EAAL,KAAY,CAAhB,EAAmB;AACjB,UAAMmD,aAAa,EAAnB;AACA,WAAK,IAAMC,MAAX,IAAqBhC,OAArB,EAA8B;AAC5B,YAAI5P,OAAOC,SAAP,CAAiBgH,cAAjB,CAAgC9G,IAAhC,CAAqCyP,OAArC,EAA8CgC,MAA9C,CAAJ,EAA2D;AACzDD,qBAAWC,MAAX,IAAqB,IAArB;AACD;AACF;AACDhC,gBAAU+B,UAAV;AACD;;AAED;AACA,QAAMxD,OAAO,SAAPA,IAAO,CAAS0D,OAAT,EAAkB;AAC7B;AACA,UAAMvD,SAASuD,YAAY,IAA3B;;AAEA;AACA,UAAMxD,MAAMoB,MAAZ;;AAEA;AACA,UAAI,CAACG,QAAQpB,EAAR,CAAD,IAAiB4C,kBAAkB,CAACA,eAAe5C,EAAf,CAAxC,EAA6D;AAC3DoB,gBAAQpB,EAAR,IAAc,IAAd;AACA6C,6BACEA,kBAAkB3B,gBAAgB+B,eAAe,CAACpD,MAAMQ,KAAP,IAAgBc,qBAA/B,CAAlC,EAAyFnB,EAAzF,EAA6F,KAA7F,CADF;AAEA;AACD;;AAED;AACA;AACA,UAAIF,MAAJ,EAAY;AACV,YAAMwD,gBAAgBvN,KAAK+G,KAAL,CAAW,CAAC+C,MAAMmD,SAAP,KAAqB7B,wBAAwBD,aAA7C,CAAX,IAA0E,CAAhG;AACA,aAAK,IAAIqC,IAAI,CAAb,EAAgBA,IAAIxN,KAAK4G,GAAL,CAAS2G,aAAT,EAAwB,CAAxB,CAApB,EAAgDC,GAAhD,EAAqD;AACnD5D,eAAK,IAAL;AACAsD;AACD;AACF;;AAED;AACA,UAAIH,QAAJ,EAAc;AACZlD,kBAAU,CAACC,MAAMQ,KAAP,IAAgByC,QAA1B;AACA,YAAIlD,UAAU,CAAd,EAAiB;AACfA,oBAAU,CAAV;AACD;AACF;;AAED;AACA,UAAM4D,QAAQT,eAAeA,aAAanD,OAAb,CAAf,GAAuCA,OAArD;AACA,UAAI,CAAC+C,aAAaa,KAAb,EAAoB3D,GAApB,EAAyBC,MAAzB,MAAqC,KAArC,IAA8CF,YAAY,CAA3D,KAAiEE,MAArE,EAA6E;AAC3EsB,gBAAQpB,EAAR,IAAc,IAAd;AACA6C,6BACEA,kBACE3B,gBAAgB+B,eAAe,CAACpD,MAAMQ,KAAP,IAAgBc,qBAA/B,CADlB,EAEEnB,EAFF,EAGEJ,YAAY,CAAZ,IAAiBkD,YAAY,IAH/B,CADF;AAMD,OARD,MAQO,IAAIhD,MAAJ,EAAY;AACjBkD,oBAAYnD,GAAZ;AACAyB,gBAAQC,qBAAR,CAA8B5B,IAA9B,EAAoCmC,IAApC;AACD;AACF,KA/CD;;AAiDA;AACAV,YAAQpB,EAAR,IAAc,IAAd;;AAEA;AACAsB,YAAQC,qBAAR,CAA8B5B,IAA9B,EAAoCmC,IAApC;;AAEA;AACA,WAAO9B,EAAP;AACD;AA/La,CAAhB;kBAiMesB,O;;;;;;;;;;;;;;AC5Mf,IAAMmC,OAAO;AACXC,SAAO,eAASnP,MAAT,EAA0B;AAAA,sCAAN6C,IAAM;AAANA,UAAM;AAAA;;AAC/B,SAAK,IAAIN,IAAI,CAAR,EAAWyM,IAAInM,KAAKJ,MAAzB,EAAiCF,IAAIyM,CAArC,EAAwCzM,GAAxC,EAA6C;AAC3C,UAAM6M,SAASvM,KAAKN,CAAL,KAAW,EAA1B;AACA,WAAK,IAAM8M,IAAX,IAAmBD,MAAnB,EAA2B;AACzB,YAAInS,OAAOC,SAAP,CAAiBgH,cAAjB,CAAgC9G,IAAhC,CAAqCgS,MAArC,EAA6CC,IAA7C,CAAJ,EAAwD;AACtD,cAAMJ,QAAQG,OAAOC,IAAP,CAAd;AACA,cAAIJ,UAAUK,SAAd,EAAyB;AACvBtP,mBAAOqP,IAAP,IAAeJ,KAAf;AACD;AACF;AACF;AACF;AACD,WAAOjP,MAAP;AACD,GAdU;AAeXuP,YAAU,kBAASC,EAAT,EAAaC,GAAb,EAAkB;AAC1B,QAAI,CAACD,EAAD,IAAO,CAACC,GAAZ,EAAiB;AACf,aAAO,KAAP;AACD;AACD,QAAIA,IAAIC,OAAJ,CAAY,GAAZ,MAAqB,CAAC,CAA1B,EAA6B;AAC3B,YAAM,IAAI3H,KAAJ,CAAU,qCAAV,CAAN;AACD;AACD,QAAIyH,GAAGG,SAAP,EAAkB;AAChB,aAAOH,GAAGG,SAAH,CAAaC,QAAb,CAAsBH,GAAtB,CAAP;AACD;AACD,WAAO,OAAID,GAAGK,SAAP,QAAoBH,OAApB,OAAgCD,GAAhC,UAA0C,CAAC,CAAlD;AACD,GA1BU;AA2BXK,YAAU,kBAASN,EAAT,EAAaC,GAAb,EAAkB;AAC1B,QAAI,CAACD,EAAL,EAAS;AACP;AACD;AACD,QAAIO,WAAWP,GAAGK,SAAlB;AACA,QAAMG,UAAU,CAACP,OAAO,EAAR,EAAYtM,KAAZ,CAAkB,GAAlB,CAAhB;AACA,SAAK,IAAIZ,IAAI,CAAR,EAAWyM,IAAIgB,QAAQvN,MAA5B,EAAoCF,IAAIyM,CAAxC,EAA2CzM,GAA3C,EAAgD;AAC9C,UAAM0N,UAAUD,QAAQzN,CAAR,CAAhB;AACA,UAAI,CAAC0N,OAAL,EAAc;AACZ;AACD;;AAED,UAAIT,GAAGG,SAAP,EAAkB;AAChBH,WAAGG,SAAH,CAAaO,GAAb,CAAiBD,OAAjB;AACD,OAFD,MAEO,IAAI,CAAC,KAAKV,QAAL,CAAcC,EAAd,EAAkBS,OAAlB,CAAL,EAAiC;AACtCF,0BAAgBE,OAAhB;AACD;AACF;AACD,QAAI,CAACT,GAAGG,SAAR,EAAmB;AACjBH,SAAGK,SAAH,GAAeE,QAAf;AACD;AACF,GAhDU;AAiDXI,eAAa,qBAASX,EAAT,EAAaC,GAAb,EAAkB;AAC7B,QAAI,CAACD,EAAD,IAAO,CAACC,GAAZ,EAAiB;AACf;AACD;AACD,QAAMO,UAAUP,IAAItM,KAAJ,CAAU,GAAV,CAAhB;AACA,QAAI4M,iBAAeP,GAAGK,SAAlB,MAAJ;;AAEA,SAAK,IAAItN,IAAI,CAAR,EAAWyM,IAAIgB,QAAQvN,MAA5B,EAAoCF,IAAIyM,CAAxC,EAA2CzM,GAA3C,EAAgD;AAC9C,UAAM0N,UAAUD,QAAQzN,CAAR,CAAhB;AACA,UAAI,CAAC0N,OAAL,EAAc;AACZ;AACD;;AAED,UAAIT,GAAGG,SAAP,EAAkB;AAChBH,WAAGG,SAAH,CAAaS,MAAb,CAAoBH,OAApB;AACD,OAFD,MAEO,IAAI,KAAKV,QAAL,CAAcC,EAAd,EAAkBS,OAAlB,CAAJ,EAAgC;AACrCF,mBAAWA,SAASM,OAAT,OAAqBJ,OAArB,QAAiC,GAAjC,CAAX;AACD;AACF;AACD,QAAI,CAACT,GAAGG,SAAR,EAAmB;AACjBH,SAAGK,SAAH,GAAeS,OAAOpT,SAAP,CAAiBqT,IAAjB,CAAsBnT,IAAtB,CAA2B2S,QAA3B,CAAf;AACD;AACF,GAvEU;AAwEXS,kBAAgBlB,SAxEL;AAyEXmB,qBAAmB,6BAAW;AAC5B,QAAI,KAAKD,cAAL,KAAwBlB,SAA5B,EAAuC;AACrC,aAAO,KAAKkB,cAAZ;AACD;;AAED,QAAME,QAAQ/T,SAASkB,aAAT,CAAuB,KAAvB,CAAd;AACA;AACA6S,UAAM7T,KAAN,CAAY8T,UAAZ,GAAyB,QAAzB;AACAD,UAAM7T,KAAN,CAAYoK,KAAZ,GAAoB,OAApB;AACAyJ,UAAM7T,KAAN,CAAY+T,QAAZ,GAAuB,UAAvB;AACAF,UAAM7T,KAAN,CAAYsB,GAAZ,GAAkB,SAAlB;AACAxB,aAASgS,IAAT,CAAckC,WAAd,CAA0BH,KAA1B;;AAEA,QAAMI,gBAAgBJ,MAAM3P,WAA5B;AACA2P,UAAM7T,KAAN,CAAYkU,QAAZ,GAAuB,QAAvB;;AAEA,QAAMC,QAAQrU,SAASkB,aAAT,CAAuB,KAAvB,CAAd;AACAmT,UAAMnU,KAAN,CAAYoK,KAAZ,GAAoB,MAApB;AACAyJ,UAAMG,WAAN,CAAkBG,KAAlB;;AAEA,QAAMC,kBAAkBD,MAAMjQ,WAA9B;AACA2P,UAAM9R,UAAN,CAAiBsS,WAAjB,CAA6BR,KAA7B;;AAEA,WAAOI,gBAAgBG,eAAvB;AACD,GAjGU;AAkGX1F,UAAQ,gBAAS4F,GAAT,EAAcC,IAAd,EAAoB;AAC1B,QAAMC,yCAAsCF,IACzCd,OADyC,CACjC,WADiC,EACpB,GADoB,EAEzClN,KAFyC,CAEnC,IAFmC,EAGzCmO,IAHyC,CAGpC,IAHoC,EAIzCjB,OAJyC,CAIjC,kBAJiC,EAIb,MAJa,EAKzCA,OALyC,CAKjC,aALiC,EAKlB,QALkB,EAMzClN,KANyC,CAMnC,IANmC,EAOzCmO,IAPyC,CAOpC,KAPoC,EAQzCnO,KARyC,CAQnC,IARmC,EASzCmO,IATyC,CASpC,UAToC,EAUzCnO,KAVyC,CAUnC,IAVmC,EAWzCmO,IAXyC,CAWpC,KAXoC,CAAtC,8BAAN;AAYA,WAAO,IAAIC,QAAJ,CAAaF,IAAb,EAAmBvO,KAAnB,CAAyBsO,IAAzB,CAAP;AACD;AAhHU,CAAb;kBAkHelC,I","file":"scroller.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"lmfe.ui\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"lmfe.ui\"] = factory();\n\telse\n\t\troot[\"lmfe.ui\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"DUT/\");\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2ae8df3fe98ca1847beb","'use strict';\nimport EventClass from '@components/eventclass';\nimport { merge } from '@common/util';\nimport Scroller from '@common/util/scroller';\nconst defaultOptions = {\n  // 是否支持横向滚动\n  scrollingX: false,\n  // 是否支持竖向滚动\n  scrollingY: true,\n  // 是否开启补间动画（减速，回弹，缩放和滚动动画）\n  animating: true,\n  // 动画时长\n  animationDuration: 250,\n  // 是否开启弹性（无弹性不下拉刷新）\n  bouncing: true,\n  // 是否锁定（如果用户在开始时只轻微移动其中一个，则启用锁定到主轴）\n  locking: true,\n  // 是否启用翻页模式类似于轮播图\n  paging: false,\n  // 是否捕捉用户可用的整数像素值\n  snapping: false,\n  // 是否开启缩放功能\n  zooming: false,\n  // 缩放最小值\n  minZoom: 0.5,\n  // 缩放最大值\n  maxZoom: 3,\n  // 启用下拉刷新\n  PullToRefresh: false,\n  // 下拉刷新高度（像素）\n  PullToRefreshHeight: 50\n};\n\nconst renderScroll = (function() {\n  const docStyle = document.documentElement.style;\n  let engine;\n  if (window.opera && Object.prototype.toString.call(window.opera) === '[object Opera]') {\n    engine = 'presto';\n  } else if ('MozAppearance' in docStyle) {\n    engine = 'gecko';\n  } else if ('WebkitAppearance' in docStyle) {\n    engine = 'webkit';\n  } else if (typeof navigator.cpuClass === 'string') {\n    engine = 'trident';\n  }\n  const vendorPrefix = (defaultOptions.vendorPrefix = {\n    trident: 'ms',\n    gecko: 'Moz',\n    webkit: 'Webkit',\n    presto: 'O'\n  }[engine]);\n  const helperElem = document.createElement('div');\n  let undef;\n  const perspectiveProperty = `${vendorPrefix}Perspective`;\n  const transformProperty = `${vendorPrefix}Transform`;\n  if (helperElem.style[perspectiveProperty] !== undef) {\n    return function(content, left, top, zoom) {\n      content.style[transformProperty] = `translate3d(${-left}px,${-top}px,0) scale(${zoom})`;\n    };\n  }\n  if (helperElem.style[transformProperty] !== undef) {\n    return function(content, left, top, zoom) {\n      content.style[transformProperty] = `translate(${-left}px,${-top}px) scale(${zoom})`;\n    };\n  }\n  return function(content, left, top, zoom) {\n    content.style.marginLeft = left ? `${-left / zoom}px` : '';\n    content.style.marginTop = top ? `${-top / zoom}px` : '';\n    content.style.zoom = zoom || '';\n  };\n})();\n\nexport default class EasyScroller extends EventClass {\n  constructor(content, options) {\n    super();\n    this._className = 'Scroller';\n    this._createEvent('onCreate onScroll onScrollOver onRefreshLess onRefresh onRefreshMore');\n    this.content = content;\n    // 默认会把父节点当成滚动的外部容器\n    this.container = content.parentNode;\n    this.options = merge({}, defaultOptions, options);\n    // create Scroller instance\n    this.initScroller();\n    // bind events\n    this.bindEvents();\n    // the content element needs a correct transform origin for zooming\n    this.content.style[`${defaultOptions.vendorPrefix}TransformOrigin`] = 'left top';\n    // reflow for the first time\n    this.reflow();\n    window.setTimeout(() => {\n      this.dispatch('onCreate');\n    }, 0);\n  }\n\n  initScroller() {\n    this.options.scrollingComplete = () => {\n      this.dispatch('onScrollOver');\n    };\n    this.scroller = new Scroller((left, top, zoom) => {\n      this.dispatch('onScroll', left, top, zoom);\n      this._render(left, top, zoom);\n    }, this.options);\n    if (this.options.PullToRefresh) {\n      this.scroller.activatePullToRefresh(\n        this.options.PullToRefreshHeight,\n        () => {\n          this.dispatch('onRefreshMore');\n        },\n        () => {\n          this.dispatch('onRefreshLess');\n        },\n        () => {\n          this.dispatch('onRefresh');\n        }\n      );\n    }\n  }\n\n  finishPullToRefresh() {\n    this.options.PullToRefresh && this.scroller.finishPullToRefresh();\n  }\n\n  setDimensions(clientWidth, clientHeight, contentWidth, contentHeight) {\n    this.scroller.setDimensions(clientWidth, clientHeight, contentWidth, contentHeight);\n  }\n\n  _render(left, top, zoom) {\n    renderScroll(this.content, left, top, zoom);\n  }\n\n  bindEvents() {\n    const me = this;\n    // reflow handling\n    window.addEventListener(\n      'resize',\n      () => {\n        me.reflow();\n      },\n      false\n    );\n    // touch devices bind touch events\n    if ('ontouchstart' in window) {\n      this.container.addEventListener(\n        'touchstart',\n        (e) => {\n          // Don't react if initial down happens on a form element\n          if (e.touches[0] && e.touches[0].target && e.touches[0].target.tagName.match(/input|textarea|select/i)) {\n            return;\n          }\n          // reflow since the container may have changed\n          me.reflow();\n          me.scroller.doTouchStart(e.touches, e.timeStamp);\n        },\n        false\n      );\n      this.container.addEventListener(\n        'touchmove',\n        (e) => {\n          e.preventDefault();\n          me.scroller.doTouchMove(e.touches, e.timeStamp, e.scale);\n        },\n        false\n      );\n      this.container.addEventListener(\n        'touchend',\n        (e) => {\n          me.scroller.doTouchEnd(e.timeStamp);\n        },\n        false\n      );\n      this.container.addEventListener(\n        'touchcancel',\n        (e) => {\n          me.scroller.doTouchEnd(e.timeStamp);\n        },\n        false\n      );\n      // non-touch bind mouse events\n    } else {\n      let mousedown = false;\n      this.container.addEventListener(\n        'mousedown',\n        (e) => {\n          if (e.target.tagName.match(/input|textarea|select/i)) {\n            return;\n          }\n          me.scroller.doTouchStart(\n            [\n              {\n                pageX: e.pageX,\n                pageY: e.pageY\n              }\n            ],\n            e.timeStamp\n          );\n          mousedown = true;\n          // reflow since the container may have changed\n          me.reflow();\n          e.preventDefault();\n        },\n        false\n      );\n      document.addEventListener(\n        'mousemove',\n        (e) => {\n          if (!mousedown) {\n            return;\n          }\n          me.scroller.doTouchMove(\n            [\n              {\n                pageX: e.pageX,\n                pageY: e.pageY\n              }\n            ],\n            e.timeStamp\n          );\n          mousedown = true;\n        },\n        false\n      );\n      document.addEventListener(\n        'mouseup',\n        (e) => {\n          if (!mousedown) {\n            return;\n          }\n          me.scroller.doTouchEnd(e.timeStamp);\n          mousedown = false;\n        },\n        false\n      );\n      this.container.addEventListener(\n        'mousewheel',\n        (e) => {\n          if (me.option.zooming) {\n            me.scroller.doMouseZoom(e.wheelDelta, e.timeStamp, e.pageX, e.pageY);\n            e.preventDefault();\n          }\n        },\n        false\n      );\n    }\n  }\n\n  reflow() {\n    // set the right scroller dimensions\n    this.scroller.setDimensions(\n      this.container.clientWidth,\n      this.container.clientHeight,\n      this.content.offsetWidth,\n      this.options.PullToRefresh ? this.content.offsetHeight - 50 : this.content.offsetHeight\n    );\n    // refresh the position for zooming purposes\n    const rect = this.container.getBoundingClientRect();\n    this.scroller.setPosition(rect.left + this.container.clientLeft, rect.top + this.container.clientTop);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/scroller/index.js","/**\n * @namespace\n * @name ClassManager\n */\nimport { merge } from '@common/util';\n\nconst ClassManager = function() {\n  let instanceId = 0 | (Math.random() * 998);\n  this.getNewInstanceId = function() {\n    return instanceId++;\n  };\n};\nconst classManager = new ClassManager();\nclass ClassBase {\n  constructor(options) {\n    merge(this, options);\n    this._className = 'ClassBase';\n    this._instanceId = classManager.getNewInstanceId();\n  }\n\n  className() {\n    return this._className;\n  }\n\n  instanceId() {\n    return this._instanceId;\n  }\n}\n\nexport default class EventClass extends ClassBase {\n  constructor(options) {\n    super(options);\n    this._className = 'EventClass';\n    this._handlers = {};\n    this._eventCache = {};\n  }\n\n  // 绑定监听一次\n  one(eventName, handler, context) {\n    if (!eventName || !handler) {\n      return this;\n    }\n    const { _handlers } = this;\n    if (!_handlers[eventName]) {\n      _handlers[eventName] = [];\n    }\n    _handlers[eventName].push({\n      context: context || this,\n      handler: handler,\n      one: true\n    });\n    return this;\n  }\n\n  // 绑定监听\n  bind(eventName, handler, context) {\n    if (!eventName || !handler) {\n      return this;\n    }\n    const { _handlers } = this;\n    if (!_handlers[eventName]) {\n      _handlers[eventName] = [];\n    }\n    _handlers[eventName].push({\n      context: context || this,\n      handler: handler,\n      one: false\n    });\n    return this;\n  }\n\n  // 接触绑定\n  unbind(eventName, handler) {\n    const { _handlers } = this;\n    if (!eventName) {\n      this._handlers = {};\n      return this;\n    }\n    if (handler) {\n      if (_handlers[eventName]) {\n        const newList = [];\n        for (let i = 0, l = _handlers[eventName].length; i < l; i++) {\n          if (_handlers[eventName][i]['handler'] !== handler) {\n            newList.push(_handlers[eventName][i]);\n          }\n        }\n        _handlers[eventName] = newList;\n      }\n      if (_handlers[eventName] && _handlers[eventName].length === 0) {\n        delete _handlers[eventName];\n      }\n    } else {\n      delete _handlers[eventName];\n    }\n    return this;\n  }\n\n  // 事件派发\n  dispatch(eventName, ...args) {\n    let falseNum = 0;\n    if (!eventName) {\n      return falseNum === 0;\n    }\n    const _handler = this._handlers[eventName];\n    if (_handler) {\n      // const args = Array.prototype.slice.call(arguments, 1);\n      let len = _handler.length;\n      for (let i = 0; i < len;) {\n        if (_handler[i]['handler'].apply(_handler[i]['context'], args) === false) {\n          falseNum++;\n        }\n        if (_handler[i]['one']) {\n          _handler.splice(i, 1);\n          len--;\n        } else {\n          i++;\n        }\n      }\n    }\n    return falseNum === 0;\n  }\n\n  // 指定上下文的事件派发\n  dispatchWithContext(eventName, context, ...args) {\n    let falseNum = 0;\n    if (!eventName) {\n      return falseNum === 0;\n    }\n    const _handler = this._handlers[eventName];\n    if (this._handler[eventName]) {\n      // const context = arguments[arguments.length - 1];\n      // const args = Array.prototype.slice.call(arguments, 1, arguments.length - 1);\n      let len = _handler.length;\n      for (let i = 0; i < len;) {\n        if (_handler[i]['handler'].apply(context, args) === false) {\n          falseNum++;\n        }\n        if (_handler[i]['one']) {\n          _handler.splice(i, 1);\n          len--;\n        } else {\n          i++;\n        }\n      }\n    }\n    return falseNum === 0;\n  }\n\n  // 动态添加自定义事件缓存\n  // eventNames 仅仅支持字符串类型数据，空格分割的函数名称，建议事件名都添加 on/before/after 等明显前缀\n  _createEvent(eventNames, ...args) {\n    if (typeof eventNames !== 'string') {\n      return;\n    }\n    const me = this;\n    const cache = me._eventCache;\n    const eventList = eventNames.split(' ');\n    const len = eventList.length;\n    for (let i = 0; i < len; i++) {\n      const eventName = eventList[i];\n      cache[eventName] = cache[eventName] || [];\n      me[eventName] = (function(ename) {\n        return function(fn) {\n          if (Object.prototype.toString.call(fn) === '[object Function]') {\n            me.bind(ename, fn);\n            return me;\n          }\n          return me.dispatch(...[ename].concat(Array.prototype.slice.call(args, 0)));\n        };\n      })(eventName);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/eventclass/index.js","'use strict';\nimport Animate from './animate';\nconst NOOP = () => {};\n\n/**\n * A pure logic 'component' for 'virtual' scrolling/zooming.\n */\nconst Scroller = function(callback, options) {\n  this.__callback = callback;\n\n  this.options = {\n    /** Enable scrolling on x-axis */\n    scrollingX: true,\n\n    /** Enable scrolling on y-axis */\n    scrollingY: true,\n\n    /** Enable animations for deceleration, snap back, zooming and scrolling */\n    animating: true,\n\n    /** duration for animations triggered by scrollTo/zoomTo */\n    animationDuration: 250,\n\n    /** Enable bouncing (content can be slowly moved outside and jumps back after releasing) */\n    bouncing: true,\n\n    /** Enable locking to the main axis if user moves only slightly on one of them at start */\n    locking: true,\n\n    /** Enable pagination mode (switching between full page content panes) */\n    paging: false,\n\n    /** Enable snapping of content to a configured pixel grid */\n    snapping: false,\n\n    /** Enable zooming of content via API, fingers and mouse wheel */\n    zooming: false,\n\n    /** Minimum zoom level */\n    minZoom: 0.5,\n\n    /** Maximum zoom level */\n    maxZoom: 3,\n\n    /** Multiply or decrease scrolling speed **/\n    speedMultiplier: 1,\n\n    /** Callback that is fired on the later of touch end or deceleration end,\n            provided that another scrolling action has not begun. Used to know\n            when to fade out a scrollbar. */\n    scrollingComplete: NOOP,\n\n    /** This configures the amount of change applied to deceleration when reaching boundaries  **/\n    penetrationDeceleration: 0.03,\n\n    /** This configures the amount of change applied to acceleration when reaching boundaries  **/\n    penetrationAcceleration: 0.08\n  };\n\n  for (const key in options) {\n    if (Object.prototype.hasOwnProperty.call(options, key)) {\n      this.options[key] = options[key];\n    }\n  }\n};\n\n// Easing Equations (c) 2003 Robert Penner, all rights reserved.\n// Open source under the BSD License.\n\n/**\n * @param pos {Number} position between 0 (start of effect) and 1 (end of effect)\n **/\nconst easeOutCubic = function(pos) {\n  return Math.pow(pos - 1, 3) + 1;\n};\n\n/**\n * @param pos {Number} position between 0 (start of effect) and 1 (end of effect)\n **/\nconst easeInOutCubic = function(pos) {\n  if ((pos /= 0.5) < 1) {\n    return 0.5 * Math.pow(pos, 3);\n  }\n\n  return 0.5 * (Math.pow(pos - 2, 3) + 2);\n};\n\nconst members = {\n  /*\n    ---------------------------------------------------------------------------\n        INTERNAL FIELDS :: STATUS\n    ---------------------------------------------------------------------------\n    */\n\n  /** {Boolean} Whether only a single finger is used in touch handling */\n  __isSingleTouch: false,\n\n  /** {Boolean} Whether a touch event sequence is in progress */\n  __isTracking: false,\n\n  /** {Boolean} Whether a deceleration animation went to completion. */\n  __didDecelerationComplete: false,\n\n  /**\n   * {Boolean} Whether a gesture zoom/rotate event is in progress. Activates when\n   * a gesturestart event happens. This has higher priority than dragging.\n   */\n  __isGesturing: false,\n\n  /**\n   * {Boolean} Whether the user has moved by such a distance that we have enabled\n   * dragging mode. Hint: It's only enabled after some pixels of movement to\n   * not interrupt with clicks etc.\n   */\n  __isDragging: false,\n\n  /**\n   * {Boolean} Not touching and dragging anymore, and smoothly animating the\n   * touch sequence using deceleration.\n   */\n  __isDecelerating: false,\n\n  /**\n   * {Boolean} Smoothly animating the currently configured change\n   */\n  __isAnimating: false,\n\n  /*\n    ---------------------------------------------------------------------------\n        INTERNAL FIELDS :: DIMENSIONS\n    ---------------------------------------------------------------------------\n    */\n\n  /** {Integer} Available outer left position (from document perspective) */\n  __clientLeft: 0,\n\n  /** {Integer} Available outer top position (from document perspective) */\n  __clientTop: 0,\n\n  /** {Integer} Available outer width */\n  __clientWidth: 0,\n\n  /** {Integer} Available outer height */\n  __clientHeight: 0,\n\n  /** {Integer} Outer width of content */\n  __contentWidth: 0,\n\n  /** {Integer} Outer height of content */\n  __contentHeight: 0,\n\n  /** {Integer} Snapping width for content */\n  __snapWidth: 100,\n\n  /** {Integer} Snapping height for content */\n  __snapHeight: 100,\n\n  /** {Integer} Height to assign to refresh area */\n  __refreshHeight: null,\n\n  /** {Boolean} Whether the refresh process is enabled when the event is released now */\n  __refreshActive: false,\n\n  /** {Function} Callback to execute on activation. This is for signalling the user about a refresh is about to happen when he release */\n  __refreshActivate: null,\n\n  /** {Function} Callback to execute on deactivation. This is for signalling the user about the refresh being cancelled */\n  __refreshDeactivate: null,\n\n  /** {Function} Callback to execute to start the actual refresh. Call {@link #refreshFinish} when done */\n  __refreshStart: null,\n\n  /** {Number} Zoom level */\n  __zoomLevel: 1,\n\n  /** {Number} Scroll position on x-axis */\n  __scrollLeft: 0,\n\n  /** {Number} Scroll position on y-axis */\n  __scrollTop: 0,\n\n  /** {Integer} Maximum allowed scroll position on x-axis */\n  __maxScrollLeft: 0,\n\n  /** {Integer} Maximum allowed scroll position on y-axis */\n  __maxScrollTop: 0,\n\n  /* {Number} Scheduled left position (final position when animating) */\n  __scheduledLeft: 0,\n\n  /* {Number} Scheduled top position (final position when animating) */\n  __scheduledTop: 0,\n\n  /* {Number} Scheduled zoom level (final scale when animating) */\n  __scheduledZoom: 0,\n\n  /*\n    ---------------------------------------------------------------------------\n        INTERNAL FIELDS :: LAST POSITIONS\n    ---------------------------------------------------------------------------\n    */\n\n  /** {Number} Left position of finger at start */\n  __lastTouchLeft: null,\n\n  /** {Number} Top position of finger at start */\n  __lastTouchTop: null,\n\n  /** {Date} Timestamp of last move of finger. Used to limit tracking range for deceleration speed. */\n  __lastTouchMove: null,\n\n  /** {Array} List of positions, uses three indexes for each state: left, top, timestamp */\n  __positions: null,\n\n  /*\n    ---------------------------------------------------------------------------\n        INTERNAL FIELDS :: DECELERATION SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n  /** {Integer} Minimum left scroll position during deceleration */\n  __minDecelerationScrollLeft: null,\n\n  /** {Integer} Minimum top scroll position during deceleration */\n  __minDecelerationScrollTop: null,\n\n  /** {Integer} Maximum left scroll position during deceleration */\n  __maxDecelerationScrollLeft: null,\n\n  /** {Integer} Maximum top scroll position during deceleration */\n  __maxDecelerationScrollTop: null,\n\n  /** {Number} Current factor to modify horizontal scroll position with on every step */\n  __decelerationVelocityX: null,\n\n  /** {Number} Current factor to modify vertical scroll position with on every step */\n  __decelerationVelocityY: null,\n\n  /*\n    ---------------------------------------------------------------------------\n        PUBLIC API\n    ---------------------------------------------------------------------------\n    */\n\n  /**\n   * Configures the dimensions of the client (outer) and content (inner) elements.\n   * Requires the available space for the outer element and the outer size of the inner element.\n   * All values which are falsy (null or zero etc.) are ignored and the old value is kept.\n   *\n   * @param clientWidth {Integer ? null} Inner width of outer element\n   * @param clientHeight {Integer ? null} Inner height of outer element\n   * @param contentWidth {Integer ? null} Outer width of inner element\n   * @param contentHeight {Integer ? null} Outer height of inner element\n   */\n  setDimensions: function(clientWidth, clientHeight, contentWidth, contentHeight) {\n    const me = this;\n\n    // Only update values which are defined\n    if (clientWidth === +clientWidth) {\n      me.__clientWidth = clientWidth;\n    }\n\n    if (clientHeight === +clientHeight) {\n      me.__clientHeight = clientHeight;\n    }\n\n    if (contentWidth === +contentWidth) {\n      me.__contentWidth = contentWidth;\n    }\n\n    if (contentHeight === +contentHeight) {\n      me.__contentHeight = contentHeight;\n    }\n\n    // Refresh maximums\n    me.__computeScrollMax();\n\n    // Refresh scroll position\n    me.scrollTo(me.__scrollLeft, me.__scrollTop, true);\n  },\n\n  /**\n   * Sets the client coordinates in relation to the document.\n   *\n   * @param left {Integer ? 0} Left position of outer element\n   * @param top {Integer ? 0} Top position of outer element\n   */\n  setPosition: function(left, top) {\n    const me = this;\n\n    me.__clientLeft = left || 0;\n    me.__clientTop = top || 0;\n  },\n\n  /**\n   * Configures the snapping (when snapping is active)\n   *\n   * @param width {Integer} Snapping width\n   * @param height {Integer} Snapping height\n   */\n  setSnapSize: function(width, height) {\n    const me = this;\n\n    me.__snapWidth = width;\n    me.__snapHeight = height;\n  },\n\n  /**\n   * Activates pull-to-refresh. A special zone on the top of the list to start a list refresh whenever\n   * the user event is released during visibility of this zone. This was introduced by some apps on iOS like\n   * the official Twitter client.\n   *\n   * @param height {Integer} Height of pull-to-refresh zone on top of rendered list\n   * @param activateCallback {Function} Callback to execute on activation. This is for signalling the user about a refresh is about to happen when he release.\n   * @param deactivateCallback {Function} Callback to execute on deactivation. This is for signalling the user about the refresh being cancelled.\n   * @param startCallback {Function} Callback to execute to start the real async refresh action. Call {@link #finishPullToRefresh} after finish of refresh.\n   */\n  activatePullToRefresh: function(height, activateCallback, deactivateCallback, startCallback) {\n    const me = this;\n\n    me.__refreshHeight = height;\n    me.__refreshActivate = activateCallback;\n    me.__refreshDeactivate = deactivateCallback;\n    me.__refreshStart = startCallback;\n  },\n\n  /**\n   * Starts pull-to-refresh manually.\n   */\n  triggerPullToRefresh: function() {\n    // Use publish instead of scrollTo to allow scrolling to out of boundary position\n    // We don't need to normalize scrollLeft, zoomLevel, etc. here because we only y-scrolling when pull-to-refresh is enabled\n    this.__publish(this.__scrollLeft, -this.__refreshHeight, this.__zoomLevel, true);\n\n    if (this.__refreshStart) {\n      this.__refreshStart();\n    }\n  },\n\n  /**\n   * Signalizes that pull-to-refresh is finished.\n   */\n  finishPullToRefresh: function() {\n    const me = this;\n\n    me.__refreshActive = false;\n    if (me.__refreshDeactivate) {\n      me.__refreshDeactivate();\n    }\n\n    me.scrollTo(me.__scrollLeft, me.__scrollTop, true);\n  },\n\n  /**\n   * Returns the scroll position and zooming values\n   *\n   * @return {Map} `left` and `top` scroll position and `zoom` level\n   */\n  getValues: function() {\n    const me = this;\n\n    return {\n      left: me.__scrollLeft,\n      top: me.__scrollTop,\n      zoom: me.__zoomLevel\n    };\n  },\n\n  /**\n   * Returns the maximum scroll values\n   *\n   * @return {Map} `left` and `top` maximum scroll values\n   */\n  getScrollMax: function() {\n    const me = this;\n\n    return {\n      left: me.__maxScrollLeft,\n      top: me.__maxScrollTop\n    };\n  },\n\n  /**\n   * Zooms to the given level. Supports optional animation. Zooms\n   * the center when no coordinates are given.\n   *\n   * @param level {Number} Level to zoom to\n   * @param animate {Boolean ? false} Whether to use animation\n   * @param originLeft {Number ? null} Zoom in at given left coordinate\n   * @param originTop {Number ? null} Zoom in at given top coordinate\n   * @param callback {Function ? null} A callback that gets fired when the zoom is complete.\n   */\n  zoomTo: function(level, animate, originLeft, originTop, callback) {\n    const me = this;\n\n    if (!me.options.zooming) {\n      throw new Error('Zooming is not enabled!');\n    }\n\n    // Add callback if exists\n    if (callback) {\n      me.__zoomComplete = callback;\n    }\n\n    // Stop deceleration\n    if (me.__isDecelerating) {\n      Animate.stop(me.__isDecelerating);\n      me.__isDecelerating = false;\n    }\n\n    const oldLevel = me.__zoomLevel;\n\n    // Normalize input origin to center of viewport if not defined\n    if (originLeft == null) {\n      originLeft = me.__clientWidth / 2;\n    }\n\n    if (originTop == null) {\n      originTop = me.__clientHeight / 2;\n    }\n\n    // Limit level according to configuration\n    level = Math.max(Math.min(level, me.options.maxZoom), me.options.minZoom);\n\n    // Recompute maximum values while temporary tweaking maximum scroll ranges\n    me.__computeScrollMax(level);\n\n    // Recompute left and top coordinates based on new zoom level\n    let left = (originLeft + me.__scrollLeft) * level / oldLevel - originLeft;\n    let top = (originTop + me.__scrollTop) * level / oldLevel - originTop;\n\n    // Limit x-axis\n    if (left > me.__maxScrollLeft) {\n      left = me.__maxScrollLeft;\n    } else if (left < 0) {\n      left = 0;\n    }\n\n    // Limit y-axis\n    if (top > me.__maxScrollTop) {\n      top = me.__maxScrollTop;\n    } else if (top < 0) {\n      top = 0;\n    }\n\n    // Push values out\n    me.__publish(left, top, level, animate);\n  },\n\n  /**\n   * Zooms the content by the given factor.\n   *\n   * @param factor {Number} Zoom by given factor\n   * @param animate {Boolean ? false} Whether to use animation\n   * @param originLeft {Number ? 0} Zoom in at given left coordinate\n   * @param originTop {Number ? 0} Zoom in at given top coordinate\n   * @param callback {Function ? null} A callback that gets fired when the zoom is complete.\n   */\n  zoomBy: function(factor, animate, originLeft, originTop, callback) {\n    const me = this;\n\n    me.zoomTo(me.__zoomLevel * factor, animate, originLeft, originTop, callback);\n  },\n\n  /**\n   * Scrolls to the given position. Respect limitations and snapping automatically.\n   *\n   * @param left {Number?null} Horizontal scroll position, keeps current if value is <code>null</code>\n   * @param top {Number?null} Vertical scroll position, keeps current if value is <code>null</code>\n   * @param animate {Boolean?false} Whether the scrolling should happen using an animation\n   * @param zoom {Number?null} Zoom level to go to\n   */\n  scrollTo: function(left, top, animate, zoom) {\n    const me = this;\n\n    // Stop deceleration\n    if (me.__isDecelerating) {\n      Animate.stop(me.__isDecelerating);\n      me.__isDecelerating = false;\n    }\n\n    // Correct coordinates based on new zoom level\n    if (zoom != null && zoom !== me.__zoomLevel) {\n      if (!me.options.zooming) {\n        throw new Error('Zooming is not enabled!');\n      }\n\n      left *= zoom;\n      top *= zoom;\n\n      // Recompute maximum values while temporary tweaking maximum scroll ranges\n      me.__computeScrollMax(zoom);\n    } else {\n      // Keep zoom when not defined\n      zoom = me.__zoomLevel;\n    }\n\n    if (!me.options.scrollingX) {\n      left = me.__scrollLeft;\n    } else if (me.options.paging) {\n      left = Math.round(left / me.__clientWidth) * me.__clientWidth;\n    } else if (me.options.snapping) {\n      left = Math.round(left / me.__snapWidth) * me.__snapWidth;\n    }\n\n    if (!me.options.scrollingY) {\n      top = me.__scrollTop;\n    } else if (me.options.paging) {\n      top = Math.round(top / me.__clientHeight) * me.__clientHeight;\n    } else if (me.options.snapping) {\n      top = Math.round(top / me.__snapHeight) * me.__snapHeight;\n    }\n\n    // Limit for allowed ranges\n    left = Math.max(Math.min(me.__maxScrollLeft, left), 0);\n    top = Math.max(Math.min(me.__maxScrollTop, top), 0);\n\n    // Don't animate when no change detected, still call publish to make sure\n    // that rendered position is really in-sync with internal data\n    if (left === me.__scrollLeft && top === me.__scrollTop) {\n      animate = false;\n    }\n\n    // Publish new values\n    if (!me.__isTracking) {\n      me.__publish(left, top, zoom, animate);\n    }\n  },\n\n  /**\n   * Scroll by the given offset\n   *\n   * @param left {Number ? 0} Scroll x-axis by given offset\n   * @param top {Number ? 0} Scroll x-axis by given offset\n   * @param animate {Boolean ? false} Whether to animate the given change\n   */\n  scrollBy: function(left, top, animate) {\n    const me = this;\n\n    const startLeft = me.__isAnimating ? me.__scheduledLeft : me.__scrollLeft;\n    const startTop = me.__isAnimating ? me.__scheduledTop : me.__scrollTop;\n\n    me.scrollTo(startLeft + (left || 0), startTop + (top || 0), animate);\n  },\n\n  /*\n    ---------------------------------------------------------------------------\n        EVENT CALLBACKS\n    ---------------------------------------------------------------------------\n    */\n\n  /**\n   * Mouse wheel handler for zooming support\n   */\n  doMouseZoom: function(wheelDelta, timeStamp, pageX, pageY) {\n    const me = this;\n    const change = wheelDelta > 0 ? 0.97 : 1.03;\n\n    return me.zoomTo(me.__zoomLevel * change, false, pageX - me.__clientLeft, pageY - me.__clientTop);\n  },\n\n  /**\n   * Touch start handler for scrolling support\n   */\n  doTouchStart: function(touches, timeStamp) {\n    // Array-like check is enough here\n    if (touches.length == null) {\n      throw new Error(`Invalid touch list: ${touches}`);\n    }\n\n    if (timeStamp instanceof Date) {\n      timeStamp = timeStamp.valueOf();\n    }\n    if (typeof timeStamp !== 'number') {\n      throw new Error(`Invalid timestamp value: ${timeStamp}`);\n    }\n\n    const me = this;\n\n    // Reset interruptedAnimation flag\n    me.__interruptedAnimation = true;\n\n    // Stop deceleration\n    if (me.__isDecelerating) {\n      Animate.stop(me.__isDecelerating);\n      me.__isDecelerating = false;\n      me.__interruptedAnimation = true;\n    }\n\n    // Stop animation\n    if (me.__isAnimating) {\n      Animate.stop(me.__isAnimating);\n      me.__isAnimating = false;\n      me.__interruptedAnimation = true;\n    }\n\n    // Use center point when dealing with two fingers\n    let currentTouchLeft;\n    let currentTouchTop;\n    const isSingleTouch = touches.length === 1;\n    if (isSingleTouch) {\n      currentTouchLeft = touches[0].pageX;\n      currentTouchTop = touches[0].pageY;\n    } else {\n      currentTouchLeft = Math.abs(touches[0].pageX + touches[1].pageX) / 2;\n      currentTouchTop = Math.abs(touches[0].pageY + touches[1].pageY) / 2;\n    }\n\n    // Store initial positions\n    me.__initialTouchLeft = currentTouchLeft;\n    me.__initialTouchTop = currentTouchTop;\n\n    // Store current zoom level\n    me.__zoomLevelStart = me.__zoomLevel;\n\n    // Store initial touch positions\n    me.__lastTouchLeft = currentTouchLeft;\n    me.__lastTouchTop = currentTouchTop;\n\n    // Store initial move time stamp\n    me.__lastTouchMove = timeStamp;\n\n    // Reset initial scale\n    me.__lastScale = 1;\n\n    // Reset locking flags\n    me.__enableScrollX = !isSingleTouch && me.options.scrollingX;\n    me.__enableScrollY = !isSingleTouch && me.options.scrollingY;\n\n    // Reset tracking flag\n    me.__isTracking = true;\n\n    // Reset deceleration complete flag\n    me.__didDecelerationComplete = false;\n\n    // Dragging starts directly with two fingers, otherwise lazy with an offset\n    me.__isDragging = !isSingleTouch;\n\n    // Some features are disabled in multi touch scenarios\n    me.__isSingleTouch = isSingleTouch;\n\n    // Clearing data structure\n    me.__positions = [];\n  },\n\n  /**\n   * Touch move handler for scrolling support\n   */\n  doTouchMove: function(touches, timeStamp, scale) {\n    // Array-like check is enough here\n    if (touches.length == null) {\n      throw new Error(`Invalid touch list: ${touches}`);\n    }\n\n    if (timeStamp instanceof Date) {\n      timeStamp = timeStamp.valueOf();\n    }\n    if (typeof timeStamp !== 'number') {\n      throw new Error(`Invalid timestamp value: ${timeStamp}`);\n    }\n\n    const me = this;\n\n    // Ignore event when tracking is not enabled (event might be outside of element)\n    if (!me.__isTracking) {\n      return;\n    }\n\n    let currentTouchLeft;\n    let currentTouchTop;\n\n    // Compute move based around of center of fingers\n    if (touches.length === 2) {\n      currentTouchLeft = Math.abs(touches[0].pageX + touches[1].pageX) / 2;\n      currentTouchTop = Math.abs(touches[0].pageY + touches[1].pageY) / 2;\n    } else {\n      currentTouchLeft = touches[0].pageX;\n      currentTouchTop = touches[0].pageY;\n    }\n\n    const positions = me.__positions;\n\n    // Are we already is dragging mode?\n    if (me.__isDragging) {\n      // Compute move distance\n      const moveX = currentTouchLeft - me.__lastTouchLeft;\n      const moveY = currentTouchTop - me.__lastTouchTop;\n\n      // Read previous scroll position and zooming\n      let scrollLeft = me.__scrollLeft;\n      let scrollTop = me.__scrollTop;\n      let level = me.__zoomLevel;\n\n      // Work with scaling\n      if (scale != null && me.options.zooming) {\n        const oldLevel = level;\n\n        // Recompute level based on previous scale and new scale\n        level = level / me.__lastScale * scale;\n\n        // Limit level according to configuration\n        level = Math.max(Math.min(level, me.options.maxZoom), me.options.minZoom);\n\n        // Only do further compution when change happened\n        if (oldLevel !== level) {\n          // Compute relative event position to container\n          const currentTouchLeftRel = currentTouchLeft - me.__clientLeft;\n          const currentTouchTopRel = currentTouchTop - me.__clientTop;\n\n          // Recompute left and top coordinates based on new zoom level\n          scrollLeft = (currentTouchLeftRel + scrollLeft) * level / oldLevel - currentTouchLeftRel;\n          scrollTop = (currentTouchTopRel + scrollTop) * level / oldLevel - currentTouchTopRel;\n\n          // Recompute max scroll values\n          me.__computeScrollMax(level);\n        }\n      }\n\n      if (me.__enableScrollX) {\n        scrollLeft -= moveX * this.options.speedMultiplier;\n        const maxScrollLeft = me.__maxScrollLeft;\n\n        if (scrollLeft > maxScrollLeft || scrollLeft < 0) {\n          // Slow down on the edges\n          if (me.options.bouncing) {\n            scrollLeft += moveX / 2 * this.options.speedMultiplier;\n          } else if (scrollLeft > maxScrollLeft) {\n            scrollLeft = maxScrollLeft;\n          } else {\n            scrollLeft = 0;\n          }\n        }\n      }\n\n      // Compute new vertical scroll position\n      if (me.__enableScrollY) {\n        scrollTop -= moveY * this.options.speedMultiplier;\n        const maxScrollTop = me.__maxScrollTop;\n\n        if (scrollTop > maxScrollTop || scrollTop < 0) {\n          // Slow down on the edges\n          if (me.options.bouncing) {\n            scrollTop += moveY / 2 * this.options.speedMultiplier;\n\n            // Support pull-to-refresh (only when only y is scrollable)\n            if (!me.__enableScrollX && me.__refreshHeight != null) {\n              if (!me.__refreshActive && scrollTop <= -me.__refreshHeight) {\n                me.__refreshActive = true;\n                if (me.__refreshActivate) {\n                  me.__refreshActivate();\n                }\n              } else if (me.__refreshActive && scrollTop > -me.__refreshHeight) {\n                me.__refreshActive = false;\n                if (me.__refreshDeactivate) {\n                  me.__refreshDeactivate();\n                }\n              }\n            }\n          } else if (scrollTop > maxScrollTop) {\n            scrollTop = maxScrollTop;\n          } else {\n            scrollTop = 0;\n          }\n        }\n      }\n\n      // Keep list from growing infinitely (holding min 10, max 20 measure points)\n      if (positions.length > 60) {\n        positions.splice(0, 30);\n      }\n\n      // Track scroll movement for decleration\n      positions.push(scrollLeft, scrollTop, timeStamp);\n\n      // Sync scroll position\n      me.__publish(scrollLeft, scrollTop, level);\n\n      // Otherwise figure out whether we are switching into dragging mode now.\n    } else {\n      const minimumTrackingForScroll = me.options.locking ? 3 : 0;\n      const minimumTrackingForDrag = 5;\n\n      const distanceX = Math.abs(currentTouchLeft - me.__initialTouchLeft);\n      const distanceY = Math.abs(currentTouchTop - me.__initialTouchTop);\n\n      me.__enableScrollX = me.options.scrollingX && distanceX >= minimumTrackingForScroll;\n      me.__enableScrollY = me.options.scrollingY && distanceY >= minimumTrackingForScroll;\n\n      positions.push(me.__scrollLeft, me.__scrollTop, timeStamp);\n\n      me.__isDragging =\n        (me.__enableScrollX || me.__enableScrollY) &&\n        (distanceX >= minimumTrackingForDrag || distanceY >= minimumTrackingForDrag);\n      if (me.__isDragging) {\n        me.__interruptedAnimation = false;\n      }\n    }\n\n    // Update last touch positions and time stamp for next event\n    me.__lastTouchLeft = currentTouchLeft;\n    me.__lastTouchTop = currentTouchTop;\n    me.__lastTouchMove = timeStamp;\n    me.__lastScale = scale;\n  },\n\n  /**\n   * Touch end handler for scrolling support\n   */\n  doTouchEnd: function(timeStamp) {\n    if (timeStamp instanceof Date) {\n      timeStamp = timeStamp.valueOf();\n    }\n    if (typeof timeStamp !== 'number') {\n      throw new Error(`Invalid timestamp value: ${timeStamp}`);\n    }\n\n    const me = this;\n\n    // Ignore event when tracking is not enabled (no touchstart event on element)\n    // This is required as this listener ('touchmove') sits on the document and not on the element itme.\n    if (!me.__isTracking) {\n      return;\n    }\n\n    // Not touching anymore (when two finger hit the screen there are two touch end events)\n    me.__isTracking = false;\n\n    // Be sure to reset the dragging flag now. Here we also detect whether\n    // the finger has moved fast enough to switch into a deceleration animation.\n    if (me.__isDragging) {\n      // Reset dragging flag\n      me.__isDragging = false;\n\n      // Start deceleration\n      // Verify that the last move detected was in some relevant time frame\n      if (me.__isSingleTouch && me.options.animating && timeStamp - me.__lastTouchMove <= 100) {\n        // Then figure out what the scroll position was about 100ms ago\n        const positions = me.__positions;\n        const endPos = positions.length - 1;\n        let startPos = endPos;\n\n        // Move pointer to position measured 100ms ago\n        for (let i = endPos; i > 0 && positions[i] > me.__lastTouchMove - 100; i -= 3) {\n          startPos = i;\n        }\n\n        // If start and stop position is identical in a 100ms timeframe,\n        // we cannot compute any useful deceleration.\n        if (startPos !== endPos) {\n          // Compute relative movement between these two points\n          const timeOffset = positions[endPos] - positions[startPos];\n          const movedLeft = me.__scrollLeft - positions[startPos - 2];\n          const movedTop = me.__scrollTop - positions[startPos - 1];\n\n          // Based on 50ms compute the movement to apply for each render step\n          me.__decelerationVelocityX = movedLeft / timeOffset * (1000 / 60);\n          me.__decelerationVelocityY = movedTop / timeOffset * (1000 / 60);\n\n          // How much velocity is required to start the deceleration\n          const minVelocityToStartDeceleration = me.options.paging || me.options.snapping ? 4 : 1;\n\n          // Verify that we have enough velocity to start deceleration\n          if (\n            Math.abs(me.__decelerationVelocityX) > minVelocityToStartDeceleration ||\n            Math.abs(me.__decelerationVelocityY) > minVelocityToStartDeceleration\n          ) {\n            // Deactivate pull-to-refresh when decelerating\n            if (!me.__refreshActive) {\n              me.__startDeceleration(timeStamp);\n            }\n          } else {\n            me.options.scrollingComplete();\n          }\n        } else {\n          me.options.scrollingComplete();\n        }\n      } else if (timeStamp - me.__lastTouchMove > 100) {\n        me.options.scrollingComplete();\n      }\n    }\n\n    // If this was a slower move it is per default non decelerated, but this\n    // still means that we want snap back to the bounds which is done here.\n    // This is placed outside the condition above to improve edge case stability\n    // e.g. touchend fired without enabled dragging. This should normally do not\n    // have modified the scroll positions or even showed the scrollbars though.\n    if (!me.__isDecelerating) {\n      if (me.__refreshActive && me.__refreshStart) {\n        // Use publish instead of scrollTo to allow scrolling to out of boundary position\n        // We don't need to normalize scrollLeft, zoomLevel, etc. here because we only y-scrolling when pull-to-refresh is enabled\n        me.__publish(me.__scrollLeft, -me.__refreshHeight, me.__zoomLevel, true);\n\n        if (me.__refreshStart) {\n          me.__refreshStart();\n        }\n      } else {\n        if (me.__interruptedAnimation || me.__isDragging) {\n          me.options.scrollingComplete();\n        }\n        me.scrollTo(me.__scrollLeft, me.__scrollTop, true, me.__zoomLevel);\n\n        // Directly signalize deactivation (nothing todo on refresh?)\n        if (me.__refreshActive) {\n          me.__refreshActive = false;\n          if (me.__refreshDeactivate) {\n            me.__refreshDeactivate();\n          }\n        }\n      }\n    }\n\n    // Fully cleanup list\n    me.__positions.length = 0;\n  },\n\n  /*\n    ---------------------------------------------------------------------------\n        PRIVATE API\n    ---------------------------------------------------------------------------\n    */\n\n  /**\n   * Applies the scroll position to the content element\n   *\n   * @param left {Number} Left scroll position\n   * @param top {Number} Top scroll position\n   * @param animate {Boolean?false} Whether animation should be used to move to the new coordinates\n   */\n  __publish: function(left, top, zoom, animate) {\n    const me = this;\n\n    // Remember whether we had an animation, then we try to continue based on the current \"drive\" of the animation\n    const wasAnimating = me.__isAnimating;\n    if (wasAnimating) {\n      Animate.stop(wasAnimating);\n      me.__isAnimating = false;\n    }\n\n    if (animate && me.options.animating) {\n      // Keep scheduled positions for scrollBy/zoomBy functionality\n      me.__scheduledLeft = left;\n      me.__scheduledTop = top;\n      me.__scheduledZoom = zoom;\n\n      const oldLeft = me.__scrollLeft;\n      const oldTop = me.__scrollTop;\n      const oldZoom = me.__zoomLevel;\n\n      const diffLeft = left - oldLeft;\n      const diffTop = top - oldTop;\n      const diffZoom = zoom - oldZoom;\n\n      const step = function(percent, now, render) {\n        if (render) {\n          me.__scrollLeft = oldLeft + diffLeft * percent;\n          me.__scrollTop = oldTop + diffTop * percent;\n          me.__zoomLevel = oldZoom + diffZoom * percent;\n\n          // Push values out\n          if (me.__callback) {\n            me.__callback(me.__scrollLeft, me.__scrollTop, me.__zoomLevel);\n          }\n        }\n      };\n\n      const verify = function(id) {\n        return me.__isAnimating === id;\n      };\n\n      const completed = function(renderedFramesPerSecond, animationId, wasFinished) {\n        if (animationId === me.__isAnimating) {\n          me.__isAnimating = false;\n        }\n        if (me.__didDecelerationComplete || wasFinished) {\n          me.options.scrollingComplete();\n        }\n\n        if (me.options.zooming) {\n          me.__computeScrollMax();\n          if (me.__zoomComplete) {\n            me.__zoomComplete();\n            me.__zoomComplete = null;\n          }\n        }\n      };\n\n      // When continuing based on previous animation we choose an ease-out animation instead of ease-in-out\n      me.__isAnimating = Animate.start(\n        step,\n        verify,\n        completed,\n        me.options.animationDuration,\n        wasAnimating ? easeOutCubic : easeInOutCubic\n      );\n    } else {\n      me.__scheduledLeft = me.__scrollLeft = left;\n      me.__scheduledTop = me.__scrollTop = top;\n      me.__scheduledZoom = me.__zoomLevel = zoom;\n\n      // Push values out\n      if (me.__callback) {\n        me.__callback(left, top, zoom);\n      }\n\n      // Fix max scroll ranges\n      if (me.options.zooming) {\n        me.__computeScrollMax();\n        if (me.__zoomComplete) {\n          me.__zoomComplete();\n          me.__zoomComplete = null;\n        }\n      }\n    }\n  },\n\n  /**\n   * Recomputes scroll minimum values based on client dimensions and content dimensions.\n   */\n  __computeScrollMax: function(zoomLevel) {\n    const me = this;\n\n    if (zoomLevel == null) {\n      zoomLevel = me.__zoomLevel;\n    }\n\n    me.__maxScrollLeft = Math.max(me.__contentWidth * zoomLevel - me.__clientWidth, 0);\n    me.__maxScrollTop = Math.max(me.__contentHeight * zoomLevel - me.__clientHeight, 0);\n  },\n\n  /*\n    ---------------------------------------------------------------------------\n        ANIMATION (DECELERATION) SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n  /**\n   * Called when a touch sequence end and the speed of the finger was high enough\n   * to switch into deceleration mode.\n   */\n  __startDeceleration: function(timeStamp) {\n    const me = this;\n\n    if (me.options.paging) {\n      const scrollLeft = Math.max(Math.min(me.__scrollLeft, me.__maxScrollLeft), 0);\n      const scrollTop = Math.max(Math.min(me.__scrollTop, me.__maxScrollTop), 0);\n      const clientWidth = me.__clientWidth;\n      const clientHeight = me.__clientHeight;\n\n      // We limit deceleration not to the min/max values of the allowed range, but to the size of the visible client area.\n      // Each page should have exactly the size of the client area.\n      me.__minDecelerationScrollLeft = Math.floor(scrollLeft / clientWidth) * clientWidth;\n      me.__minDecelerationScrollTop = Math.floor(scrollTop / clientHeight) * clientHeight;\n      me.__maxDecelerationScrollLeft = Math.ceil(scrollLeft / clientWidth) * clientWidth;\n      me.__maxDecelerationScrollTop = Math.ceil(scrollTop / clientHeight) * clientHeight;\n    } else {\n      me.__minDecelerationScrollLeft = 0;\n      me.__minDecelerationScrollTop = 0;\n      me.__maxDecelerationScrollLeft = me.__maxScrollLeft;\n      me.__maxDecelerationScrollTop = me.__maxScrollTop;\n    }\n\n    // Wrap class method\n    const step = function(percent, now, render) {\n      me.__stepThroughDeceleration(render);\n    };\n\n    // How much velocity is required to keep the deceleration running\n    const minVelocityToKeepDecelerating = me.options.snapping ? 4 : 0.001;\n\n    // Detect whether it's still worth to continue animating steps\n    // If we are already slow enough to not being user perceivable anymore, we stop the whole process here.\n    const verify = function() {\n      const shouldContinue =\n        Math.abs(me.__decelerationVelocityX) >= minVelocityToKeepDecelerating ||\n        Math.abs(me.__decelerationVelocityY) >= minVelocityToKeepDecelerating;\n      if (!shouldContinue) {\n        me.__didDecelerationComplete = true;\n      }\n      return shouldContinue;\n    };\n\n    const completed = function(renderedFramesPerSecond, animationId, wasFinished) {\n      me.__isDecelerating = false;\n      if (me.__didDecelerationComplete) {\n        me.options.scrollingComplete();\n      }\n\n      // Animate to grid when snapping is active, otherwise just fix out-of-boundary positions\n      me.scrollTo(me.__scrollLeft, me.__scrollTop, me.options.snapping);\n    };\n\n    // Start animation and switch on flag\n    me.__isDecelerating = Animate.start(step, verify, completed);\n  },\n\n  /**\n   * Called on every step of the animation\n   *\n   * @param inMemory {Boolean?false} Whether to not render the current step, but keep it in memory only. Used internally only!\n   */\n  __stepThroughDeceleration: function(render) {\n    const me = this;\n\n    //\n    // COMPUTE NEXT SCROLL POSITION\n    //\n\n    // Add deceleration to scroll position\n    let scrollLeft = me.__scrollLeft + me.__decelerationVelocityX;\n    let scrollTop = me.__scrollTop + me.__decelerationVelocityY;\n\n    //\n    // HARD LIMIT SCROLL POSITION FOR NON BOUNCING MODE\n    //\n\n    if (!me.options.bouncing) {\n      const scrollLeftFixed = Math.max(\n        Math.min(me.__maxDecelerationScrollLeft, scrollLeft),\n        me.__minDecelerationScrollLeft\n      );\n      if (scrollLeftFixed !== scrollLeft) {\n        scrollLeft = scrollLeftFixed;\n        me.__decelerationVelocityX = 0;\n      }\n\n      const scrollTopFixed = Math.max(\n        Math.min(me.__maxDecelerationScrollTop, scrollTop),\n        me.__minDecelerationScrollTop\n      );\n      if (scrollTopFixed !== scrollTop) {\n        scrollTop = scrollTopFixed;\n        me.__decelerationVelocityY = 0;\n      }\n    }\n\n    //\n    // UPDATE SCROLL POSITION\n    //\n\n    if (render) {\n      me.__publish(scrollLeft, scrollTop, me.__zoomLevel);\n    } else {\n      me.__scrollLeft = scrollLeft;\n      me.__scrollTop = scrollTop;\n    }\n\n    //\n    // SLOW DOWN\n    //\n\n    // Slow down velocity on every iteration\n    if (!me.options.paging) {\n      // This is the factor applied to every iteration of the animation\n      // to slow down the process. This should emulate natural behavior where\n      // objects slow down when the initiator of the movement is removed\n      const frictionFactor = 0.95;\n\n      me.__decelerationVelocityX *= frictionFactor;\n      me.__decelerationVelocityY *= frictionFactor;\n    }\n\n    //\n    // BOUNCING SUPPORT\n    //\n\n    if (me.options.bouncing) {\n      let scrollOutsideX = 0;\n      let scrollOutsideY = 0;\n\n      // This configures the amount of change applied to deceleration/acceleration when reaching boundaries\n      const { penetrationDeceleration, penetrationAcceleration } = me.options;\n\n      // Check limits\n      if (scrollLeft < me.__minDecelerationScrollLeft) {\n        scrollOutsideX = me.__minDecelerationScrollLeft - scrollLeft;\n      } else if (scrollLeft > me.__maxDecelerationScrollLeft) {\n        scrollOutsideX = me.__maxDecelerationScrollLeft - scrollLeft;\n      }\n\n      if (scrollTop < me.__minDecelerationScrollTop) {\n        scrollOutsideY = me.__minDecelerationScrollTop - scrollTop;\n      } else if (scrollTop > me.__maxDecelerationScrollTop) {\n        scrollOutsideY = me.__maxDecelerationScrollTop - scrollTop;\n      }\n\n      // Slow down until slow enough, then flip back to snap position\n      if (scrollOutsideX !== 0) {\n        if (scrollOutsideX * me.__decelerationVelocityX <= 0) {\n          me.__decelerationVelocityX += scrollOutsideX * penetrationDeceleration;\n        } else {\n          me.__decelerationVelocityX = scrollOutsideX * penetrationAcceleration;\n        }\n      }\n\n      if (scrollOutsideY !== 0) {\n        if (scrollOutsideY * me.__decelerationVelocityY <= 0) {\n          me.__decelerationVelocityY += scrollOutsideY * penetrationDeceleration;\n        } else {\n          me.__decelerationVelocityY = scrollOutsideY * penetrationAcceleration;\n        }\n      }\n    }\n  }\n};\n\n// Copy over members to prototype\nfor (const key in members) {\n  if (Object.prototype.hasOwnProperty.call(members, key)) {\n    Scroller.prototype[key] = members[key];\n  }\n}\nexport default Scroller;\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/util/scroller.js","'use strict';\nconst time =\n  Date.now ||\n  function() {\n    return +new Date();\n  };\nconst desiredFrames = 60;\nconst millisecondsPerSecond = 1000;\nlet running = {};\nlet counter = 1;\n\nconst Animate = {\n  /**\n   * A requestAnimationFrame wrapper / polyfill.\n   *\n   * @param callback {Function} The callback to be invoked before the next repaint.\n   * @param root {HTMLElement} The root element for the repaint\n   */\n  requestAnimationFrame: (function() {\n    // Check for request animation Frame support\n    const requestFrame =\n      window.requestAnimationFrame ||\n      window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.oRequestAnimationFrame;\n    let isNative = !!requestFrame;\n\n    if (requestFrame && !/requestAnimationFrame\\(\\)\\s*\\{\\s*\\[native code\\]\\s*\\}/i.test(requestFrame.toString())) {\n      isNative = false;\n    }\n\n    if (isNative) {\n      return function(callback, root) {\n        requestFrame(callback, root);\n      };\n    }\n\n    const TARGET_FPS = 60;\n    let requests = {};\n    let requestCount = 0;\n    let rafHandle = 1;\n    let intervalHandle = null;\n    let lastActive = +new Date();\n\n    return function(callback, root) {\n      const callbackHandle = rafHandle++;\n\n      // Store callback\n      requests[callbackHandle] = callback;\n      requestCount++;\n\n      // Create timeout at first request\n      if (intervalHandle === null) {\n        intervalHandle = setInterval(() => {\n          const now = +new Date();\n          const currentRequests = requests;\n\n          // Reset data structure before executing callbacks\n          requests = {};\n          requestCount = 0;\n\n          for (const key in currentRequests) {\n            if (Object.prototype.hasOwnProperty.call(currentRequests, key)) {\n              currentRequests[key](now);\n              lastActive = now;\n            }\n          }\n\n          // Disable the timeout when nothing happens for a certain\n          // period of time\n          if (now - lastActive > 2500) {\n            clearInterval(intervalHandle);\n            intervalHandle = null;\n          }\n        }, 1000 / TARGET_FPS);\n      }\n\n      return callbackHandle;\n    };\n  })(),\n\n  /**\n   * Stops the given animation.\n   *\n   * @param id {Integer} Unique animation ID\n   * @return {Boolean} Whether the animation was stopped (aka, was running before)\n   */\n  stop: function(id) {\n    const cleared = running[id] != null;\n    if (cleared) {\n      running[id] = null;\n    }\n\n    return cleared;\n  },\n\n  /**\n   * Whether the given animation is still running.\n   *\n   * @param id {Integer} Unique animation ID\n   * @return {Boolean} Whether the animation is still running\n   */\n  isRunning: function(id) {\n    return running[id] != null;\n  },\n\n  /**\n   * Start the animation.\n   *\n   * @param stepCallback {Function} Pointer to function which is executed on every step.\n   *   Signature of the method should be `function(percent, now, virtual) { return continueWithAnimation; }`\n   * @param verifyCallback {Function} Executed before every animation step.\n   *   Signature of the method should be `function() { return continueWithAnimation; }`\n   * @param completedCallback {Function}\n   *   Signature of the method should be `function(droppedFrames, finishedAnimation) {}`\n   * @param duration {Integer} Milliseconds to run the animation\n   * @param easingMethod {Function} Pointer to easing function\n   *   Signature of the method should be `function(percent) { return modifiedValue; }`\n   * @param root {Element ? document.body} Render root, when available. Used for internal\n   *   usage of requestAnimationFrame.\n   * @return {Integer} Identifier of animation. Can be used to stop it any time.\n   */\n  start: function(stepCallback, verifyCallback, completedCallback, duration, easingMethod, root) {\n    const start = time();\n    let lastFrame = start;\n    let percent = 0;\n    let dropCounter = 0;\n    const id = counter++;\n\n    if (!root) {\n      root = document.body;\n    }\n\n    // Compacting running db automatically every few new animations\n    if (id % 20 === 0) {\n      const newRunning = {};\n      for (const usedId in running) {\n        if (Object.prototype.hasOwnProperty.call(running, usedId)) {\n          newRunning[usedId] = true;\n        }\n      }\n      running = newRunning;\n    }\n\n    // This is the internal step method which is called every few milliseconds\n    const step = function(virtual) {\n      // Normalize virtual value\n      const render = virtual !== true;\n\n      // Get current time\n      const now = time();\n\n      // Verification is executed before next animation step\n      if (!running[id] || (verifyCallback && !verifyCallback(id))) {\n        running[id] = null;\n        completedCallback &&\n          completedCallback(desiredFrames - dropCounter / ((now - start) / millisecondsPerSecond), id, false);\n        return;\n      }\n\n      // For the current rendering to apply let's update omitted steps in memory.\n      // This is important to bring internal state variables up-to-date with progress in time.\n      if (render) {\n        const droppedFrames = Math.round((now - lastFrame) / (millisecondsPerSecond / desiredFrames)) - 1;\n        for (let j = 0; j < Math.min(droppedFrames, 4); j++) {\n          step(true);\n          dropCounter++;\n        }\n      }\n\n      // Compute percent value\n      if (duration) {\n        percent = (now - start) / duration;\n        if (percent > 1) {\n          percent = 1;\n        }\n      }\n\n      // Execute step callback, then...\n      const value = easingMethod ? easingMethod(percent) : percent;\n      if ((stepCallback(value, now, render) === false || percent === 1) && render) {\n        running[id] = null;\n        completedCallback &&\n          completedCallback(\n            desiredFrames - dropCounter / ((now - start) / millisecondsPerSecond),\n            id,\n            percent === 1 || duration == null\n          );\n      } else if (render) {\n        lastFrame = now;\n        Animate.requestAnimationFrame(step, root);\n      }\n    };\n\n    // Mark as running\n    running[id] = true;\n\n    // Init first step\n    Animate.requestAnimationFrame(step, root);\n\n    // Return unique animation ID\n    return id;\n  }\n};\nexport default Animate;\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/util/animate.js","const Util = {\n  merge: function(target, ...args) {\n    for (let i = 0, j = args.length; i < j; i++) {\n      const source = args[i] || {};\n      for (const prop in source) {\n        if (Object.prototype.hasOwnProperty.call(source, prop)) {\n          const value = source[prop];\n          if (value !== undefined) {\n            target[prop] = value;\n          }\n        }\n      }\n    }\n    return target;\n  },\n  hasClass: function(el, cls) {\n    if (!el || !cls) {\n      return false;\n    }\n    if (cls.indexOf(' ') !== -1) {\n      throw new Error('className should not contain space.');\n    }\n    if (el.classList) {\n      return el.classList.contains(cls);\n    }\n    return ` ${el.className} `.indexOf(` ${cls} `) > -1;\n  },\n  addClass: function(el, cls) {\n    if (!el) {\n      return;\n    }\n    let curClass = el.className;\n    const classes = (cls || '').split(' ');\n    for (let i = 0, j = classes.length; i < j; i++) {\n      const clsName = classes[i];\n      if (!clsName) {\n        continue;\n      }\n\n      if (el.classList) {\n        el.classList.add(clsName);\n      } else if (!this.hasClass(el, clsName)) {\n        curClass += ` ${clsName}`;\n      }\n    }\n    if (!el.classList) {\n      el.className = curClass;\n    }\n  },\n  removeClass: function(el, cls) {\n    if (!el || !cls) {\n      return;\n    }\n    const classes = cls.split(' ');\n    let curClass = ` ${el.className} `;\n\n    for (let i = 0, j = classes.length; i < j; i++) {\n      const clsName = classes[i];\n      if (!clsName) {\n        continue;\n      }\n\n      if (el.classList) {\n        el.classList.remove(clsName);\n      } else if (this.hasClass(el, clsName)) {\n        curClass = curClass.replace(` ${clsName} `, ' ');\n      }\n    }\n    if (!el.classList) {\n      el.className = String.prototype.trim.call(curClass);\n    }\n  },\n  scrollBarWidth: undefined,\n  getScrollBarWidth: function() {\n    if (this.scrollBarWidth !== undefined) {\n      return this.scrollBarWidth;\n    }\n\n    const outer = document.createElement('div');\n    // outer.className = 'el-scrollbar__wrap';\n    outer.style.visibility = 'hidden';\n    outer.style.width = '100px';\n    outer.style.position = 'absolute';\n    outer.style.top = '-9999px';\n    document.body.appendChild(outer);\n\n    const widthNoScroll = outer.offsetWidth;\n    outer.style.overflow = 'scroll';\n\n    const inner = document.createElement('div');\n    inner.style.width = '100%';\n    outer.appendChild(inner);\n\n    const widthWithScroll = inner.offsetWidth;\n    outer.parentNode.removeChild(outer);\n\n    return widthNoScroll - widthWithScroll;\n  },\n  render: function(tpl, data) {\n    const code = `var p=[];with(this){p.push('${tpl\n      .replace(/[\\r\\t\\n]/g, ' ')\n      .split('<%')\n      .join('\\t')\n      .replace(/((^|%>)[^\\t]*)'/g, '$1\\r')\n      .replace(/\\t=(.*?)%>/g, \"',$1,'\")\n      .split('\\t')\n      .join(\"');\")\n      .split('%>')\n      .join(\"p.push('\")\n      .split('\\r')\n      .join(\"\\\\'\")}');}return p.join('');`;\n    return new Function(code).apply(data);\n  }\n};\nexport default Util;\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/util/index.js"],"sourceRoot":""}